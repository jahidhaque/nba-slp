"use strict";!function(){angular.module("nbaslp",["ngResource","ngRoute"]).config(["$routeProvider","$locationProvider",function(e,l){e.when("/",{templateUrl:"home/welcome/welcome.view.html",controller:"welcomeCtrl",controllerAs:"wvm"}).when("/signup",{templateUrl:"signup/signup.view.html",controller:"signupCtrl",controllerAs:"regvm"}).when("/signin",{templateUrl:"signin/signin.view.html",controller:"signinCtrl",controllerAs:"lvm"}).when("/profile",{templateUrl:"profile/profile.view.html",controller:"profileCtrl",controllerAs:"provm"}).when("/help",{templateUrl:"help/help.view.html",controller:"helpCtrl",controllerAs:"hvm"}).when("/sitecontroll",{templateUrl:"admin/sitecontroll/sitecontroll.view.html",controller:"sitecontrollCtrl",controllerAs:"adSite"}).when("/welcome",{templateUrl:"welcome/welcome.view.html",controller:"welcomeCtrl",controllerAs:"wvm"}).when("/committees",{templateUrl:"committees/committees.view.html",controller:"committeesCtrl",controllerAs:"cvm"}).when("/events",{templateUrl:"events/events.view.html",controller:"eventsCtrl",controllerAs:"evm"}).when("/aboutus",{templateUrl:"aboutus/aboutus.view.html",controller:"aboutusCtrl",controllerAs:"abvm"}).when("/contactus",{templateUrl:"contactus/contactus.view.html",controller:"contactusCtrl",controllerAs:"cvm"}),l.html5Mode({enabled:!0})}])}();
"use strict";function authentication(n,t){var e=function(t){n.localStorage.nbaslp=t},a=function(){return n.localStorage.nbaslp},o=function(){var t=a(),e=void 0;return!!t&&(e=t.split(".")[1],e=n.atob(e),e=JSON.parse(e))};return{currentUser:function(){if(o){var t=a().split(".")[1];return t=n.atob(t),t=JSON.parse(t),{userId:t._id,email:t.email,accountStatus:t.accountStatus,accountType:t.accountType,accountId:t.userId,name:t.name}}return!1},saveToken:e,getToken:a,isLoggedIn:o,signUp:function(n){return t.post("/api/signup",n).success(function(n){e(n.token)})},signIn:function(n){return t.post("/api/signin",n).success(function(n){e(n.token)})},Logout:function(){n.localStorage.removeItem("nbaslp")}}}angular.module("nbaslp").service("authentication",authentication),authentication.$inject=["$window","$http"];
"use strict";!function(){function t(t,e){var n=function(t){return t},a=function(t){return t};return{uploadTellerDocs:function(t,c){var o=new FormData;return o.append("tellerDoc",t),e.post("/api/docupload/"+c,o,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(n).catch(a)},createActivationCode:function(t){return e.post("/api/"+t+"/generatevalidationcode").then(n).catch(a)},validateActivationCode:function(t,c){return e.post("/api/"+t+"/"+c+"/validate").then(n).catch(a)},getAccountStatuses:function(t){return e.get("/api/"+t+"/statuses").then(n).catch(a)},updateUserStatus:function(t){return e.post("/api/userstatus",t).then(n).catch(a)},saveBasicInfo:function(t){return e.post("/api/createbasicprofile",t).then(n).catch(a)},saveBranchInfo:function(t,c){return e.post("/api/"+t+"/savebranchinfo",c).then(n).catch(a)},loadUserInfo:function(t,c){return e.get("/api/"+c+"/"+t+"/userinfo").then(n).catch(a)},getCommittee:function(){return e.get("/api/showcommittee").then(n).catch(a)},saveBankTeller:function(t){return e.post("/api/savebankteller",t).then(n).catch(a)}}}angular.module("nbaslp").service("account",t),t.$inject=["$window","$http"]}();
"use strict";!function(){function t(t){var e=function(t){return t},n=function(t){return t};return{addPreferredCommittee:function(r){return t.post("/api/createcommittee",r).then(e).catch(n)},showAllCommittee:function(){return t.get("/api/showcommittee").then(e).catch(n)},removeCommittee:function(r){return t.delete("/api/"+r+"/removecommittee").then(e).catch(n)}}}angular.module("nbaslp").service("sitecontroller",t),t.$inject=["$http"]}();
"use strict";!function(){angular.module("nbaslp").directive("siteNav",function(){return{restrict:"EA",templateUrl:"common/directives/nav/site-nav.template.html",controller:"navCtrl as nvm"}})}();
"use strict";!function(){function n(n,t){n.isLoggedIn()?(this.loggedInUri=!0,this.loggedInName=n.currentUser().name,this.currentAccountType=n.currentUser().accountType):this.loggedInUri=!1,this.logout=function(){n.Logout(),t.path("/signin")}}angular.module("nbaslp").controller("navCtrl",n),n.$inject=["authentication","$location"]}();
"use strict";!function(){angular.module("nbaslp").directive("siteFooter",function(){return{restrict:"EA",templateUrl:"common/directives/footer/footer.template.html"}})}();
"use strict";!function(){function n(n){return{restrict:"A",link:function(i,e,t){var c=n(t.fileModel).assign;e.on("change",function(){i.$apply(function(){c(i,e[0].files[0])})})}}}angular.module("nbaslp").directive("fileModel",n),n.$inject=["$parse"]}();
"use strict";!function(){angular.module("nbaslp").controller("welcomeCtrl",function(){})}();
"use strict";!function(){angular.module("nbaslp").controller("committeesCtrl",function(){})}();
"use strict";!function(){angular.module("nbaslp").controller("eventsCtrl",function(){})}();
"use strict";!function(){angular.module("nbaslp").controller("aboutusCtrl",function(){})}();
"use strict";!function(){angular.module("nbaslp").controller("contactusCtrl",function(){})}();
"use strict";!function(){function r(r,t){var o=this;o.user={firstName:"",lastName:"",displayName:"",email:"",password:"",confirmPassword:""},o.register=function(){r.signUp(o.user).then(function(r){r.data.error?(o.RegistrationError=!0,o.RegistrationErrorMsg=r.data.error):(o.RegistrationError=!1,t.path("/welcome"))}).catch(function(r){r&&(o.RegistrationError=!0,o.RegistrationErrorMsg=r.data.error)})},r.isLoggedIn()&&t.path("/welcome")}angular.module("nbaslp").controller("signupCtrl",r),r.$inject=["authentication","$location"]}();
"use strict";!function(){function r(r,o){var n=this;n.user={email:"",password:""},r.isLoggedIn()?o.path("/welcome"):(n.login=function(){n.user.email&&n.user.password?(n.loginError=!1,n.doLogin()):(n.loginError=!0,n.loginErrorMsg="Error! all * fields are required")},n.doLogin=function(){r.signIn(n.user).error(function(r){n.loginError=!0,n.loginErrorMsg=r.error}).then(function(){o.path("/welcome")})})}angular.module("nbaslp").controller("signinCtrl",r),r.$inject=["authentication","$location"]}();
"use strict";!function(){function r(r,e,t,a,o){function n(r){a.updateUserStatus(r).then(function(r){!0===r.data.updated?(c.statusUpdateError=!1,o.reload()):(c.basicAccountInfoError=!0,c.basicAccountInfoErrorMsg=r.data.error)}).catch(function(r){c.statusUpdateError=!0,c.basicAccountInfoErrorMsg=r})}var c=this;e.isLoggedIn()?(c.currentAccountType=e.currentUser().accountType,"customer"===e.currentUser().accountType?(c.profileStatus=e.currentUser().accountStatus,c.codeReady=!1,c.sendActivationCode=function(){c.codeReady=!0,a.createActivationCode(e.currentUser().email).then(function(r){if(r.data.error)c.activationCodeError=!0,c.activationCodeErrorMsg=r.data.error;else{n({update_at:"profileActivationMail",email:e.currentUser().email,status:!0}),c.codeReady=!1,c.activationCodeError=!1}}).catch(function(r){c.activationCodeError=!0,c.activationCodeErrorMsg=r})},c.getProfileStatuses=function(){a.getAccountStatuses(e.currentUser().email).then(function(r){r.data.error?(c.statusLoadError=!0,c.statusLoadErrorMsg=r.data.error):(c.statusLoadError=!1,c.userStatuses=r.data.statuses)}).catch(function(r){c.statusLoadError=!0,c.statusLoadErrorMsg=r})},c.basicProfile={whos:e.currentUser().email,userId:e.currentUser().userId,formerName:"",sex:"",tele:"",address:""},c.saveBasicInfo=function(){a.saveBasicInfo(c.basicProfile).then(function(r){if(r.data.error)c.basicAccountInfoError=!0,c.basicAccountInfoErrorMsg=r.data.error;else{var t={update_at:"basic_info",email:e.currentUser().email,status:!0};a.updateUserStatus(t).then(function(r){!0===r.data.updated?(c.statusUpdateError=!1,o.reload()):(c.basicAccountInfoError=!0,c.basicAccountInfoErrorMsg=r.data.error)}).catch(function(r){c.statusUpdateError=!0,c.basicAccountInfoErrorMsg=r})}}).catch(function(r){})},c.branch={year:"",branch:""},c.saveBatchInfo=function(){a.saveBranchInfo(e.currentUser().email,c.branch).then(function(r){if(r.data.error)c.branchInfoError=!0,c.branchInfoErrorMsg=r.data.error;else if(r.data.success){c.branchInfoError=!1;var t={update_at:"branch",email:e.currentUser().email,status:!0};a.updateUserStatus(t).then(function(r){!0===r.data.updated?(c.branchInfoError=!1,o.reload()):(c.branchInfoError=!0,c.branchInfoErrorMsg=r.data.error)}).catch(function(r){c.branchInfoError=!0,c.branchInfoErrorMsg=r})}}).catch(function(r){c.branchInfoError=!0,c.branchInfoErrorMsg=r})},c.loadBasicInfo=function(r){a.loadUserInfo(r,e.currentUser().email).then(function(r){r.data.error?(c.userBasicInfoLoadingError=!0,c.userBasicInfoLoadingErrorMsg=r.data.error):(c.userBasicInfoLoadingError=!1,c.basicInfo=r.data.userInfo)}).catch(function(r){c.userBasicInfoLoadingError=!0,c.userBasicInfoLoadingErrorMsg=r})},c.getCommittee=function(){a.getCommittee().then(function(r){c.committees=r.data.committee}).catch(function(r){console.log(r)})},c.loadUserBranch=function(r){a.loadUserInfo(r,e.currentUser().email).then(function(r){r.data.error?(c.userInfoLoadingError=!0,c.userInfoLoadingErrorMsg=r.data.error):(c.userInfoLoadingError=!1,c.branchInfo=r.data.userInfo)}).catch(function(r){c.userInfoLoadingError=!0,c.userInfoLoadingErrorMsg=r})},c.activation={code:""},c.activeProfile=function(){a.validateActivationCode(e.currentUser().email,c.activation.code).then(function(r){r.data.error?(c.ActivationError=!0,c.ActivationErrorMsg=r.data.error):r.data.success&&(c.activationSuccess=!0,setTimeout(function(){e.Logout(),o.reload()},3e3))}).catch(function(r){c.ActivationError=!0,c.ActivationErrorMsg=r})},c.bankTellerInfo={preferredCommittee:"",additional_committee:"",whos:e.currentUser().email,userId:e.currentUser().accountId,tellerDoc:r.tellerDoc},c.saveBankTellerInfo=function(){c.bankTellerInfo.preferredCommittee&&c.bankTellerInfo.additional_committee?a.uploadTellerDocs(r.tellerDoc,e.currentUser().accountId).then(function(r){!1===r.data.success?(c.saveTellerError=!0,c.saveTellerErrorMsg=r.data.error):!0===r.data.success&&(c.bankTellerInfo.tellerDoc=r.data.docLocation,a.saveBankTeller(c.bankTellerInfo).then(function(r){if(r.data.error)c.saveTellerError=!0,c.saveTellerErrorMsg=r.data.error;else{n({update_at:"bankteller",email:e.currentUser().email,status:!0}),o.reload()}}).catch(function(r){c.saveTellerError=!0,c.saveTellerErrorMsg=r}))}).catch(function(r){c.saveTellerError=!0,c.saveTellerErrorMsg=r}):(c.saveTellerError=!0,c.saveTellerErrorMsg="All * fiends are required. Must not be empty")}):e.currentUser().accountType):t.path("/signin")}angular.module("nbaslp").controller("profileCtrl",r),r.$inject=["$scope","authentication","$location","account","$route"]}();
"use strict";!function(){function n(n,t){}angular.module("nbaslp").controller("welcomeCtrl",n),n.$inject=["authentication","$location"]}();
"use strict";!function(){function t(t,e,o){var r=this;t.isLoggedIn()?"admin"===t.currentUser().accountType?(r.committee={name:""},r.addPreferredCommittee=function(){o.addPreferredCommittee(r.committee).then(function(t){t.data.error?(r.addCommitteeError=!0,r.addCommitteeErrorMsg=t.data.error):(r.addCommitteeError=!1,r.addCommitteeSuccessMsg="Committee successfully added",setTimeout(function(){r.showCommittee()},200))}).catch(function(t){r.addCommitteeError=!0,r.addCommitteeErrorMsg=t})},r.showCommittee=function(){o.showAllCommittee().then(function(t){t.data.error?(r.committeeError=!0,r.committeeErrorMsg=t.data.error):(r.committeeError=!1,r.committeeList=t.data.committee)}).catch(function(t){r.committeeError=!0,r.committeeErrorMsg=t})},r.removeList=function(t){o.removeCommittee(t).then(function(t){t.data.error?alert(t.data.error):setTimeout(function(){r.showCommittee()},100)}).catch(function(t){alert(t)})}):e.path("/welcome"):e.path("/signin")}angular.module("nbaslp").controller("sitecontrollCtrl",t),t.$inject=["authentication","$location","sitecontroller"]}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImF1dGhlbnRpY2F0aW9uLnNlcnZpY2UuanMiLCJhY2NvdW50LnNlcnZpY2UuanMiLCJzaXRlLWNvbnRyb2xsZXIuc2VydmljZS5qcyIsIm5hdi5kaXJlY3RpdmUuanMiLCJuYXYuY29udHJvbGxlci5qcyIsImZvb3Rlci5kaXJlY3RpdmUuanMiLCJmaWxlTW9kZWwuZGlyZWN0aXZlLmpzIiwid2VsY29tZS5jb250cm9sbGVyLmpzIiwiY29tbWl0dGVlcy5jb250cm9sbGVyLmpzIiwiZXZlbnRzLmNvbnRyb2xsZXIuanMiLCJhYm91dHVzLmNvbnRyb2xsZXIuanMiLCJjb250YWN0dXMuY29udHJvbGxlci5qcyIsInNpZ251cC5jb250cm9sbGVyLmpzIiwic2lnbmluLmNvbnRyb2xsZXIuanMiLCJwcm9maWxlLmNvbnRyb2xsZXIuanMiLCJzaXRlY29udHJvbGwuY29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiY29uZmlnIiwidGVtcGxhdGVVcmwiLCIkbG9jYXRpb25Qcm92aWRlciIsImNvbnRyb2xsZXIiLCJjb250cm9sbGVyQXMiLCJ3aGVuIiwiaHRtbDVNb2RlIiwiZW5hYmxlZCIsInNhdmVUb2tlbiIsIiR3aW5kb3ciLCJ0b2tlbiIsImxvY2FsU3RvcmFnZSIsImdldFRva2VuIiwiaXNMb2dnZWRJbiIsInBheWxvYWQiLCJKU09OIiwicGFyc2UiLCJhdG9iIiwiY3VycmVudFVzZXIiLCJzcGxpdCIsImFjY291bnRTdGF0dXMiLCJ1c2VySWQiLCJfaWQiLCJhY2NvdW50VHlwZSIsImFjY291bnRJZCIsIm5hbWUiLCJMb2dvdXQiLCJzaWduVXAiLCJ1c2VyIiwiJGh0dHAiLCJwb3N0Iiwic3VjY2VzcyIsImRhdGEiLCJzaWduSW4iLCJoYW5kbGVTdWNjZXNzIiwicmVtb3ZlSXRlbSIsImF1dGhlbnRpY2F0aW9uIiwiY3JlYXRlQWN0aXZhdGlvbkNvZGUiLCJyZXNwb25zZSIsImhhbmRsZUVycm9yIiwidXBsb2FkVGVsbGVyRG9jcyIsImZpbGUiLCJmZCIsImFwcGVuZCIsImlkZW50aXR5IiwiaGVhZGVycyIsIkNvbnRlbnQtVHlwZSIsInVuZGVmaW5lZCIsInRoZW4iLCJ2YWxpZGF0ZUFjdGl2YXRpb25Db2RlIiwiY2F0Y2giLCJjb2RlIiwiZ2V0Q29tbWl0dGVlIiwiZ2V0QWNjb3VudFN0YXR1c2VzIiwiZ2V0Iiwic2F2ZUJhc2ljSW5mbyIsInVwZGF0ZVVzZXJTdGF0dXMiLCJ0cmFuc2Zvcm1SZXF1ZXN0Iiwic2F2ZUJhbmtUZWxsZXIiLCJzYXZlQnJhbmNoSW5mbyIsImxvYWRVc2VySW5mbyIsImNvbGxlY3Rpb25OYW1lIiwidGVsbGVyIiwiYWNjb3VudCIsIiRpbmplY3QiLCJhZGRQcmVmZXJyZWRDb21taXR0ZWUiLCJyZW1vdmVDb21taXR0ZWUiLCJzaG93QWxsQ29tbWl0dGVlIiwiY29tbWl0dGVlSWQiLCJkZWxldGUiLCJzaXRlY29udHJvbGxlciIsImRpcmVjdGl2ZSIsInNpdGVOYXYiLCJyZXN0cmljdCIsIm5hdkN0cmwiLCIkbG9jYXRpb24iLCJudm0iLCJsb2dnZWRJbk5hbWUiLCJjdXJyZW50QWNjb3VudFR5cGUiLCJsb2dnZWRJblVyaSIsImxvZ291dCIsInBhdGgiLCJzaXRlRm9vdGVyIiwiZmlsZU1vZGVsIiwibGluayIsInNjb3BlIiwiJGVsZW1lbnQiLCJwYXJzZWRGaWxlU2V0dGVyIiwiJHBhcnNlIiwiYXR0cnMiLCJhc3NpZ24iLCJvbiIsIiRhcHBseSIsImZpbGVzIiwiY29tbWl0dGVlc0N0cmwiLCJldmVudHNDdHJsIiwiYWJvdXR1c0N0cmwiLCJjb250YWN0dXNDdHJsIiwic2lnbnVwQ3RybCIsInJlZ3ZtIiwidGhpcyIsImxhc3ROYW1lIiwiZGlzcGxheU5hbWUiLCJlbWFpbCIsInBhc3N3b3JkIiwiY29uZmlybVBhc3N3b3JkIiwicmVnaXN0ZXIiLCJSZWdpc3RyYXRpb25FcnJvck1zZyIsIlJlZ2lzdHJhdGlvbkVycm9yIiwiZXJyb3IiLCJlcnIiLCJzaWduaW5DdHJsIiwibHZtIiwibG9naW5FcnJvck1zZyIsImxvZ2luRXJyb3IiLCJkb0xvZ2luIiwicHJvdm0iLCIkc2NvcGUiLCIkcm91dGUiLCJzdGF0dXNVcGRhdGVyIiwidXBkYXRlT2JqZWN0IiwiYmFzaWNBY2NvdW50SW5mb0Vycm9yIiwiYmFzaWNBY2NvdW50SW5mb0Vycm9yTXNnIiwicmVsb2FkIiwic3RhdHVzVXBkYXRlRXJyb3IiLCJjb2RlUmVhZHkiLCJwcm9maWxlU3RhdHVzIiwiYWN0aXZhdGlvbkNvZGVFcnJvck1zZyIsInNlbmRBY3RpdmF0aW9uQ29kZSIsInVwZGF0ZWRTdGF0dXMiLCJ1cGRhdGVfYXQiLCJzdGF0dXMiLCJhY3RpdmF0aW9uQ29kZUVycm9yIiwic3RhdHVzTG9hZEVycm9yIiwic3RhdHVzTG9hZEVycm9yTXNnIiwiYmFzaWNQcm9maWxlIiwidXNlclN0YXR1c2VzIiwic3RhdHVzZXMiLCJ3aG9zIiwidGVsZSIsImFkZHJlc3MiLCJ1cGRhdGVkIiwiYnJhbmNoSW5mb0Vycm9yTXNnIiwiYnJhbmNoIiwiYnJhbmNoSW5mb0Vycm9yIiwidXNlckJhc2ljSW5mb0xvYWRpbmdFcnJvciIsInVzZXJCYXNpY0luZm9Mb2FkaW5nRXJyb3JNc2ciLCJ1c2VySW5mb0xvYWRpbmdFcnJvciIsInVzZXJJbmZvTG9hZGluZ0Vycm9yTXNnIiwibG9hZEJhc2ljSW5mbyIsImJhc2ljSW5mbyIsInVzZXJJbmZvIiwiQWN0aXZhdGlvbkVycm9yIiwiY29tbWl0dGVlcyIsImNvbW1pdHRlZSIsInNldFRpbWVvdXQiLCJicmFuY2hJbmZvIiwiYWRkaXRpb25hbF9jb21taXR0ZWUiLCJhY3RpdmF0aW9uIiwic2F2ZVRlbGxlckVycm9yTXNnIiwiYmFua1RlbGxlckluZm8iLCJkb2NMb2NhdGlvbiIsInNhdmVUZWxsZXJFcnJvciIsImFjdGl2YXRpb25TdWNjZXNzIiwiQWN0aXZhdGlvbkVycm9yTXNnIiwicHJlZmVycmVkQ29tbWl0dGVlIiwidGVsbGVyRG9jIiwic2F2ZUJhbmtUZWxsZXJJbmZvIiwicHJvZmlsZUN0cmwiLCJ3ZWxjb21lQ3RybCIsInNpdGVjb250cm9sbEN0cmwiLCJhZFNpdGUiLCJhZGRDb21taXR0ZWVFcnJvck1zZyIsImFkZENvbW1pdHRlZUVycm9yIiwiYWRkQ29tbWl0dGVlU3VjY2Vzc01zZyIsInNob3dDb21taXR0ZWUiLCJjb21taXR0ZWVFcnJvciIsImNvbW1pdHRlZUVycm9yTXNnIiwicmVtb3ZlTGlzdCIsImNvbW1pdHRlZUxpc3QiLCJhbGVydCJdLCJtYXBwaW5ncyI6IkFBUUEsY0FFQSxXQUNJQSxRQUNLQyxPQUFPLFVBQVcsYUFBYyxZQUdyQ0MsUUFBU0EsaUJBQVQsb0JBR1lDLFNBQUFBLEVBQWFDLEdBQ2JDLEVBQ0FDLEtBQUFBLEtBRUVILFlBQVcsaUNBQ2JBLFdBQWEsY0FDYkUsYUFBWSxRQUdmRSxLQUFLLFdBQ0ZKLFlBQWEsMEJBQ2JFLFdBQVksYUFDWkMsYUFBYyxVQUdkSCxLQUFBQSxXQUNBRSxZQUFZLDBCQUNaQyxXQUFjLGFBRVpBLGFBQVMsUUFFWEQsS0FBQUEsWUFDQUMsWUFBYyw0QkFFWkQsV0FBQSxjQUNGRixhQUFhLFVBRWJHLEtBQUFBLFNBRUVILFlBQVksc0JBQ2RBLFdBQWEsV0FDYkUsYUFBWSxRQUdmRSxLQUFLLGlCQUNGSixZQUFhLDRDQUNiRSxXQUFZLG1CQUNaQyxhQUFjLFdBR2RILEtBQUFBLFlBQ0FFLFlBQVksNEJBQ1pDLFdBQWMsY0FFWkEsYUFBWSxRQUVkRCxLQUFBQSxlQUNBQyxZQUFjLGtDQUVaRCxXQW5EVixpQkFvRFFGLGFBQWEsUUFFYkcsS0FBQUEsV0F0RFJILFlBQUEsMEJBMkNRRSxXQUFZLGFBY3BCRCxhQUFrQkksUUFBbEJELEtBQUEsWUFHSEosWUFBQSw0QkFsRUxFLFdBQUEsY0F1RGdCQyxhQUFjLFNBRWpCQyxLQUFLLGNBQ0ZKLFlBQWEsZ0NBQ2JFLFdBQVksZ0JBQ1pDLGFBQWMsUUFHdEJGLEVBQWtCSSxXQUNkQyxTQUFTLE9BaEVyQjtBQ0ZBLGFBVUksU0FBTUMsZUFBWUMsRUFBWkQsR0FFTCxJQUZEQSxFQUFBLFNBQUFF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LGdCQUFBLEVBQ09FLEVBQWFDLGNBQUMvRyxFQUFnQnBDLEtBQUEwSCxhQUtyQjBCLE1BQUFBLFNBQUFBLEdBREpULEVBR0tLLGdCQUFBLEVBQ0RyQixFQUFBQSxrQkFBaUI3QyxLQU1yQnNFLEVBQUFBLFdBQUEsU0FBQWhILEdBQ0hFLEVBZlRKLGdCQUFBRSxHQWtCQ3BCLEtBQUEsU0FBQVYsR0FDY0EsRUFBZk4sS0FBQTZFLE1BQ0h1RSxNQUFBOUksRUFBQU4sS0FBQTZFLE9BSUo4QyxXQUFBLFdBQ0pnQixFQUFBSSxpQkF6RkwsT0E2RXlCN0gsTUFBTSxTQUFBNEQsR0FDSHNFLE1BQU10RSxPQUtsQm5DLEVBQVVNLEtBQUssWUFJbkJOLEVBQVVNLEtBQUssV0FyRnZCbkYsUUFDS0MsT0FBTyxVQUdaMkssV0FBQUEsbUJBQTRCQSxHQUU1QkEsRUFBU0EsU0FBaUJ0SSxpQkFBZ0J1QyxZQUFXTCxrQkFSekQiLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBzZXR0aW5nIHVwIGVudHJ5IHBvaW50IGZvciBhbmd1bGFyIGZyb250LWVuZFxufCBAYXV0aG9yOiBqYWhpZCBoYXF1ZSA8amFoaWQuaGFxdWVAeWFob28uY29tPlxufCBAY29weXJpZ2h0OiBuYmEtc2xwLCAyMDE3XG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4oZnVuY3Rpb24gKCkge1xuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbmJhc2xwJywgWyduZ1Jlc291cmNlJywgJ25nUm91dGUnXSlcbiAgICAgICAgLmNvbmZpZyhbJyRyb3V0ZVByb3ZpZGVyJywgJyRsb2NhdGlvblByb3ZpZGVyJywgY29uZmlnXSk7XG5cbiAgICBmdW5jdGlvbiBjb25maWcoJHJvdXRlUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyKSB7XG4gICAgICAgICRyb3V0ZVByb3ZpZGVyXG4gICAgICAgICAgICAud2hlbignLycsIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2hvbWUvd2VsY29tZS93ZWxjb21lLnZpZXcuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3dlbGNvbWVDdHJsJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICd3dm0nLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC53aGVuKCcvc2lnbnVwJywge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnc2lnbnVwL3NpZ251cC52aWV3Lmh0bWwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdzaWdudXBDdHJsJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdyZWd2bScsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLndoZW4oJy9zaWduaW4nLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdzaWduaW4vc2lnbmluLnZpZXcuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3NpZ25pbkN0cmwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2x2bScsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLndoZW4oJy9wcm9maWxlJywge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncHJvZmlsZS9wcm9maWxlLnZpZXcuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3Byb2ZpbGVDdHJsJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdwcm92bScsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLndoZW4oJy9oZWxwJywge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnaGVscC9oZWxwLnZpZXcuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2hlbHBDdHJsJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdodm0nLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC53aGVuKCcvc2l0ZWNvbnRyb2xsJywge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnYWRtaW4vc2l0ZWNvbnRyb2xsL3NpdGVjb250cm9sbC52aWV3Lmh0bWwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdzaXRlY29udHJvbGxDdHJsJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdhZFNpdGUnLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC53aGVuKCcvd2VsY29tZScsIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3dlbGNvbWUvd2VsY29tZS52aWV3Lmh0bWwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd3ZWxjb21lQ3RybCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnd3ZtJyxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAud2hlbignL2NvbW1pdHRlZXMnLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21taXR0ZWVzL2NvbW1pdHRlZXMudmlldy5odG1sJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnY29tbWl0dGVlc0N0cmwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2N2bScsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLndoZW4oJy9ldmVudHMnLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdldmVudHMvZXZlbnRzLnZpZXcuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2V2ZW50c0N0cmwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2V2bScsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLndoZW4oJy9hYm91dHVzJywge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnYWJvdXR1cy9hYm91dHVzLnZpZXcuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2Fib3V0dXNDdHJsJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdhYnZtJyxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAud2hlbignL2NvbnRhY3R1cycsIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbnRhY3R1cy9jb250YWN0dXMudmlldy5odG1sJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnY29udGFjdHVzQ3RybCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnY3ZtJyxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh7XG4gICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICB9XG59KSgpO1xuIiwiLypcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG58IHNldHRpbmcgdXAgYXV0aGVudGljYXRpb24gc2VydmljZSBcbnwgQGF1dGhvcjogamFoaWQgaGFxdWUgPGphaGlkLmhhcXVlQHlhaG9vLmNvbT5cbnwgQGNvcHlyaWdodDogbmJhLXNscCwgMjAxN1xufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ25iYXNscCcpXG4gICAgLnNlcnZpY2UoJ2F1dGhlbnRpY2F0aW9uJywgYXV0aGVudGljYXRpb24pO1xuXG5hdXRoZW50aWNhdGlvbi4kaW5qZWN0ID0gWyckd2luZG93JywgJyRodHRwJ107XG5cbmZ1bmN0aW9uIGF1dGhlbnRpY2F0aW9uKCR3aW5kb3csICRodHRwKSB7XG4vLyBzYXZpbmcgdG9rZW4uXG4gICAgY29uc3Qgc2F2ZVRva2VuID1cdGZ1bmN0aW9uICh0b2tlbikge1xuICAgICAgICAkd2luZG93LmxvY2FsU3RvcmFnZVsnbmJhc2xwJ10gPSB0b2tlbjtcbiAgICB9O1xuXG4gICAgY29uc3QgZ2V0VG9rZW4gPVx0ZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gJHdpbmRvdy5sb2NhbFN0b3JhZ2VbJ25iYXNscCddO1xuICAgIH07XG5cbiAgICBjb25zdCBpc0xvZ2dlZEluID0gKCkgPT4ge1xuICAgICAgICBjb25zdCB0b2tlbiA9IGdldFRva2VuKCk7XG4gICAgICAgIGxldCBwYXlsb2FkO1xuXG4gICAgICAgIGlmICh0b2tlbikge1xuICAgICAgICAgICAgcGF5bG9hZCA9IHRva2VuLnNwbGl0KCcuJylbMV07XG4gICAgICAgICAgICBwYXlsb2FkID0gJHdpbmRvdy5hdG9iKHBheWxvYWQpO1xuICAgICAgICAgICAgcGF5bG9hZCA9IEpTT04ucGFyc2UocGF5bG9hZCk7XG4gICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBjdXJyZW50VXNlciA9ICgpID0+IHtcbiAgICAgICAgaWYgKGlzTG9nZ2VkSW4pIHtcbiAgICAgICAgICAgIGNvbnN0IHRva2VuID0gZ2V0VG9rZW4oKTtcbiAgICAgICAgICAgIGxldCBwYXlsb2FkID0gdG9rZW4uc3BsaXQoJy4nKVsxXTtcbiAgICAgICAgICAgIHBheWxvYWQgPSAkd2luZG93LmF0b2IocGF5bG9hZCk7XG4gICAgICAgICAgICBwYXlsb2FkID0gSlNPTi5wYXJzZShwYXlsb2FkKTtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1c2VySWQ6IHBheWxvYWQuX2lkLFxuICAgICAgICAgICAgICAgIGVtYWlsOiBwYXlsb2FkLmVtYWlsLFxuICAgICAgICAgICAgICAgIGFjY291bnRTdGF0dXM6IHBheWxvYWQuYWNjb3VudFN0YXR1cyxcbiAgICAgICAgICAgICAgICBhY2NvdW50VHlwZTogcGF5bG9hZC5hY2NvdW50VHlwZSxcbiAgICAgICAgICAgICAgICBhY2NvdW50SWQ6IHBheWxvYWQudXNlcklkLFxuICAgICAgICAgICAgICAgIG5hbWU6IHBheWxvYWQubmFtZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgTG9nb3V0ID0gKCkgPT4ge1xuICAgICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCduYmFzbHAnKTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2lnblVwID0gKHVzZXIpID0+IHtcbiAgICAgICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvc2lnbnVwJywgdXNlcikuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgc2F2ZVRva2VuKGRhdGEudG9rZW4pO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2lnbkluID0gKHVzZXIpID0+IHtcbiAgICAgICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvc2lnbmluJywgdXNlcikuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgc2F2ZVRva2VuKGRhdGEudG9rZW4pO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlU3VjY2VzcyA9IChyZXNwb25zZSkgPT4gcmVzcG9uc2U7XG5cbiAgICBjb25zdCBoYW5kbGVFcnJvciA9IChyZXNwb25zZSkgPT4gcmVzcG9uc2U7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBjdXJyZW50VXNlcjogY3VycmVudFVzZXIsXG4gICAgICAgIHNhdmVUb2tlbjogc2F2ZVRva2VuLFxuICAgICAgICBnZXRUb2tlbjogZ2V0VG9rZW4sXG4gICAgICAgIGlzTG9nZ2VkSW46IGlzTG9nZ2VkSW4sXG4gICAgICAgIHNpZ25VcDogc2lnblVwLFxuICAgICAgICBzaWduSW46IHNpZ25JbixcbiAgICAgICAgTG9nb3V0OiBMb2dvdXQsXG4gICAgfTtcbn1cblxuIiwiLypcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG58IHNldHRpbmcgdXAgYWNjb3VudCBzZXJ2aWNlIGZvciBhcHBcbnwgQGF1dGhvcjogamFoaWQgaGFxdWUgPGphaGlkLmhhcXVlQHlhaG9vLmNvbT5cbnwgQGNvcHlyaWdodDogbmJhLXNscCwgMjAxN1xufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25iYXNscCcpXG4gICAgICAgIC5zZXJ2aWNlKCdhY2NvdW50JywgYWNjb3VudCk7XG5cbiAgICBhY2NvdW50LiRpbmplY3QgPSBbJyR3aW5kb3cnLCAnJGh0dHAnXTtcblxuICAgIGZ1bmN0aW9uIGFjY291bnQoJHdpbmRvdywgJGh0dHApIHtcblxuICAgICAgICBjb25zdCBjcmVhdGVBY3RpdmF0aW9uQ29kZSA9ICh1c2VySWQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cCBcbiAgICAgICAgICAgICAgICAucG9zdCgnL2FwaS8nICsgdXNlcklkICsgJy9nZW5lcmF0ZXZhbGlkYXRpb25jb2RlJylcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgdmFsaWRhdGVBY3RpdmF0aW9uQ29kZSA9ICh1c2VySWQsIGNvZGUpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cCBcbiAgICAgICAgICAgICAgICAucG9zdCgnL2FwaS8nICsgdXNlcklkICsgJy8nICsgY29kZSArICcvdmFsaWRhdGUnKVxuICAgICAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBnZXRBY2NvdW50U3RhdHVzZXMgPSAodXNlcklkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAgXG4gICAgICAgICAgICAgICAgLmdldCgnL2FwaS8nICsgdXNlcklkICsgJy9zdGF0dXNlcycpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGdldENvbW1pdHRlZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cFxuICAgICAgICAgICAgICAgIC5nZXQoJy9hcGkvc2hvd2NvbW1pdHRlZScpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHVwZGF0ZVVzZXJTdGF0dXMgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwXG4gICAgICAgICAgICAgICAgLnBvc3QoJy9hcGkvdXNlcnN0YXR1cycsIGRhdGEpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHNhdmVCYXNpY0luZm8gPSAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwIFxuICAgICAgICAgICAgICAgIC5wb3N0KCcvYXBpL2NyZWF0ZWJhc2ljcHJvZmlsZScsIGRhdGEpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHNhdmVCcmFuY2hJbmZvID0gKHVzZXJJZCwgZGF0YSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwXG4gICAgICAgICAgICAgICAgLnBvc3QoJy9hcGkvJyArIHVzZXJJZCArICcvc2F2ZWJyYW5jaGluZm8nLCBkYXRhKVxuICAgICAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCB1cGxvYWRUZWxsZXJEb2NzID0gKGZpbGUsIHVzZXJJZCkgPT4ge1xuICAgICAgICAgICAgdmFyIGZkID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgICAgICAgICBmZC5hcHBlbmQoJ3RlbGxlckRvYycsIGZpbGUpO1xuXG4gICAgICAgICAgICByZXR1cm4gJGh0dHBcbiAgICAgICAgICAgICAgICAucG9zdCgnL2FwaS9kb2N1cGxvYWQvJyArIHVzZXJJZCwgZmQsIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtUmVxdWVzdDogYW5ndWxhci5pZGVudGl0eSxcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogdW5kZWZpbmVkIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBzYXZlQmFua1RlbGxlciA9ICh0ZWxsZXIpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cFxuICAgICAgICAgICAgICAgIC5wb3N0KCcvYXBpL3NhdmViYW5rdGVsbGVyJywgdGVsbGVyKVxuICAgICAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKlxuICAgICAgICB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICB8IEZvbGxvd2luZyBmdW5jdGlvbiB3aWxsIGxvYWQgYWxsIGRhdGEgZm9yIHVzZXJcbiAgICAgICAgfCBiYXNlZCBvbiBnaXZlbiB1c2VyRW1haWwgYW5kIGNvbGxlY3Rpb24gbmFtZVxuICAgICAgICB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAqL1xuICAgICAgICBjb25zdCBsb2FkVXNlckluZm8gPSAoY29sbGVjdGlvbk5hbWUsIHVzZXJJZCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwIFxuICAgICAgICAgICAgICAgIC5nZXQoJy9hcGkvJyArIHVzZXJJZCArICcvJyArIGNvbGxlY3Rpb25OYW1lICsgJy91c2VyaW5mbycpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGhhbmRsZVN1Y2Nlc3MgPSAocmVzcG9uc2UpID0+IHJlc3BvbnNlO1xuXG4gICAgICAgIGNvbnN0IGhhbmRsZUVycm9yID0gKHJlc3BvbnNlKSA9PiByZXNwb25zZTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdXBsb2FkVGVsbGVyRG9jczogdXBsb2FkVGVsbGVyRG9jcyxcbiAgICAgICAgICAgIGNyZWF0ZUFjdGl2YXRpb25Db2RlOiBjcmVhdGVBY3RpdmF0aW9uQ29kZSxcbiAgICAgICAgICAgIHZhbGlkYXRlQWN0aXZhdGlvbkNvZGU6IHZhbGlkYXRlQWN0aXZhdGlvbkNvZGUsXG4gICAgICAgICAgICBnZXRBY2NvdW50U3RhdHVzZXM6IGdldEFjY291bnRTdGF0dXNlcyxcbiAgICAgICAgICAgIHVwZGF0ZVVzZXJTdGF0dXM6IHVwZGF0ZVVzZXJTdGF0dXMsXG4gICAgICAgICAgICBzYXZlQmFzaWNJbmZvOiBzYXZlQmFzaWNJbmZvLFxuICAgICAgICAgICAgc2F2ZUJyYW5jaEluZm86IHNhdmVCcmFuY2hJbmZvLFxuICAgICAgICAgICAgbG9hZFVzZXJJbmZvOiBsb2FkVXNlckluZm8sXG4gICAgICAgICAgICBnZXRDb21taXR0ZWU6IGdldENvbW1pdHRlZSxcbiAgICAgICAgICAgIHNhdmVCYW5rVGVsbGVyOiBzYXZlQmFua1RlbGxlcixcbiAgICAgICAgfTtcbiAgICB9XG5cbn0pKCk7XG4iLCIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCBzZXJ2aWNlIGZvciBzaXRlLWNvbnRyb2xsZXIgZm9yIGFkbWluXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5iYS1zbHAsIDIwMThcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbihmdW5jdGlvbiAoKSB7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25iYXNscCcpXG4gICAgICAgIC5zZXJ2aWNlKCdzaXRlY29udHJvbGxlcicsIHNpdGVjb250cm9sbGVyKTtcblxuICAgIHNpdGVjb250cm9sbGVyLiRpbmplY3QgPSBbJyRodHRwJ107XG5cbiAgICBmdW5jdGlvbiBzaXRlY29udHJvbGxlcigkaHR0cCkge1xuICAgICAgICBcbiAgICAgICAgY29uc3QgYWRkUHJlZmVycmVkQ29tbWl0dGVlID0gKGRhdGEpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cFxuICAgICAgICAgICAgICAgIC5wb3N0KCcvYXBpL2NyZWF0ZWNvbW1pdHRlZScsIGRhdGEpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHNob3dBbGxDb21taXR0ZWUgPSAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHBcbiAgICAgICAgICAgICAgICAuZ2V0KCcvYXBpL3Nob3djb21taXR0ZWUnKVxuICAgICAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCByZW1vdmVDb21taXR0ZWUgPSAoY29tbWl0dGVlSWQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cCBcbiAgICAgICAgICAgICAgICAuZGVsZXRlKCcvYXBpLycgKyBjb21taXR0ZWVJZCArICcvcmVtb3ZlY29tbWl0dGVlJylcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgaGFuZGxlU3VjY2VzcyA9IChyZXNwb25zZSkgPT4gcmVzcG9uc2U7XG5cbiAgICAgICAgY29uc3QgaGFuZGxlRXJyb3IgPSAocmVzcG9uc2UpID0+IHJlc3BvbnNlO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhZGRQcmVmZXJyZWRDb21taXR0ZWU6IGFkZFByZWZlcnJlZENvbW1pdHRlZSxcbiAgICAgICAgICAgIHNob3dBbGxDb21taXR0ZWU6IHNob3dBbGxDb21taXR0ZWUsXG4gICAgICAgICAgICByZW1vdmVDb21taXR0ZWU6IHJlbW92ZUNvbW1pdHRlZSxcbiAgICAgICAgfTtcblxuICAgIH1cblxufSkoKTtcbiIsIi8qXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBzZXR0aW5nIHVwIG5hdmlnYXRpb24gZGlyZWN0aXZlIGZvciB0aGUgYXBwXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5iYXNscCwgMjAxN1xufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25iYXNscCcpXG4gICAgICAgIC5kaXJlY3RpdmUoJ3NpdGVOYXYnLCBzaXRlTmF2KTtcblxuICAgIGZ1bmN0aW9uIHNpdGVOYXYoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tbW9uL2RpcmVjdGl2ZXMvbmF2L3NpdGUtbmF2LnRlbXBsYXRlLmh0bWwnLFxuICAgICAgICAgICAgY29udHJvbGxlcjogJ25hdkN0cmwgYXMgbnZtJyxcbiAgICAgICAgfTtcbiAgICB9XG59KSgpO1xuIiwiLypcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG58IHNldHRpbmcgdXAgY29udHJvbGxlciBmb3IgbmF2aWdhdGlvblxufCBAYXV0aG9yOiBqYWhpZCBoYXF1ZSA8amFoaWQuaGFxdWVAeWFob28uY29tPlxufCBAY29weXJpZ2h0OiBuYmFzbHAsIDIwMTdcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbihmdW5jdGlvbiAoKSB7XG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCduYmFzbHAnKVxuICAgICAgICAuY29udHJvbGxlcignbmF2Q3RybCcsIG5hdkN0cmwpO1xuXG4gICAgbmF2Q3RybC4kaW5qZWN0ID0gWydhdXRoZW50aWNhdGlvbicsICckbG9jYXRpb24nXTtcblxuICAgIGZ1bmN0aW9uIG5hdkN0cmwoYXV0aGVudGljYXRpb24sICRsb2NhdGlvbikge1xuICAgICAgICBjb25zdCBudm0gPSB0aGlzO1xuXG4gICAgICAgIGlmIChhdXRoZW50aWNhdGlvbi5pc0xvZ2dlZEluKCkpIHtcbiAgICAgICAgICAgIG52bS5sb2dnZWRJblVyaSA9IHRydWU7XG4gICAgICAgICAgICBudm0ubG9nZ2VkSW5OYW1lID0gYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5uYW1lO1xuICAgICAgICAgICAgbnZtLmN1cnJlbnRBY2NvdW50VHlwZSA9IGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkuYWNjb3VudFR5cGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBudm0ubG9nZ2VkSW5VcmkgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIG52bS5sb2dvdXQgPSAoKSA9PiB7XG4gICAgICAgICAgICBhdXRoZW50aWNhdGlvbi5Mb2dvdXQoKTtcbiAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvc2lnbmluJyk7XG4gICAgICAgIH07XG4gICAgfVxufSkoKTtcbiIsIi8qXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBzZXR0aW5nIHVwIGZvb3RlciBkaXJlY3RpdmUgZm9yIGFwcGxpY2F0aW9uXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5iYXNscCwgMjAxN1xufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25iYXNscCcpXG4gICAgICAgIC5kaXJlY3RpdmUoJ3NpdGVGb290ZXInLCBzaXRlRm9vdGVyKTtcbiAgICBmdW5jdGlvbiBzaXRlRm9vdGVyKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbW1vbi9kaXJlY3RpdmVzL2Zvb3Rlci9mb290ZXIudGVtcGxhdGUuaHRtbCcsXG4gICAgICAgIH07XG4gICAgfVxufSkoKTtcbiIsIi8qXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBzZXR0aW5nIHVwIGZpbGUgdXBsb2FkIGRpcmVjdGl2ZVxufCBAYXV0aG9yOiBqYWhpZCBoYXF1ZSA8amFoaWQuaGFxdWVAeWFob28uY29tPlxufCBAY29weXJpZ2h0OiBuY2xoYWxhbCwgMjAxN1xufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG4oZnVuY3Rpb24oKXtcblx0YW5ndWxhclxuXHRcdC5tb2R1bGUoJ25iYXNscCcpXG5cdFx0LmRpcmVjdGl2ZSgnZmlsZU1vZGVsJywgZmlsZU1vZGVsKTtcblxuXHRmaWxlTW9kZWwuJGluamVjdCA9IFsnJHBhcnNlJ107XG5cblx0ZnVuY3Rpb24gZmlsZU1vZGVsKCRwYXJzZSl7XG5cdFx0cmV0dXJuIHtcbiAgICAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgJGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgICAgICB2YXIgcGFyc2VkRmlsZSA9ICRwYXJzZShhdHRycy5maWxlTW9kZWwpO1xuICAgICAgICAgICAgdmFyIHBhcnNlZEZpbGVTZXR0ZXIgPSBwYXJzZWRGaWxlLmFzc2lnbjtcbiAgICAgICAgICAgICRlbGVtZW50Lm9uKCdjaGFuZ2UnLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICBwYXJzZWRGaWxlU2V0dGVyKHNjb3BlLCAkZWxlbWVudFswXS5maWxlc1swXSk7XG4gICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgfSxcbiAgICB9O1xuXHR9XG59KSgpO1xuIiwiLypcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG58IHNldHRpbmcgdXAgY29udHJvbGxlciBmb3Igd2VsY29tZSBwYWdlXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5iYXNscCwgMjAxN1xufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcbiAgICBcbiAgICBhbmd1bGFyIFxuICAgICAgICAubW9kdWxlKCduYmFzbHAnKVxuICAgICAgICAuY29udHJvbGxlcignd2VsY29tZUN0cmwnLCB3ZWxjb21lQ3RybCk7XG5cbiAgICB3ZWxjb21lQ3RybC4kaW5qZWN0ID0gWydhdXRoZW50aWNhdGlvbicsICckbG9jYXRpb24nXTtcblxuICAgIGZ1bmN0aW9uIHdlbGNvbWVDdHJsKGF1dGhlbnRpY2F0aW9uLCAkbG9jYXRpb24pIHtcbiAgICAgICAgY29uc3Qgd3ZtID0gdGhpcztcbiAgICB9XG5cbn0pKCk7XG4iLCIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCBjb21taXR0ZWVzIGZvciB0aGUgYXBwXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5iYS1zbHAsIDIwMThcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbihmdW5jdGlvbiAoKSB7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25iYXNscCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdjb21taXR0ZWVzQ3RybCcsIGNvbW1pdHRlZXNDdHJsKTtcblxuICAgIGZ1bmN0aW9uIGNvbW1pdHRlZXNDdHJsKCkge1xuICAgICAgICBjb25zdCBjdm0gPSB0aGlzO1xuICAgIH1cblxufSkoKTsiLCIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCBldmVudCBjb250cm9sbGVyIGZvciB0aGUgYXBwXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5iYS1zbHAsIDIwMThcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbihmdW5jdGlvbiAoKSB7XG4gICAgXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCduYmFzbHAnKVxuICAgICAgICAuY29udHJvbGxlcignZXZlbnRzQ3RybCcsIGV2ZW50c0N0cmwpO1xuXG4gICAgZnVuY3Rpb24gZXZlbnRzQ3RybCgpIHtcbiAgICAgICAgY29uc3QgZXZtID0gdGhpcztcbiAgICB9XG5cbn0pKCk7IiwiLypcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG58IHNldHRpbmcgdXAgYWJvdXQgdXMgY29udHJvbGxlciBmb3IgYXBwXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5iYS1zbHAsIDIwMThcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbihmdW5jdGlvbiAoKSB7XG4gICAgXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCduYmFzbHAnKVxuICAgICAgICAuY29udHJvbGxlcignYWJvdXR1c0N0cmwnLCBhYm91dHVzQ3RybCk7XG5cbiAgICBmdW5jdGlvbiBhYm91dHVzQ3RybCgpIHtcbiAgICAgICAgY29uc3QgYWJ2bSA9IHRoaXM7XG4gICAgfVxuIFxufSkoKTsiLCIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCBjb250YWN0IGNvbnRyb2xsZXIgZm9yIHRoZSBhcHBcbnwgQGF1dGhvcjogamFoaWQgaGFxdWUgPGphaGlkLmhhcXVlQHlhaG9vLmNvbT5cbnwgQGNvcHlyaWdodDogbmJhLXNscCwgMjAxOFxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpe1xuICAgIFxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbmJhc2xwJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ2NvbnRhY3R1c0N0cmwnLCBjb250YWN0dXNDdHJsKTtcblxuICAgIGZ1bmN0aW9uIGNvbnRhY3R1c0N0cmwoKSB7XG4gICAgICAgIGNvbnN0IGN2bSA9IHRoaXM7XG4gICAgfVxuXG59KSgpOyIsIi8qXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBzZXR0aW5nIHVwIHNpZ251cCBjb250cm9sbGVyIGZvciB0aGUgYXBwXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5iYXNscCwgMjAxN1xufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25iYXNscCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdzaWdudXBDdHJsJywgc2lnbnVwQ3RybCk7XG5cbiAgICBzaWdudXBDdHJsLiRpbmplY3QgPSBbJ2F1dGhlbnRpY2F0aW9uJywgJyRsb2NhdGlvbiddO1xuXG4gICAgZnVuY3Rpb24gc2lnbnVwQ3RybChhdXRoZW50aWNhdGlvbiwgJGxvY2F0aW9uKSB7XG4gICAgICAgIGNvbnN0IHJlZ3ZtID0gdGhpcztcblxuICAgICAgICAvLyB1c2VyIG9iamVjdC5cbiAgICAgICAgcmVndm0udXNlciA9IHtcbiAgICAgICAgICAgIGZpcnN0TmFtZTogJycsXG4gICAgICAgICAgICBsYXN0TmFtZTogJycsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJycsXG4gICAgICAgICAgICBlbWFpbDogJycsXG4gICAgICAgICAgICBwYXNzd29yZDogJycsXG4gICAgICAgICAgICBjb25maXJtUGFzc3dvcmQ6ICcnLFxuICAgICAgICB9O1xuXG4gICAgICAgIHJlZ3ZtLnJlZ2lzdGVyID0gKCkgPT4ge1xuICAgICAgICAgICAgYXV0aGVudGljYXRpb25cbiAgICAgICAgICAgICAgICAuc2lnblVwKHJlZ3ZtLnVzZXIpXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWd2bS5SZWdpc3RyYXRpb25FcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWd2bS5SZWdpc3RyYXRpb25FcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWd2bS5SZWdpc3RyYXRpb25FcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy93ZWxjb21lJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ3ZtLlJlZ2lzdHJhdGlvbkVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ3ZtLlJlZ2lzdHJhdGlvbkVycm9yTXNnID0gZXJyLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoYXV0aGVudGljYXRpb24uaXNMb2dnZWRJbigpKSB7XG4gICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL3dlbGNvbWUnKTtcbiAgICAgICAgfVxuICAgIH1cbn0pKCk7XG4iLCIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCBjb250cm9sbGVyIGZvciBsb2dpbiBwYWdlXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5iYXNscCwgMjAxN1xufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25iYXNscCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdzaWduaW5DdHJsJywgc2lnbmluQ3RybCk7XG5cbiAgICBzaWduaW5DdHJsLiRpbmplY3QgPSBbJ2F1dGhlbnRpY2F0aW9uJywgJyRsb2NhdGlvbiddO1xuXG4gICAgZnVuY3Rpb24gc2lnbmluQ3RybChhdXRoZW50aWNhdGlvbiwgJGxvY2F0aW9uKSB7XG4gICAgICAgIGNvbnN0IGx2bSA9IHRoaXM7XG5cbiAgICAgICAgbHZtLnVzZXIgPSB7XG4gICAgICAgICAgICBlbWFpbDogJycsXG4gICAgICAgICAgICBwYXNzd29yZDogJycsXG4gICAgICAgIH07IFxuXG4gICAgICAgIGlmIChhdXRoZW50aWNhdGlvbi5pc0xvZ2dlZEluKCkpIHtcbiAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvd2VsY29tZScpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbHZtLmxvZ2luID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghbHZtLnVzZXIuZW1haWwgfHwgIWx2bS51c2VyLnBhc3N3b3JkKSB7XG4gICAgICAgICAgICAgICAgICAgIGx2bS5sb2dpbkVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgbHZtLmxvZ2luRXJyb3JNc2cgPSBgRXJyb3IhIGFsbCAqIGZpZWxkcyBhcmUgcmVxdWlyZWRgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbHZtLmxvZ2luRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgbHZtLmRvTG9naW4oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBsdm0uZG9Mb2dpbiA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGlvblxuICAgICAgICAgICAgICAgICAgICAuc2lnbkluKGx2bS51c2VyKVxuICAgICAgICAgICAgICAgICAgICAuZXJyb3IoKGVycikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbHZtLmxvZ2luRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgbHZtLmxvZ2luRXJyb3JNc2cgPSBlcnIuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvd2VsY29tZScpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbn0pKCk7XG4iLCIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCBjb250cm9sbGVyIGZvciBwcm9maWxlIHBhZ2VcbnwgQGF1dGhvcjogamFoaWQgaGFxdWUgPGphaGlkLmhhcXVlQHlhaG9vLmNvbT5cbnwgQGNvcHlyaWdodDogbmJhLXNscCwgMjAxN1xufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbmJhc2xwJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ3Byb2ZpbGVDdHJsJywgcHJvZmlsZUN0cmwpO1xuXG4gICAgcHJvZmlsZUN0cmwuJGluamVjdCA9IFsnJHNjb3BlJywgJ2F1dGhlbnRpY2F0aW9uJywgJyRsb2NhdGlvbicsICdhY2NvdW50JywgJyRyb3V0ZSddO1xuXG4gICAgZnVuY3Rpb24gcHJvZmlsZUN0cmwoJHNjb3BlLCBhdXRoZW50aWNhdGlvbiwgJGxvY2F0aW9uLCBhY2NvdW50LCAkcm91dGUpIHtcblxuICAgICAgICBjb25zdCBwcm92bSA9IHRoaXM7XG5cbiAgICAgICAgZnVuY3Rpb24gc3RhdHVzVXBkYXRlcih1cGRhdGVPYmplY3QpIHtcblxuICAgICAgICAgICAgLy8gY2FsbGluZyBzZXJ2aWNlIGZ1bmN0aW9uLlxuICAgICAgICAgICAgYWNjb3VudFxuICAgICAgICAgICAgICAgIC51cGRhdGVVc2VyU3RhdHVzKHVwZGF0ZU9iamVjdClcbiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnVwZGF0ZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnN0YXR1c1VwZGF0ZUVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAkcm91dGUucmVsb2FkKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5iYXNpY0FjY291bnRJbmZvRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYmFzaWNBY2NvdW50SW5mb0Vycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHByb3ZtLnN0YXR1c1VwZGF0ZUVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcHJvdm0uYmFzaWNBY2NvdW50SW5mb0Vycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGF1dGhlbnRpY2F0aW9uLmlzTG9nZ2VkSW4oKSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIHByb3ZtLmN1cnJlbnRBY2NvdW50VHlwZSA9IGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkuYWNjb3VudFR5cGU7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIGNoZWNraW5nIGFjY291bnQgdHlwZVxuICAgICAgICAgICAgaWYgKGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkuYWNjb3VudFR5cGUgPT09ICdjdXN0b21lcicpIHtcblxuICAgICAgICAgICAgICAgIHByb3ZtLnByb2ZpbGVTdGF0dXMgPSBhdXRoZW50aWNhdGlvbi5jdXJyZW50VXNlcigpLmFjY291bnRTdGF0dXM7XG5cbiAgICAgICAgICAgICAgICBwcm92bS5jb2RlUmVhZHkgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIHByb3ZtLnNlbmRBY3RpdmF0aW9uQ29kZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcHJvdm0uY29kZVJlYWR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgLmNyZWF0ZUFjdGl2YXRpb25Db2RlKGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkuZW1haWwpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYWN0aXZhdGlvbkNvZGVFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmFjdGl2YXRpb25Db2RlRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZFN0YXR1cyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZV9hdDogJ3Byb2ZpbGVBY3RpdmF0aW9uTWFpbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5lbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzVXBkYXRlcih1cGRhdGVkU3RhdHVzKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5jb2RlUmVhZHkgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5hY3RpdmF0aW9uQ29kZUVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmFjdGl2YXRpb25Db2RlRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmFjdGl2YXRpb25Db2RlRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLy8gZ2V0IHVzZXIgYWNjb3VudCBzdGF0dWVzIFxuICAgICAgICAgICAgICAgIHByb3ZtLmdldFByb2ZpbGVTdGF0dXNlcyA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgLmdldEFjY291bnRTdGF0dXNlcyhhdXRoZW50aWNhdGlvbi5jdXJyZW50VXNlcigpLmVtYWlsKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnN0YXR1c0xvYWRFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnN0YXR1c0xvYWRFcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5zdGF0dXNMb2FkRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0udXNlclN0YXR1c2VzID0gcmVzcG9uc2UuZGF0YS5zdGF0dXNlcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uc3RhdHVzTG9hZEVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5zdGF0dXNMb2FkRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLy8gc2F2aW5nIGJhc2ljIHByb2ZpbGUgaW5mb1xuICAgICAgICAgICAgICAgIHByb3ZtLmJhc2ljUHJvZmlsZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgd2hvczogYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5lbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgdXNlcklkOiBhdXRoZW50aWNhdGlvbi5jdXJyZW50VXNlcigpLnVzZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgZm9ybWVyTmFtZTogJycsXG4gICAgICAgICAgICAgICAgICAgIHNleDogJycsXG4gICAgICAgICAgICAgICAgICAgIHRlbGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICBhZGRyZXNzOiAnJyxcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgcHJvdm0uc2F2ZUJhc2ljSW5mbyA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgLnNhdmVCYXNpY0luZm8ocHJvdm0uYmFzaWNQcm9maWxlKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYmFzaWNBY2NvdW50SW5mb0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYmFzaWNBY2NvdW50SW5mb0Vycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkU3RhdHVzID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlX2F0OiAnYmFzaWNfaW5mbycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5lbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjYWxsaW5nIHNlcnZpY2UgZnVuY3Rpb24uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC51cGRhdGVVc2VyU3RhdHVzKHVwZGF0ZWRTdGF0dXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEudXBkYXRlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5zdGF0dXNVcGRhdGVFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm91dGUucmVsb2FkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5iYXNpY0FjY291bnRJbmZvRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5iYXNpY0FjY291bnRJbmZvRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5zdGF0dXNVcGRhdGVFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYmFzaWNBY2NvdW50SW5mb0Vycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBwcm92bS5icmFuY2ggPSB7XG4gICAgICAgICAgICAgICAgICAgIHllYXI6ICcnLFxuICAgICAgICAgICAgICAgICAgICBicmFuY2g6ICcnLFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvLyBhZGRpbmcgYnJhbmNoIGluZm9cbiAgICAgICAgICAgICAgICBwcm92bS5zYXZlQmF0Y2hJbmZvID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBhY2NvdW50XG4gICAgICAgICAgICAgICAgICAgICAgICAuc2F2ZUJyYW5jaEluZm8oYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5lbWFpbCwgcHJvdm0uYnJhbmNoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJyYW5jaEluZm9FcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJyYW5jaEluZm9FcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5icmFuY2hJbmZvRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRTdGF0dXMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVfYXQ6ICdicmFuY2gnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkuZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2FsbGluZyBzZXJ2aWNlIGZ1bmN0aW9uLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudXBkYXRlVXNlclN0YXR1cyh1cGRhdGVkU3RhdHVzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnVwZGF0ZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYnJhbmNoSW5mb0Vycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb3V0ZS5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJyYW5jaEluZm9FcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJyYW5jaEluZm9FcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJyYW5jaEluZm9FcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYnJhbmNoSW5mb0Vycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJyYW5jaEluZm9FcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYnJhbmNoSW5mb0Vycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8vIHNob3cgYmFzaWMgaW5mb1xuICAgICAgICAgICAgICAgIHByb3ZtLmxvYWRCYXNpY0luZm8gPSAoY29sbGVjdGlvbk5hbWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgLmxvYWRVc2VySW5mbyhjb2xsZWN0aW9uTmFtZSwgYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5lbWFpbClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS51c2VyQmFzaWNJbmZvTG9hZGluZ0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0udXNlckJhc2ljSW5mb0xvYWRpbmdFcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS51c2VyQmFzaWNJbmZvTG9hZGluZ0Vycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJhc2ljSW5mbyA9IHJlc3BvbnNlLmRhdGEudXNlckluZm87XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnVzZXJCYXNpY0luZm9Mb2FkaW5nRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnVzZXJCYXNpY0luZm9Mb2FkaW5nRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgcHJvdm0uZ2V0Q29tbWl0dGVlID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBhY2NvdW50XG4gICAgICAgICAgICAgICAgICAgICAgICAuZ2V0Q29tbWl0dGVlKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5jb21taXR0ZWVzID0gcmVzcG9uc2UuZGF0YS5jb21taXR0ZWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvLyBzaG93IGJyYW5jaCBpbmZvXG4gICAgICAgICAgICAgICAgcHJvdm0ubG9hZFVzZXJCcmFuY2ggPSAoY29sbGVjdGlvbk5hbWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgLmxvYWRVc2VySW5mbyhjb2xsZWN0aW9uTmFtZSwgYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5lbWFpbClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS51c2VySW5mb0xvYWRpbmdFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnVzZXJJbmZvTG9hZGluZ0Vycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnVzZXJJbmZvTG9hZGluZ0Vycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJyYW5jaEluZm8gPSByZXNwb25zZS5kYXRhLnVzZXJJbmZvO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS51c2VySW5mb0xvYWRpbmdFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0udXNlckluZm9Mb2FkaW5nRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICAgIHwgZm9sbG93aW5nIGZ1bmN0aW9uIHdpbGwgYWN0aXZlIHRoZSBwcm9maWxlIFxuICAgICAgICAgICAgICAgIHwgYmFzZWQgb24gZ2l2ZW4gY29kZVxuICAgICAgICAgICAgICAgIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBwcm92bS5hY3RpdmF0aW9uID0ge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiAnJyxcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgcHJvdm0uYWN0aXZlUHJvZmlsZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgLnZhbGlkYXRlQWN0aXZhdGlvbkNvZGUoYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5lbWFpbCwgcHJvdm0uYWN0aXZhdGlvbi5jb2RlKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLkFjdGl2YXRpb25FcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLkFjdGl2YXRpb25FcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5hY3RpdmF0aW9uU3VjY2VzcyA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2FsbGluZyB0aGUgbG9nb3V0IGZ1bmN0aW9uLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0aW9uLkxvZ291dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvdXRlLnJlbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAzMDAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uQWN0aXZhdGlvbkVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5BY3RpdmF0aW9uRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICAgIHwgRm9sbG93aW5nIGZ1bmN0aW9uIHdpbGwgaGFuZGxlIGJhbmsgdGVsbGVyIFxuICAgICAgICAgICAgICAgIHwgdXBsb2FkXG4gICAgICAgICAgICAgICAgfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHByb3ZtLmJhbmtUZWxsZXJJbmZvID0ge1xuICAgICAgICAgICAgICAgICAgICBwcmVmZXJyZWRDb21taXR0ZWU6ICcnLFxuICAgICAgICAgICAgICAgICAgICBhZGRpdGlvbmFsX2NvbW1pdHRlZTogJycsXG4gICAgICAgICAgICAgICAgICAgIHdob3M6IGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkuZW1haWwsXG4gICAgICAgICAgICAgICAgICAgIHVzZXJJZDogYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5hY2NvdW50SWQsXG4gICAgICAgICAgICAgICAgICAgIHRlbGxlckRvYzogJHNjb3BlLnRlbGxlckRvYyxcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgcHJvdm0uc2F2ZUJhbmtUZWxsZXJJbmZvID0gKCkgPT4geyAgIFxuXG4gICAgICAgICAgICAgICAgICAgIGlmICghcHJvdm0uYmFua1RlbGxlckluZm8ucHJlZmVycmVkQ29tbWl0dGVlIHx8ICFwcm92bS5iYW5rVGVsbGVySW5mby5hZGRpdGlvbmFsX2NvbW1pdHRlZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uc2F2ZVRlbGxlckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnNhdmVUZWxsZXJFcnJvck1zZyA9ICdBbGwgKiBmaWVuZHMgYXJlIHJlcXVpcmVkLiBNdXN0IG5vdCBiZSBlbXB0eSc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudXBsb2FkVGVsbGVyRG9jcygkc2NvcGUudGVsbGVyRG9jLCBhdXRoZW50aWNhdGlvbi5jdXJyZW50VXNlcigpLmFjY291bnRJZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5zYXZlVGVsbGVyRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uc2F2ZVRlbGxlckVycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXNwb25zZS5kYXRhLnN1Y2Nlc3MgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJhbmtUZWxsZXJJbmZvLnRlbGxlckRvYyA9IHJlc3BvbnNlLmRhdGEuZG9jTG9jYXRpb247XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc2F2ZUJhbmtUZWxsZXIocHJvdm0uYmFua1RlbGxlckluZm8pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uc2F2ZVRlbGxlckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnNhdmVUZWxsZXJFcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkU3RhdHVzID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZV9hdDogJ2Jhbmt0ZWxsZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiBhdXRoZW50aWNhdGlvbi5jdXJyZW50VXNlcigpLmVtYWlsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNVcGRhdGVyKHVwZGF0ZWRTdGF0dXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvdXRlLnJlbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uc2F2ZVRlbGxlckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uc2F2ZVRlbGxlckVycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uc2F2ZVRlbGxlckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uc2F2ZVRlbGxlckVycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5hY2NvdW50VHlwZSA9PT0gJ2FkbWluJykge1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL3NpZ25pbicpO1xuICAgICAgICB9XG4gICAgfVxuXG59KSgpO1xuIiwiLypcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG58IHNldHRpbmcgdXAgY29udHJvbGxlciBmb3Igc2l0ZS1jb250cm9sbCBwYWdlXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5iYS1zbHAsIDIwMThcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbihmdW5jdGlvbiAoKSB7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25iYXNscCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdzaXRlY29udHJvbGxDdHJsJywgc2l0ZWNvbnRyb2xsQ3RybCk7XG5cbiAgICBzaXRlY29udHJvbGxDdHJsLiRpbmplY3QgPSBbJ2F1dGhlbnRpY2F0aW9uJywgJyRsb2NhdGlvbicsICdzaXRlY29udHJvbGxlciddO1xuXG4gICAgZnVuY3Rpb24gc2l0ZWNvbnRyb2xsQ3RybChhdXRoZW50aWNhdGlvbiwgJGxvY2F0aW9uLCBzaXRlY29udHJvbGxlcikge1xuICAgICAgICBjb25zdCBhZFNpdGUgPSB0aGlzO1xuXG4gICAgICAgIGlmIChhdXRoZW50aWNhdGlvbi5pc0xvZ2dlZEluKCkpIHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkuYWNjb3VudFR5cGUgPT09ICdhZG1pbicpIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBhZFNpdGUuY29tbWl0dGVlID0ge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIC8vIGFkZCBjb21taXR0ZWVcbiAgICAgICAgICAgICAgICBhZFNpdGUuYWRkUHJlZmVycmVkQ29tbWl0dGVlID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzaXRlY29udHJvbGxlclxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZFByZWZlcnJlZENvbW1pdHRlZShhZFNpdGUuY29tbWl0dGVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5hZGRDb21taXR0ZWVFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5hZGRDb21taXR0ZWVFcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuYWRkQ29tbWl0dGVlRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmFkZENvbW1pdHRlZVN1Y2Nlc3NNc2cgPSAnQ29tbWl0dGVlIHN1Y2Nlc3NmdWxseSBhZGRlZCc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2V0IHRpbWUgb3V0IGFuZCBjYWxsIHNob3cgY29tbWl0dGVlIG1ldGhvZC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuc2hvd0NvbW1pdHRlZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAyMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuYWRkQ29tbWl0dGVlRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5hZGRDb21taXR0ZWVFcnJvck1zZyA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvLyBzaG93IGNvbW1pdHRlZVxuICAgICAgICAgICAgICAgIGFkU2l0ZS5zaG93Q29tbWl0dGVlID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzaXRlY29udHJvbGxlclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNob3dBbGxDb21taXR0ZWUoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5jb21taXR0ZWVFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5jb21taXR0ZWVFcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuY29tbWl0dGVlRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmNvbW1pdHRlZUxpc3QgPSByZXNwb25zZS5kYXRhLmNvbW1pdHRlZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmNvbW1pdHRlZUVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuY29tbWl0dGVlRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLy8gcmVtb3ZlIGluZGl2aWR1YWwgY29tbWl0dGVlLlxuICAgICAgICAgICAgICAgIGFkU2l0ZS5yZW1vdmVMaXN0ID0gKGNvbW1pdHRlZUlkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNpdGVjb250cm9sbGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQ29tbWl0dGVlKGNvbW1pdHRlZUlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KHJlc3BvbnNlLmRhdGEuZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuc2hvd0NvbW1pdHRlZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvd2VsY29tZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9zaWduaW4nKTtcbiAgICAgICAgfVxuICAgIH1cblxufSkoKTsiXX0=
