"use strict";!function(){angular.module("nbaslp",["ngResource","ngRoute","720kb.datepicker"]).config(["$routeProvider","$locationProvider",function(l,e){l.when("/",{templateUrl:"home/welcome/welcome.view.html",controller:"welcomeCtrl",controllerAs:"wvm"}).when("/councilmembers",{templateUrl:"councilmembers/councilmembers.view.html",controller:"councilCtrl",controllerAs:"clvm"}).when("/signup",{templateUrl:"signup/signup.view.html",controller:"signupCtrl",controllerAs:"regvm"}).when("/signin",{templateUrl:"signin/signin.view.html",controller:"signinCtrl",controllerAs:"lvm"}).when("/profile",{templateUrl:"profile/profile.view.html",controller:"profileCtrl",controllerAs:"provm"}).when("/help",{templateUrl:"help/help.view.html",controller:"helpCtrl",controllerAs:"hvm"}).when("/sitecontroll",{templateUrl:"admin/sitecontroll/sitecontroll.view.html",controller:"sitecontrollCtrl",controllerAs:"adSite"}).when("/usercontroll",{templateUrl:"admin/usercontroll/usercontroll.view.html",controller:"usercontrollCtrl",controllerAs:"uservm"}).when("/staffcontroll",{templateUrl:"admin/staffcontroll/staffcontroll.view.html",controller:"staffCtrl",controllerAs:"svm"}).when("/welcome",{templateUrl:"welcome/welcome.view.html",controller:"welcomeCtrl",controllerAs:"wvm"}).when("/committees",{templateUrl:"committees/committees.view.html",controller:"committeesCtrl",controllerAs:"cvm"}).when("/events",{templateUrl:"events/events.view.html",controller:"eventsCtrl",controllerAs:"evm"}).when("/aboutus",{templateUrl:"aboutus/aboutus.view.html",controller:"aboutusCtrl",controllerAs:"abvm"}).when("/contactus",{templateUrl:"contactus/contactus.view.html",controller:"contactusCtrl",controllerAs:"cvm"}),e.html5Mode({enabled:!0})}])}();
"use strict";function authentication(n,t){var e=function(t){n.localStorage.nbaslp=t},c=function(){return n.localStorage.nbaslp},a=function(){var t=c(),e=void 0;return!!t&&(e=t.split(".")[1],e=n.atob(e),e=JSON.parse(e))},u=function(n){return n},o=function(n){return n};return{currentUser:function(){if(a){var t=c().split(".")[1];return t=n.atob(t),{userId:(t=JSON.parse(t))._id,email:t.email,accountStatus:t.accountStatus,accountType:t.accountType,accountId:t.userId,name:t.name}}return!1},saveToken:e,getToken:c,isLoggedIn:a,signUp:function(n){return t.post("/api/signup",n).success(function(n){e(n.token)})},signIn:function(n){return t.post("/api/signin",n).success(function(n){e(n.token)})},checkUser:function(n){return t.post("/api/checkuser",n).then(u).catch(o)},countUser:function(n){return t.get("/api/"+n+"/count").then(u).catch(o)},verifyKey:function(n,e){return t.get("/api/"+n+"/"+e+"/verify").then(u).catch(o)},changePassword:function(n){return t.post("/api/changepassword",n).then(u).catch(o)},Logout:function(){n.localStorage.removeItem("nbaslp")}}}angular.module("nbaslp").service("authentication",authentication),authentication.$inject=["$window","$http"];
"use strict";!function(){function t(t,n){var e=function(t){return t},a=function(t){return t};return{resetPassword:function(t,c){return n.post("/api/"+t+"/resetpassword",c).then(e).catch(a)},uploadTellerDocs:function(t,c){return n.post("/api/"+t+"/bankteller",c).then(e).catch(a)},createActivationCode:function(t){return n.post("/api/"+t+"/generatevalidationcode").then(e).catch(a)},validateActivationCode:function(t,c){return n.post("/api/"+t+"/"+c+"/validate").then(e).catch(a)},getAccountStatuses:function(t){return n.get("/api/"+t+"/statuses").then(e).catch(a)},updateUserStatus:function(t){return n.post("/api/userstatus",t).then(e).catch(a)},saveBasicInfo:function(t){return n.post("/api/createbasicprofile",t).then(e).catch(a)},editBasicInfo:function(t,c){return n.put("/api/"+t+"/editbasicinfo",c).then(e).catch(a)},saveBranchInfo:function(t,c){return n.post("/api/"+t+"/savebranchinfo",c).then(e).catch(a)},editBranchInfo:function(t,c){return n.put("/api/"+t+"/branch",c).then(e).catch(a)},loadUserInfo:function(t,c){return n.get("/api/"+c+"/"+t+"/userinfo").then(e).catch(a)},getCommittee:function(){return n.get("/api/showcommittee").then(e).catch(a)},saveBankTeller:function(t){return n.post("/api/savebankteller",t).then(e).catch(a)},getBankTeller:function(t){return n.get("/api/"+t+"/bankteller").then(e).catch(a)},approveTeller:function(t){return n.put("/api/bankteller",t).then(e).catch(a)}}}angular.module("nbaslp").service("account",t),t.$inject=["$window","$http"]}();
"use strict";!function(){function t(t){var e=function(t){return t},n=function(t){return t};return{addPreferredCommittee:function(c){return t.post("/api/createcommittee",c).then(e).catch(n)},showAllCommittee:function(){return t.get("/api/showcommittee").then(e).catch(n)},removeCommittee:function(c){return t.delete("/api/"+c+"/removecommittee").then(e).catch(n)},addCouncil:function(c){return t.post("/api/councilmember",c).then(e).catch(n)},showCouncilMember:function(){return t.get("/api/showcouncil").then(e).catch(n)},removeCouncil:function(c){return t.delete("/api/"+c+"/council").then(e).catch(n)},addEvent:function(c){return t.post("/api/event",c).then(e).catch(n)},showEvent:function(){return t.get("/api/showEvent").then(e).catch(n)},removeEvent:function(c){return t.delete("/api/"+c+"/event").then(e).catch(n)}}}angular.module("nbaslp").service("sitecontroller",t),t.$inject=["$http"]}();
"use strict";!function(){function e(e){var t=function(e){return e},n=function(e){return e};return{showMembers:function(){return e.get("/api/members").then(t).catch(n)},showSingleMember:function(r){return e.get("/api/"+r+"/member").then(t).catch(n)},showMemberProfile:function(r){return e.get("/api/"+r+"/profile").then(t).catch(n)},showMemberBranch:function(r){return e.get("/api/"+r+"/branch").then(t).catch(n)},filterAction:function(r,c){return e.get("/api/"+r+"/"+c).then(t).catch(n)}}}angular.module("nbaslp").service("usercontroller",e),e.$inject=["$http"]}();
"use strict";!function(){function r(r,e,o,a){var n=this;n.approveProcess=!1,n.approveEdit=!1,n.usernotLoaded=!0,n.alluser=!0,n.initialTitle="List of all user",n.paidMemberControl=!1,n.unPaidMemberControl=!1,n.loadUserList=function(){n.alluser=!0,n.paidMemberControl=!1,n.unPaidMemberControl=!1,n.initialTitle="List of all user",r.showMembers().then(function(r){r.data.error?(n.showMemberError=!0,n.showMemberErrorMsg=r.data.error):n.members=r.data.members}).catch(function(r){n.showMemberError=!0,n.showMemberErrorMsg=r})},n.collectUserDetail=function(e){var o=e;n.usernotLoaded=!1,r.showSingleMember(o).then(function(r){r.data.error?(n.singleMemberLoadingError=!0,n.singleMemberLoadingErrorMsg=r.data.error):(n.singleMemberLoadingError=!1,n.singleMember=r.data.member,n.loadBankTeller(n.singleMember.email),n.loadUserBranch(n.singleMember.email))}).catch(function(r){n.singleMemberLoadingError=!0,n.singleMemberLoadingErrorMsg=r})},n.loadPaidMember=function(e,o){n.alluser=!1,n.paidMemberControl=!0,n.unPaidMemberControl=!1,n.initialTitle="List Of Only Paid User(s)";var a=o,l=e;r.filterAction(a,l).then(function(r){r.data.error?(n.loadPaidMemberError=!0,n.loadPaidMemberErrorMsg=r.data.error):r.data.verifiedUsers.length<1?(n.loadPaidMemberError=!0,n.loadPaidMemberErrorMsg="No paid member has found"):(n.loadPaidMemberError=!1,n.paidListUsers=r.data.verifiedUsers)}).catch(function(r){n.loadPaidMemberError=!0,n.loadPaidMemberErrorMsg=r})},n.filterControll=function(r,e){"alluser"===r?n.loadUserList():"paid"===r?n.loadPaidMember(r,e):"unpaid"===r&&n.loadUnPaidMember(r,e)},n.loadUnPaidMember=function(e,o){n.alluser=!1,n.paidMemberControl=!1,n.unPaidMemberControl=!0,n.initialTitle="List Of Only Unpaid User(s)";var a=o,l=e;r.filterAction(a,l).then(function(r){console.log("response",r),r.data.error?(n.loadUnPaidMemberError=!0,n.loadUnPaidMemberErrorMsg=r.data.error):r.data.verifiedUsers.length<1?(n.loadUnPaidMemberError=!0,n.loadUnPaidMemberErrorMsg="No unpaid member has found"):(n.loadUnPaidMemberError=!1,n.unPaidListUsers=r.data.verifiedUsers)}).catch(function(r){n.loadUnPaidMemberError=!0,n.loadUnPaidMemberErrorMsg=r})},n.loadUserProfile=function(){var e=o.v;r.showMemberProfile(e).then(function(r){r.data.error?(n.profileLoadingError=!0,n.profileLoadingErrorMsg=r.data.error):(n.profileLoadingError=!1,n.memberProfile=r.data.profile)}).catch(function(r){n.profileLoadingError=!0,n.profileLoadingErrorMsg=r})},n.loadUserBranch=function(e){var o=e;r.showMemberBranch(o).then(function(r){r.data.error?(n.branchLoadingError=!0,n.branchLoadingErrorMsg=r.data.error):(n.branchLoadingError=!1,n.memberBranch=r.data.branch)}).catch(function(r){n.branchLoadingError=!0,n.branchLoadingErrorMsg=r})},n.loadBankTeller=function(r){var o=r;e.getBankTeller(o).then(function(r){r.data.error?(n.bankTellerLoadingError=!0,n.bankTellerLoadingErrorMsg=r.data.error):null===r.data.bankTeller?(n.bankTellerLoadingError=!0,n.bankTellerLoadingErrorMsg="This user has not uploaded any bank teller yet"):(n.bankTellerLoadingError=!1,n.memberbankTeller=r.data.bankTeller,!1===r.data.bankTeller.tellerApproved&&"valid till date"===r.data.bankTeller.tellerValidTill?n.approveProcess=!0:n.approveEdit=!0)}).catch(function(r){n.bankTellerLoadingError=!0,n.bankTellerLoadingErrorMsg=r})},n.tellerApproved={validTill:"",valid:"",whos:""},n.approveTeller=function(r){n.tellerApproved.whos=r,e.approveTeller(n.tellerApproved).then(function(r){r.data.error?(n.tellerApprovedError=!0,n.tellerApprovedErrorMsg=r.data.error):(n.tellerApprovedError=!1,a.reload())}).catch(function(r){n.tellerApprovedError=!0,n.tellerApprovedErrorMsg=r})},n.editBankTellerApproving=function(){n.approveEdit=!1,n.approveProcess=!0},n.cancelTellerSubmission=function(){n.approveEdit=!0,n.approveProcess=!1}}angular.module("nbaslp").controller("usercontrollCtrl",r),r.$inject=["usercontroller","account","$routeParams","$route"]}();
"use strict";!function(){function n(n,t){n.isLoggedIn()?"admin"===n.currentUser().accountType||t.path("/welcome"):t.path("/signin")}angular.module("nbaslp").controller("staffCtrl",n),n.$inject=["authentication","$location"]}();
"use strict";!function(){function n(n){var t=function(n){return n},e=function(n){return n};return{sendContactMessage:function(r){return n.post("/api/sendmessage",r).then(t).catch(e)}}}angular.module("nbaslp").service("systemService",n),n.$inject=["$http"]}();
"use strict";!function(){angular.module("nbaslp").directive("siteNav",function(){return{restrict:"EA",templateUrl:"common/directives/nav/site-nav.template.html",controller:"navCtrl as nvm"}})}();
"use strict";!function(){function n(n,t){var o=this;n.isLoggedIn()?(o.loggedInUri=!0,o.loggedInName=n.currentUser().name,o.currentAccountType=n.currentUser().accountType):o.loggedInUri=!1,o.logout=function(){n.Logout(),t.path("/signin")}}angular.module("nbaslp").controller("navCtrl",n),n.$inject=["authentication","$location"]}();
"use strict";!function(){angular.module("nbaslp").directive("siteFooter",function(){return{restrict:"EA",templateUrl:"common/directives/footer/footer.template.html"}})}();
"use strict";!function(){function n(n){return{restrict:"A",link:function(i,e,t){var c=n(t.fileModel).assign;e.on("change",function(){i.$apply(function(){c(i,e[0].files[0])})})}}}angular.module("nbaslp").directive("fileModel",n),n.$inject=["$parse"]}();
"use strict";!function(){angular.module("nbaslp").directive("sideBar",function(){return{restrict:"EA",templateUrl:"common/directives/sidebar/sidebar.template.html"}})}();
"use strict";!function(){angular.module("nbaslp").controller("welcomeCtrl",function(){})}();
"use strict";!function(){function t(t){var o=this;o.loadCommittee=function(){t.showAllCommittee().then(function(t){t.data.error?(o.committeeLoadingError=!0,o.committeeLoadingErrorMsg=t.data.error):(o.committeeLoadingError=!1,o.committees=t.data.committee)}).catch(function(t){o.committeeLoadingError=!0,o.committeeLoadingErrorMsg=t})}}angular.module("nbaslp").controller("committeesCtrl",t),t.$inject=["sitecontroller"]}();
"use strict";!function(){function o(o){var r=this;r.loadCouncilMembers=function(){o.showCouncilMember().then(function(o){console.log(o),o.data.error?(r.committeeLoadingError=!0,r.committeeLoadingErrorMsg=o.data.error):(r.committeeLoadingError=!1,r.councils=o.data.data)}).catch(function(o){r.committeeLoadingError=!0,r.committeeLoadingErrorMsg=o})}}angular.module("nbaslp").controller("councilCtrl",o),o.$inject=["sitecontroller"]}();
"use strict";!function(){function e(e){var n=this;n.showEvents=function(){e.showEvent().then(function(e){e.data.error?(n.eventLoadError=!0,n.eventLoadErrorMsg=e.data.error):(n.eventLoadError=!1,n.events=e.data.events,n.events.length>0?n.noEvent=!1:n.noEvent=!0)}).catch(function(e){n.eventLoadError=!0,n.eventLoadErrorMsg=e})}}angular.module("nbaslp").controller("eventsCtrl",e),e.$inject=["sitecontroller"]}();
"use strict";!function(){angular.module("nbaslp").controller("aboutusCtrl",function(){})}();
"use strict";!function(){function e(e){var s=this;s.contact={name:"",email:"",message:""},s.contactUs=function(){e.sendContactMessage(s.contact).then(function(e){e.data.error?(s.sendMessageError=!0,s.sendMessageErrorMsg=e.data.error):(s.sendMessageSuccess=!0,s.sendMessageSuccessMsg="We have received your message. We will be in touch with you soon")}).catch(function(e){s.sendMessageError=!0,s.sendMessageErrorMsg=e})}}angular.module("nbaslp").controller("contactusCtrl",e),e.$inject=["systemService"]}();
"use strict";!function(){function r(r,t){var o=this;o.user={firstName:"",lastName:"",displayName:"",email:"",password:"",confirmPassword:""},o.register=function(){r.signUp(o.user).then(function(r){r.data.error?(o.RegistrationError=!0,o.RegistrationErrorMsg=r.data.error):(o.RegistrationError=!1,t.path("/welcome"))}).catch(function(r){r&&(o.RegistrationError=!0,o.RegistrationErrorMsg=r.data.error)})},r.isLoggedIn()&&t.path("/welcome")}angular.module("nbaslp").controller("signupCtrl",r),r.$inject=["authentication","$location"]}();
"use strict";!function(){function r(r,o){var n=this;n.user={email:"",password:""},r.isLoggedIn()?o.path("/welcome"):(n.login=function(){n.user.email&&n.user.password?(n.loginError=!1,n.doLogin()):(n.loginError=!0,n.loginErrorMsg="Error! all * fields are required")},n.doLogin=function(){r.signIn(n.user).error(function(r){n.loginError=!0,n.loginErrorMsg=r.error}).then(function(){o.path("/welcome")})})}angular.module("nbaslp").controller("signinCtrl",r),r.$inject=["authentication","$location"]}();
"use strict";!function(){function r(r,a,o,e,t){var n=this;n.resetpassword={password:"",repeat_password:"",new_password:""},n.resetPassword=function(){e.resetPassword(a.currentUser().email,n.resetpassword).then(function(r){r.data.error?(n.resetPasswordError=!0,n.resetPasswordErrorMsg=r.data.error):(n.resetPasswordError=!1,n.resetSuccess=!0,setTimeout(function(){a.Logout(),t.reload()},200))}).catch(function(r){n.resetPasswordError=!0,n.resetPasswordErrorMsg=r})},a.isLoggedIn()?(n.currentAccountType=a.currentUser().accountType,"customer"===a.currentUser().accountType?(n.profileStatus=a.currentUser().accountStatus,n.codeReady=!1,n.basicProfileEditOn=!1,n.branchInfoEditOn=!1,n.sendActivationCode=function(){n.codeReady=!0,e.createActivationCode(a.currentUser().email).then(function(r){if(r.data.error)n.activationCodeError=!0,n.activationCodeErrorMsg=r.data.error;else{var o={update_at:"profileActivationMail",email:a.currentUser().email,status:!0};c=o,e.updateUserStatus(c).then(function(r){!0===r.data.updated?(n.statusUpdateError=!1,t.reload()):(n.basicAccountInfoError=!0,n.basicAccountInfoErrorMsg=r.data.error)}).catch(function(r){n.statusUpdateError=!0,n.basicAccountInfoErrorMsg=r}),n.codeReady=!1,n.activationCodeError=!1}var c}).catch(function(r){n.activationCodeError=!0,n.activationCodeErrorMsg=r})},n.getProfileStatuses=function(){e.getAccountStatuses(a.currentUser().email).then(function(r){r.data.error?(n.statusLoadError=!0,n.statusLoadErrorMsg=r.data.error):(n.statusLoadError=!1,n.userStatuses=r.data.statuses)}).catch(function(r){n.statusLoadError=!0,n.statusLoadErrorMsg=r})},n.basicProfile={whos:a.currentUser().email,userId:a.currentUser().userId,formerName:"",sex:"",tele:"",address:""},n.saveBasicInfo=function(){e.saveBasicInfo(n.basicProfile).then(function(r){if(r.data.error)n.basicAccountInfoError=!0,n.basicAccountInfoErrorMsg=r.data.error;else{var o={update_at:"basic_info",email:a.currentUser().email,status:!0};e.updateUserStatus(o).then(function(r){!0===r.data.updated?(n.statusUpdateError=!1,t.reload()):(n.basicAccountInfoError=!0,n.basicAccountInfoErrorMsg=r.data.error)}).catch(function(r){n.statusUpdateError=!0,n.basicAccountInfoErrorMsg=r})}}).catch(function(r){})},n.branch={year:"",branch:""},n.saveBatchInfo=function(){e.saveBranchInfo(a.currentUser().email,n.branch).then(function(r){if(r.data.error)n.branchInfoError=!0,n.branchInfoErrorMsg=r.data.error;else if(r.data.success){n.branchInfoError=!1;var o={update_at:"branch",email:a.currentUser().email,status:!0};e.updateUserStatus(o).then(function(r){!0===r.data.updated?(n.branchInfoError=!1,t.reload()):(n.branchInfoError=!0,n.branchInfoErrorMsg=r.data.error)}).catch(function(r){n.branchInfoError=!0,n.branchInfoErrorMsg=r})}}).catch(function(r){n.branchInfoError=!0,n.branchInfoErrorMsg=r})},n.loadBasicInfo=function(r){e.loadUserInfo(r,a.currentUser().email).then(function(r){r.data.error?(n.userBasicInfoLoadingError=!0,n.userBasicInfoLoadingErrorMsg=r.data.error):(n.userBasicInfoLoadingError=!1,n.basicInfo=r.data.userInfo)}).catch(function(r){n.userBasicInfoLoadingError=!0,n.userBasicInfoLoadingErrorMsg=r})},n.editBasicInfo=function(r){n.basicProfileEditOn=!0,n.editBasic={name:n.basicInfo.formerName,sex:n.basicInfo.sex,address:n.basicInfo.address,tele:n.basicInfo.telephone},n.SaveEditBasicInfo=function(){e.editBasicInfo(r,n.editBasic).then(function(r){r.data.error?(n.editBasicInfoError=!0,n.editBasicInfoErrorMsg=r.data.error):(n.editBasicInfoError=!1,t.reload())}).catch(function(r){n.editBasicInfoError=!0,n.editBasicInfoErrorMsg=r})}},n.cancleBasicEdit=function(){n.basicProfileEditOn=!1},n.getCommittee=function(){e.getCommittee().then(function(r){n.committees=r.data.committee}).catch(function(r){console.log(r)})},n.loadUserBranch=function(r){e.loadUserInfo(r,a.currentUser().email).then(function(r){r.data.error?(n.userInfoLoadingError=!0,n.userInfoLoadingErrorMsg=r.data.error):(n.userInfoLoadingError=!1,n.branchInfo=r.data.userInfo)}).catch(function(r){n.userInfoLoadingError=!0,n.userInfoLoadingErrorMsg=r})},n.editBranchInfo=function(r){n.branchInfoEditOn=!0,n.editBranch={baryear:n.branchInfo.barYear,branch:n.branchInfo.nbaBranch},n.saveEditBranchInfo=function(){e.editBranchInfo(r,n.editBranch).then(function(r){r.data.error?(n.editBranchInfoError=!0,n.editBranchInfoErrorMsg=r.data.error):(n.editBranchInfoError=!1,t.reload())}).catch(function(r){n.editBranchInfoError=!0,n.editBranchInfoErrorMsg=r})}},n.cancelEditBranchInfo=function(){n.branchInfoEditOn=!1},n.activation={code:""},n.activeProfile=function(){e.validateActivationCode(a.currentUser().email,n.activation.code).then(function(r){r.data.error?(n.ActivationError=!0,n.ActivationErrorMsg=r.data.error):r.data.success&&(n.activationSuccess=!0,setTimeout(function(){a.Logout(),t.reload()},3e3))}).catch(function(r){n.ActivationError=!0,n.ActivationErrorMsg=r})},n.bankTellerInfo={preferredCommittee:"",additional_committee:"",bank:"",branch:"",depositor:"",depositor_tel:"",tellerno:"",amount:"",datedeposit:"",userId:a.currentUser().accountId},n.saveBankTellerInfo=function(){e.uploadTellerDocs(a.currentUser().email,n.bankTellerInfo).then(function(r){if(r.data.error)n.saveTellerError=!0,n.saveTellerErrorMsg=r.data.error;else{n.saveTellerError=!1;var o={update_at:"bankteller",email:a.currentUser().email,status:!0};e.updateUserStatus(o).then(function(r){!0===r.data.updated?(n.branchInfoError=!1,t.reload()):(n.branchInfoError=!0,n.branchInfoErrorMsg=r.data.error)}).catch(function(r){n.branchInfoError=!0,n.branchInfoErrorMsg=r})}}).catch(function(r){n.saveTellerError=!0,n.saveTellerErrorMsg=r})},n.getCurrentBankTeller=function(){e.getBankTeller(a.currentUser().email).then(function(r){console.log("teller",r),r.data.error?(n.bankTellerLoadingError=!0,n.bankTellerLoadingErrorMsg=r.data.error):(n.bankTellerLoadingError=!1,n.userBankTeller=r.data.bankTeller)}).catch(function(r){n.bankTellerLoadingError=!0,n.bankTellerLoadingErrorMsg=r})}):a.currentUser().accountType):o.path("/signin")}angular.module("nbaslp").controller("profileCtrl",r),r.$inject=["$scope","authentication","$location","account","$route"]}();
"use strict";!function(){function n(n,t){}angular.module("nbaslp").controller("welcomeCtrl",n),n.$inject=["authentication","$location"]}();
"use strict";!function(){function r(r,e){var s=this;s.checkUserForm=!0,s.PasswordresetForm=!1,s.verifyAjaxLoader=!1,s.showPassResetForm=!1,s.checkingRoute=function(){e.current.params&&"forgot_password"===e.current.params.v?(s.PasswordresetForm=!1,s.user={email:""},s.checkUser=function(){r.checkUser(s.user).then(function(r){r.data.error?(s.userCheckingError=!0,s.userCheckingErrorMsg=r.data.error):r.data.security?(s.userCheckingError=!0,s.userCheckingErrorMsg="If you have account with us, we have sent you password reset link"):s.userCheckingError=!1}).catch(function(r){s.userCheckingError=!0,s.userCheckingErrorMsg=r})}):e.current.params&&e.current.params.r&&e.current.params.u&&(s.PasswordresetForm=!0,s.checkUserForm=!1,s.verifyAjaxLoader=!0,s.varifyUserDetails(),s.changePasswordInfo={key:e.current.params.r,user:e.current.params.u,newpassword:"",repeatpassword:""},s.changePassword=function(){r.changePassword(s.changePasswordInfo).then(function(r){console.log(r),r.data.error?(s.changePassError=!0,s.changePassErrorMsg=r.data.error):s.changePassError=!1}).catch(function(r){s.changePassError=!0,s.changePassErrorMsg=r})})},s.varifyUserDetails=function(){r.countUser(e.current.params.u).then(function(a){a.data.error?(s.userVerificationUserError=!0,s.userVerificationUserErrorMsg=a.data.error,s.verifyAjaxLoader=!1):r.verifyKey(e.current.params.u,e.current.params.r).then(function(r){r.data.error?(s.userVerificationUserError=!0,s.userVerificationUserErrorMsg=r.data.error):(s.userVerificationUserError=!1,s.showPassResetForm=!0,s.verifyAjaxLoader=!1)}).catch(function(r){s.userVerificationUserError=!0,s.userVerificationUserErrorMsg=r})}).catch(function(r){s.userVerificationUserError=!0,s.userVerificationUserErrorMsg=r,s.verifyAjaxLoader=!1})}}angular.module("nbaslp").controller("helpCtrl",r),r.$inject=["authentication","$route"]}();
"use strict";!function(){function t(t,o,e){var r=this;t.isLoggedIn()?"admin"===t.currentUser().accountType?(r.committee={name:""},r.addPreferredCommittee=function(){e.addPreferredCommittee(r.committee).then(function(t){t.data.error?(r.addCommitteeError=!0,r.addCommitteeErrorMsg=t.data.error):(r.addCommitteeError=!1,r.addCommitteeSuccessMsg="Committee successfully added",setTimeout(function(){r.showCommittee()},200))}).catch(function(t){r.addCommitteeError=!0,r.addCommitteeErrorMsg=t})},r.showCommittee=function(){e.showAllCommittee().then(function(t){t.data.error?(r.committeeError=!0,r.committeeErrorMsg=t.data.error):(r.committeeError=!1,r.committeeList=t.data.committee)}).catch(function(t){r.committeeError=!0,r.committeeErrorMsg=t})},r.removeList=function(t){e.removeCommittee(t).then(function(t){t.data.error?alert(t.data.error):setTimeout(function(){r.showCommittee()},100)}).catch(function(t){alert(t)})},r.council={name:""},r.addCouncilMember=function(){e.addCouncil(r.council).then(function(t){t.data.error?(r.councilAddError=!0,r.councilAddErrorMsg=t.data.error):(r.councilAddError=!1,setTimeout(function(){r.showCouncil()},100))}).catch(function(t){r.councilAddError=!0,r.councilAddErrorMsg=t})},r.showCouncil=function(){e.showCouncilMember().then(function(t){t.data.error?(r.councilShowError=!0,r.councilShowErrorMsg=t.data.error):(r.councilShowError=!1,r.councils=t.data.data)}).catch(function(t){r.councilShowError=!0,r.councilShowErrorMsg=t})},r.removeCouncil=function(t){e.removeCouncil(t).then(function(t){setTimeout(function(){r.showCouncil()},100)}).catch(function(t){alert(t)})},r.event={eventTitle:"",eventDetails:"",eventStarts:"",eventEnds:""},r.addEvent=function(){e.addEvent(r.event).then(function(t){t.data.error?(r.eventAddError=!0,r.eventAddErrorMsg=t.data.error):t.data.success&&(r.eventAddError=!1,r.eventAddSuccess=!0,setTimeout(function(){r.showEvent()},200))}).catch(function(t){r.eventAddError=!0,r.eventAddErrorMsg=t})},r.showEvent=function(){e.showEvent().then(function(t){t.data.error?(r.showEventError=!0,r.showEventErrorMsg=t.data.error):t.data.success&&(r.showEventError=!1,r.events=t.data.events)}).catch(function(t){r.showEventError=!0,r.showEventErrorMsg=t})},r.removeEvent=function(t){e.removeEvent(t).then(function(t){t.data.error?(r.showEventError=!0,r.showEventErrorMsg=t.data.error):t.data.success&&setTimeout(function(){r.showEvent()},100)}).catch(function(t){console.log(t)})}):o.path("/welcome"):o.path("/signin")}angular.module("nbaslp").controller("sitecontrollCtrl",t),t.$inject=["authentication","$location","sitecontroller"]}();
"use strict";$(document).ready(function(){$("#checkUser").focus(),$(".user-list-controll li a").on("click",function(){})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImF1dGhlbnRpY2F0aW9uLnNlcnZpY2UuanMiLCJhY2NvdW50LnNlcnZpY2UuanMiLCJzaXRlLWNvbnRyb2xsZXIuc2VydmljZS5qcyIsInVzZXItY29udHJvbGxlci5zZXJ2aWNlLmpzIiwidXNlcmNvbnRyb2xsLmNvbnRyb2xsZXIuanMiLCJzdGFmZmNvbnRyb2xsZXIuY29udHJvbGxlci5qcyIsInN5c3RlbS5zZXJ2aWNlLmpzIiwibmF2LmRpcmVjdGl2ZS5qcyIsIm5hdi5jb250cm9sbGVyLmpzIiwiZm9vdGVyLmRpcmVjdGl2ZS5qcyIsImZpbGVNb2RlbC5kaXJlY3RpdmUuanMiLCJzaWRlYmFyLmRpcmVjdGl2ZS5qcyIsIndlbGNvbWUuY29udHJvbGxlci5qcyIsImNvbW1pdHRlZXMuY29udHJvbGxlci5qcyIsImNvdW5jaWxtZW1iZXJzLmNvbnRyb2xsZXIuanMiLCJldmVudHMuY29udHJvbGxlci5qcyIsImFib3V0dXMuY29udHJvbGxlci5qcyIsImNvbnRhY3R1cy5jb250cm9sbGVyLmpzIiwic2lnbnVwLmNvbnRyb2xsZXIuanMiLCJzaWduaW4uY29udHJvbGxlci5qcyIsInByb2ZpbGUuY29udHJvbGxlci5qcyIsImhlbHAuY29udHJvbGxlci5qcyIsInNpdGVjb250cm9sbC5jb250cm9sbGVyLmpzIiwic2l0ZS1vcHIuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImNvbmZpZyIsInRlbXBsYXRlVXJsIiwiJGxvY2F0aW9uUHJvdmlkZXIiLCJjb250cm9sbGVyIiwiY29udHJvbGxlckFzIiwid2hlbiIsImVuYWJsZWQiLCJodG1sNU1vZGUiLCJzYXZlVG9rZW4iLCIkd2luZG93IiwidG9rZW4iLCJsb2NhbFN0b3JhZ2UiLCJnZXRUb2tlbiIsImlzTG9nZ2VkSW4iLCJwYXlsb2FkIiwiSlNPTiIsInBhcnNlIiwiYXRvYiIsImNvdW50VXNlciIsInJlc3BvbnNlIiwiY2hhbmdlUGFzc3dvcmQiLCJjdXJyZW50VXNlciIsInNwbGl0IiwiYWNjb3VudFN0YXR1cyIsImFjY291bnRUeXBlIiwidXNlcklkIiwiX2lkIiwiYWNjb3VudElkIiwibmFtZSIsIkxvZ291dCIsInNpZ25VcCIsInVzZXIiLCIkaHR0cCIsInBvc3QiLCJzdWNjZXNzIiwiZGF0YSIsInNpZ25JbiIsImNoZWNrVXNlciIsInRoZW4iLCJoYW5kbGVTdWNjZXNzIiwidmVyaWZ5S2V5IiwiZ2V0IiwiY2F0Y2giLCJoYW5kbGVFcnJvciIsImtleSIsInJlbW92ZUl0ZW0iLCJhdXRoZW50aWNhdGlvbiIsInJlc2V0UGFzc3dvcmQiLCJyZXNldERhdGEiLCJjcmVhdGVBY3RpdmF0aW9uQ29kZSIsInVwbG9hZFRlbGxlckRvY3MiLCJnZXRBY2NvdW50U3RhdHVzZXMiLCJ2YWxpZGF0ZUFjdGl2YXRpb25Db2RlIiwiZ2V0Q29tbWl0dGVlIiwiY29kZSIsInVwZGF0ZVVzZXJTdGF0dXMiLCJzYXZlQmFzaWNJbmZvIiwiZ2V0QmFua1RlbGxlciIsImVkaXRCYXNpY0luZm8iLCJwdXQiLCJzYXZlQnJhbmNoSW5mbyIsImxvYWRVc2VySW5mbyIsImVkaXRCcmFuY2hJbmZvIiwiYXBwcm92ZVRlbGxlciIsImNvbGxlY3Rpb25OYW1lIiwic2F2ZUJhbmtUZWxsZXIiLCJ0ZWxsZXIiLCJhY2NvdW50IiwiJGluamVjdCIsImFkZFByZWZlcnJlZENvbW1pdHRlZSIsInNob3dBbGxDb21taXR0ZWUiLCJhZGRDb3VuY2lsIiwicmVtb3ZlQ29tbWl0dGVlIiwiY29tbWl0dGVlSWQiLCJkZWxldGUiLCJyZW1vdmVDb3VuY2lsIiwiYWRkRXZlbnQiLCJldmVudCIsInNob3dDb3VuY2lsTWVtYmVyIiwicmVtb3ZlRXZlbnQiLCJjb3VuY2lsSWQiLCJzaG93RXZlbnQiLCJldmVudElkIiwic2l0ZWNvbnRyb2xsZXIiLCJzaG93TWVtYmVycyIsInNob3dTaW5nbGVNZW1iZXIiLCJtZW1iZXJJZCIsInNob3dNZW1iZXJCcmFuY2giLCJzaG93TWVtYmVyUHJvZmlsZSIsImZpbHRlckFjdGlvbiIsInVzZXJjb250cm9sbGVyIiwidXNlcnZtIiwiJHJvdXRlUGFyYW1zIiwiJHJvdXRlIiwiYXBwcm92ZVByb2Nlc3MiLCJ1c2Vybm90TG9hZGVkIiwiYWxsdXNlciIsInBhaWRNZW1iZXJDb250cm9sIiwibG9hZFVzZXJMaXN0IiwidW5QYWlkTWVtYmVyQ29udHJvbCIsImluaXRpYWxUaXRsZSIsIm1lbWJlcnMiLCJzaG93TWVtYmVyRXJyb3IiLCJzaG93TWVtYmVyRXJyb3JNc2ciLCJlcnJvciIsImVyciIsImNvbGxlY3RVc2VyRGV0YWlsIiwic2luZ2xlTWVtYmVyTG9hZGluZ0Vycm9yIiwibWVtZWJySWQiLCJsb2FkQmFua1RlbGxlciIsInNpbmdsZU1lbWJlckxvYWRpbmdFcnJvck1zZyIsIm1lbWJlciIsInNpbmdsZU1lbWJlciIsImVtYWlsIiwibG9hZFVzZXJCcmFuY2giLCJRdWVyeVNvdXJjZSIsImxvYWRQYWlkTWVtYmVyIiwiYWN0aW9uIiwic291cmNlIiwibG9hZFBhaWRNZW1iZXJFcnJvciIsImxvYWRQYWlkTWVtYmVyRXJyb3JNc2ciLCJ2ZXJpZmllZFVzZXJzIiwiUXVlcnlBY3Rpb24iLCJsZW5ndGgiLCJsb2FkVW5QYWlkTWVtYmVyIiwibG9hZFVuUGFpZE1lbWJlckVycm9yIiwibG9hZFVuUGFpZE1lbWJlckVycm9yTXNnIiwidW5QYWlkTGlzdFVzZXJzIiwibG9hZFVzZXJQcm9maWxlIiwiY29uc29sZSIsImxvZyIsInByb2ZpbGVMb2FkaW5nRXJyb3IiLCJtZW1iZXJQcm9maWxlIiwicHJvZmlsZSIsInByb2ZpbGVMb2FkaW5nRXJyb3JNc2ciLCJicmFuY2hMb2FkaW5nRXJyb3IiLCJicmFuY2hMb2FkaW5nRXJyb3JNc2ciLCJiYW5rVGVsbGVyTG9hZGluZ0Vycm9yTXNnIiwiYmFua1RlbGxlckxvYWRpbmdFcnJvciIsIm1lbWJlcmJhbmtUZWxsZXIiLCJhcHByb3ZlRWRpdCIsIm1lbWJlckJyYW5jaCIsImJyYW5jaCIsInRlbGxlckFwcHJvdmVkIiwidmFsaWRUaWxsIiwidGVsbGVyQXBwcm92ZWRFcnJvciIsInJlbG9hZCIsImJhbmtUZWxsZXIiLCJ0ZWxsZXJBcHByb3ZlZEVycm9yTXNnIiwiZWRpdEJhbmtUZWxsZXJBcHByb3ZpbmciLCJ0ZWxsZXJWYWxpZFRpbGwiLCJ2YWxpZCIsIndob3MiLCJjYW5jZWxUZWxsZXJTdWJtaXNzaW9uIiwidXNlcmNvbnRyb2xsQ3RybCIsInN0YWZmQ3RybCIsIiRsb2NhdGlvbiIsInBhdGgiLCJzZW5kQ29udGFjdE1lc3NhZ2UiLCJtZXNzYWdlIiwic3lzdGVtU2VydmljZSIsImRpcmVjdGl2ZSIsInNpdGVOYXYiLCJyZXN0cmljdCIsIm5hdkN0cmwiLCJudm0iLCJsb2dnZWRJbk5hbWUiLCJjdXJyZW50QWNjb3VudFR5cGUiLCJsb2dnZWRJblVyaSIsImxvZ291dCIsInNpdGVGb290ZXIiLCJmaWxlTW9kZWwiLCJsaW5rIiwic2NvcGUiLCIkZWxlbWVudCIsInBhcnNlZEZpbGVTZXR0ZXIiLCIkcGFyc2UiLCJhdHRycyIsImFzc2lnbiIsIm9uIiwiJGFwcGx5IiwiZmlsZXMiLCJzaWRlQmFyIiwiY29tbWl0dGVlc0N0cmwiLCJjdm0iLCJsb2FkQ29tbWl0dGVlIiwiY29tbWl0dGVlTG9hZGluZ0Vycm9yIiwiY29tbWl0dGVlcyIsImNvbW1pdHRlZSIsImNvbW1pdHRlZUxvYWRpbmdFcnJvck1zZyIsImNvdW5jaWxDdHJsIiwiY2x2bSIsImxvYWRDb3VuY2lsTWVtYmVycyIsImNvdW5jaWxzIiwiZXZtIiwic2hvd0V2ZW50cyIsImV2ZW50TG9hZEVycm9yIiwiZXZlbnRzIiwiZXZlbnRMb2FkRXJyb3JNc2ciLCJub0V2ZW50IiwiZXZlbnRzQ3RybCIsImFib3V0dXNDdHJsIiwiY29udGFjdHVzQ3RybCIsImNvbnRhY3QiLCJ0aGlzIiwiY29udGFjdFVzIiwic2VuZE1lc3NhZ2VFcnJvck1zZyIsInNlbmRNZXNzYWdlU3VjY2VzcyIsInNlbmRNZXNzYWdlU3VjY2Vzc01zZyIsInNlbmRNZXNzYWdlRXJyb3IiLCJzaWdudXBDdHJsIiwicmVndm0iLCJsYXN0TmFtZSIsImRpc3BsYXlOYW1lIiwicGFzc3dvcmQiLCJjb25maXJtUGFzc3dvcmQiLCJyZWdpc3RlciIsIlJlZ2lzdHJhdGlvbkVycm9yTXNnIiwiUmVnaXN0cmF0aW9uRXJyb3IiLCJzaWduaW5DdHJsIiwibHZtIiwibG9naW5FcnJvck1zZyIsImxvZ2luRXJyb3IiLCJkb0xvZ2luIiwicHJvdm0iLCIkc2NvcGUiLCJyZXNldHBhc3N3b3JkIiwicmVwZWF0X3Bhc3N3b3JkIiwibmV3X3Bhc3N3b3JkIiwicmVzZXRQYXNzd29yZEVycm9yTXNnIiwicmVzZXRQYXNzd29yZEVycm9yIiwicmVzZXRTdWNjZXNzIiwic2V0VGltZW91dCIsInN0YXR1c1VwZGF0ZXIiLCJjb2RlUmVhZHkiLCJwcm9maWxlU3RhdHVzIiwiYWN0aXZhdGlvbkNvZGVFcnJvck1zZyIsImJhc2ljUHJvZmlsZUVkaXRPbiIsInVwZGF0ZWRTdGF0dXMiLCJ1cGRhdGVfYXQiLCJzdGF0dXMiLCJhY3RpdmF0aW9uQ29kZUVycm9yIiwidXBkYXRlT2JqZWN0Iiwic3RhdHVzVXBkYXRlRXJyb3IiLCJiYXNpY0FjY291bnRJbmZvRXJyb3JNc2ciLCJzdGF0dXNMb2FkRXJyb3JNc2ciLCJnZXRQcm9maWxlU3RhdHVzZXMiLCJiYXNpY1Byb2ZpbGUiLCJzdGF0dXNMb2FkRXJyb3IiLCJ1c2VyU3RhdHVzZXMiLCJzdGF0dXNlcyIsImJhc2ljQWNjb3VudEluZm9FcnJvciIsImZvcm1lck5hbWUiLCJzZXgiLCJhZGRyZXNzIiwidXBkYXRlZCIsImJyYW5jaEluZm9FcnJvciIsImJyYW5jaEluZm9FcnJvck1zZyIsInllYXIiLCJzYXZlQmF0Y2hJbmZvIiwidXNlckJhc2ljSW5mb0xvYWRpbmdFcnJvck1zZyIsInVzZXJCYXNpY0luZm9Mb2FkaW5nRXJyb3IiLCJiYXNpY0luZm8iLCJlZGl0QmFzaWNJbmZvRXJyb3JNc2ciLCJlZGl0QmFzaWNJbmZvRXJyb3IiLCJjYW5jbGVCYXNpY0VkaXQiLCJ1c2VySW5mbyIsInVzZXJJbmZvTG9hZGluZ0Vycm9yIiwiYnJhbmNoSW5mbyIsInRlbGUiLCJ0ZWxlcGhvbmUiLCJ1c2VySW5mb0xvYWRpbmdFcnJvck1zZyIsImVkaXRCYXNpYyIsImJyYW5jaEluZm9FZGl0T24iLCJzYXZlRWRpdEJyYW5jaEluZm8iLCJlZGl0QnJhbmNoSW5mb0Vycm9yTXNnIiwiY2FuY2VsRWRpdEJyYW5jaEluZm8iLCJhY3RpdmF0aW9uU3VjY2VzcyIsImJhcnllYXIiLCJiYXJZZWFyIiwibmJhQnJhbmNoIiwiZWRpdEJyYW5jaCIsImVkaXRCcmFuY2hJbmZvRXJyb3IiLCJwcmVmZXJyZWRDb21taXR0ZWUiLCJkYXRlZGVwb3NpdCIsImFjdGl2ZVByb2ZpbGUiLCJhY3RpdmF0aW9uIiwiQWN0aXZhdGlvbkVycm9yIiwic2F2ZVRlbGxlckVycm9yIiwiQWN0aXZhdGlvbkVycm9yTXNnIiwiZGVwb3NpdG9yIiwiYW1vdW50Iiwic2F2ZUJhbmtUZWxsZXJJbmZvIiwiYmFua1RlbGxlckluZm8iLCJzYXZlVGVsbGVyRXJyb3JNc2ciLCJnZXRDdXJyZW50QmFua1RlbGxlciIsInVzZXJCYW5rVGVsbGVyIiwicHJvZmlsZUN0cmwiLCJ3ZWxjb21lQ3RybCIsImhlbHBDdHJsIiwiaHZtIiwiY2hlY2tVc2VyRm9ybSIsIlBhc3N3b3JkcmVzZXRGb3JtIiwidmVyaWZ5QWpheExvYWRlciIsInNob3dQYXNzUmVzZXRGb3JtIiwiY2hlY2tpbmdSb3V0ZSIsImN1cnJlbnQiLCJwYXJhbXMiLCJ2IiwidXNlckNoZWNraW5nRXJyb3JNc2ciLCJzZWN1cml0eSIsInVzZXJDaGVja2luZ0Vycm9yIiwiciIsInUiLCJjaGFuZ2VQYXNzd29yZEluZm8iLCJjaGFuZ2VQYXNzRXJyb3IiLCJjaGFuZ2VQYXNzRXJyb3JNc2ciLCJ1c2VyVmVyaWZpY2F0aW9uVXNlckVycm9yIiwidXNlclZlcmlmaWNhdGlvblVzZXJFcnJvck1zZyIsInNpdGVjb250cm9sbEN0cmwiLCJhZFNpdGUiLCJhZGRDb21taXR0ZWVFcnJvciIsImFkZENvbW1pdHRlZVN1Y2Nlc3NNc2ciLCJhZGRDb21taXR0ZWVFcnJvck1zZyIsInNob3dDb21taXR0ZWUiLCJjb21taXR0ZWVMaXN0IiwiY29tbWl0dGVlRXJyb3JNc2ciLCJjb21taXR0ZWVFcnJvciIsInJlbW92ZUxpc3QiLCJjb3VuY2lsIiwiYWxlcnQiLCJjb3VuY2lsQWRkRXJyb3IiLCJhZGRDb3VuY2lsTWVtYmVyIiwic2hvd0NvdW5jaWwiLCJjb3VuY2lsU2hvd0Vycm9yIiwiY291bmNpbFNob3dFcnJvck1zZyIsImV2ZW50VGl0bGUiLCJldmVudERldGFpbHMiLCJldmVudFN0YXJ0cyIsImV2ZW50QWRkRXJyb3IiLCJldmVudEFkZEVycm9yTXNnIiwiZXZlbnRFbmRzIiwic2hvd0V2ZW50RXJyb3IiLCJzaG93RXZlbnRFcnJvck1zZyIsIiQiLCJkb2N1bWVudCIsInJlYWR5IiwiZm9jdXMiXSwibWFwcGluZ3MiOiJBQVFBLGNBRUEsV0FDSUEsUUFDS0MsT0FBTyxVQUFXLGFBQWMsVUFBVyxxQkFHaERDLFFBQVNBLGlCQUFULG9CQUdZQyxTQUFBQSxFQUFhQyxHQUNiQyxFQUNBQyxLQUFBQSxLQUVFSCxZQUFBLGlDQUNGQSxXQUFhLGNBQ2JFLGFBQVksUUFHZkUsS0FBSyxtQkFDRkosWUFBYSwwQ0FDYkUsV0FBWSxjQUNaQyxhQUFjLFNBR2RILEtBQUFBLFdBQ0FFLFlBQVksMEJBQ1pDLFdBQWMsYUFFWkEsYUFBWSxVQUVkRCxLQUFBQSxXQUNBQyxZQUFjLDBCQUVaRCxXQUFTLGFBQ1hGLGFBQWEsUUFFYkcsS0FBQUEsWUFFRUgsWUFBQSw0QkFDRkEsV0FBYSxjQUNiRSxhQUFZLFVBR2ZFLEtBQUssU0FDRkosWUFBYSxzQkFDYkUsV0FBWSxXQUNaQyxhQUFjLFFBR2RILEtBQUFBLGlCQUNBRSxZQUFZLDRDQUNaQyxXQUFjLG1CQUVaQSxhQUFZLFdBRWRELEtBQUFBLGlCQUNBQyxZQUFjLDRDQUVaRCxXQUFBLG1CQUNGRixhQUFhLFdBRWJHLEtBQUFBLGtCQUVFSCxZQUFXLDhDQUNiQSxXQUFhLFlB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QUFBK0QsR0FDSHdCLFFBQVFDLElBQUl6QixPQU14Qm1ELEVBQVVDLEtBQUssWUFJbkJELEVBQVVDLEtBQUssV0E1TnZCL0osUUFDS0MsT0FBTyxVQUdaZ1UsV0FBQUEsbUJBQTRCQSxHQUU1QkEsRUFBU0EsU0FBaUJqUixpQkFBZ0I4RyxZQUFXekUsa0JBUnpEO2FDRENxUSxFQUFBQyxVQUFZQyxNQUFBLFdBRVBELEVBQUFBLGNBQWdCRSxRQUVkSCxFQUFFLDRCQUFGckssR0FBQSxRQUFBIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCBlbnRyeSBwb2ludCBmb3IgYW5ndWxhciBmcm9udC1lbmRcbnwgQGF1dGhvcjogamFoaWQgaGFxdWUgPGphaGlkLmhhcXVlQHlhaG9vLmNvbT5cbnwgQGNvcHlyaWdodDogbmJhLXNscCwgMjAxN1xufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25iYXNscCcsIFsnbmdSZXNvdXJjZScsICduZ1JvdXRlJywgJzcyMGtiLmRhdGVwaWNrZXInXSlcbiAgICAgICAgLmNvbmZpZyhbJyRyb3V0ZVByb3ZpZGVyJywgJyRsb2NhdGlvblByb3ZpZGVyJywgY29uZmlnXSk7XG5cbiAgICBmdW5jdGlvbiBjb25maWcoJHJvdXRlUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyKSB7XG4gICAgICAgICRyb3V0ZVByb3ZpZGVyXG4gICAgICAgICAgICAud2hlbignLycsIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2hvbWUvd2VsY29tZS93ZWxjb21lLnZpZXcuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3dlbGNvbWVDdHJsJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICd3dm0nLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC53aGVuKCcvY291bmNpbG1lbWJlcnMnLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb3VuY2lsbWVtYmVycy9jb3VuY2lsbWVtYmVycy52aWV3Lmh0bWwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdjb3VuY2lsQ3RybCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnY2x2bScsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLndoZW4oJy9zaWdudXAnLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdzaWdudXAvc2lnbnVwLnZpZXcuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3NpZ251cEN0cmwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3JlZ3ZtJyxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAud2hlbignL3NpZ25pbicsIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3NpZ25pbi9zaWduaW4udmlldy5odG1sJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnc2lnbmluQ3RybCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnbHZtJyxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAud2hlbignL3Byb2ZpbGUnLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwcm9maWxlL3Byb2ZpbGUudmlldy5odG1sJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAncHJvZmlsZUN0cmwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3Byb3ZtJyxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAud2hlbignL2hlbHAnLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdoZWxwL2hlbHAudmlldy5odG1sJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnaGVscEN0cmwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2h2bScsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLndoZW4oJy9zaXRlY29udHJvbGwnLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhZG1pbi9zaXRlY29udHJvbGwvc2l0ZWNvbnRyb2xsLnZpZXcuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3NpdGVjb250cm9sbEN0cmwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2FkU2l0ZScsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLndoZW4oJy91c2VyY29udHJvbGwnLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhZG1pbi91c2VyY29udHJvbGwvdXNlcmNvbnRyb2xsLnZpZXcuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3VzZXJjb250cm9sbEN0cmwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3VzZXJ2bScsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLndoZW4oJy9zdGFmZmNvbnRyb2xsJywge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnYWRtaW4vc3RhZmZjb250cm9sbC9zdGFmZmNvbnRyb2xsLnZpZXcuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3N0YWZmQ3RybCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnc3ZtJyxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAud2hlbignL3dlbGNvbWUnLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd3ZWxjb21lL3dlbGNvbWUudmlldy5odG1sJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnd2VsY29tZUN0cmwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3d2bScsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLndoZW4oJy9jb21taXR0ZWVzJywge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tbWl0dGVlcy9jb21taXR0ZWVzLnZpZXcuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2NvbW1pdHRlZXNDdHJsJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdjdm0nLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC53aGVuKCcvZXZlbnRzJywge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnZXZlbnRzL2V2ZW50cy52aWV3Lmh0bWwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdldmVudHNDdHJsJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdldm0nLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC53aGVuKCcvYWJvdXR1cycsIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2Fib3V0dXMvYWJvdXR1cy52aWV3Lmh0bWwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdhYm91dHVzQ3RybCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnYWJ2bScsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLndoZW4oJy9jb250YWN0dXMnLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb250YWN0dXMvY29udGFjdHVzLnZpZXcuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2NvbnRhY3R1c0N0cmwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2N2bScsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAkbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUoe1xuICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgfVxufSkoKTtcbiIsIi8qXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBzZXR0aW5nIHVwIGF1dGhlbnRpY2F0aW9uIHNlcnZpY2UgXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5iYS1zbHAsIDIwMTdcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCduYmFzbHAnKVxuICAgIC5zZXJ2aWNlKCdhdXRoZW50aWNhdGlvbicsIGF1dGhlbnRpY2F0aW9uKTtcblxuYXV0aGVudGljYXRpb24uJGluamVjdCA9IFsnJHdpbmRvdycsICckaHR0cCddO1xuXG5mdW5jdGlvbiBhdXRoZW50aWNhdGlvbigkd2luZG93LCAkaHR0cCkge1xuLy8gc2F2aW5nIHRva2VuLlxuICAgIGNvbnN0IHNhdmVUb2tlbiA9XHRmdW5jdGlvbiAodG9rZW4pIHtcbiAgICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2VbJ25iYXNscCddID0gdG9rZW47XG4gICAgfTtcblxuICAgIGNvbnN0IGdldFRva2VuID1cdGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICR3aW5kb3cubG9jYWxTdG9yYWdlWyduYmFzbHAnXTtcbiAgICB9O1xuXG4gICAgY29uc3QgaXNMb2dnZWRJbiA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgdG9rZW4gPSBnZXRUb2tlbigpO1xuICAgICAgICBsZXQgcGF5bG9hZDtcblxuICAgICAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgICAgIHBheWxvYWQgPSB0b2tlbi5zcGxpdCgnLicpWzFdO1xuICAgICAgICAgICAgcGF5bG9hZCA9ICR3aW5kb3cuYXRvYihwYXlsb2FkKTtcbiAgICAgICAgICAgIHBheWxvYWQgPSBKU09OLnBhcnNlKHBheWxvYWQpO1xuICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgY3VycmVudFVzZXIgPSAoKSA9PiB7XG4gICAgICAgIGlmIChpc0xvZ2dlZEluKSB7XG4gICAgICAgICAgICBjb25zdCB0b2tlbiA9IGdldFRva2VuKCk7XG4gICAgICAgICAgICBsZXQgcGF5bG9hZCA9IHRva2VuLnNwbGl0KCcuJylbMV07XG4gICAgICAgICAgICBwYXlsb2FkID0gJHdpbmRvdy5hdG9iKHBheWxvYWQpO1xuICAgICAgICAgICAgcGF5bG9hZCA9IEpTT04ucGFyc2UocGF5bG9hZCk7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdXNlcklkOiBwYXlsb2FkLl9pZCxcbiAgICAgICAgICAgICAgICBlbWFpbDogcGF5bG9hZC5lbWFpbCxcbiAgICAgICAgICAgICAgICBhY2NvdW50U3RhdHVzOiBwYXlsb2FkLmFjY291bnRTdGF0dXMsXG4gICAgICAgICAgICAgICAgYWNjb3VudFR5cGU6IHBheWxvYWQuYWNjb3VudFR5cGUsXG4gICAgICAgICAgICAgICAgYWNjb3VudElkOiBwYXlsb2FkLnVzZXJJZCxcbiAgICAgICAgICAgICAgICBuYW1lOiBwYXlsb2FkLm5hbWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IExvZ291dCA9ICgpID0+IHtcbiAgICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnbmJhc2xwJyk7XG4gICAgfTtcblxuICAgIGNvbnN0IHNpZ25VcCA9ICh1c2VyKSA9PiB7XG4gICAgICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3NpZ251cCcsIHVzZXIpLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIHNhdmVUb2tlbihkYXRhLnRva2VuKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHNpZ25JbiA9ICh1c2VyKSA9PiB7XG4gICAgICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3NpZ25pbicsIHVzZXIpLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIHNhdmVUb2tlbihkYXRhLnRva2VuKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGNoZWNrVXNlciA9IChkYXRhKSA9PiB7XG4gICAgICAgIHJldHVybiAkaHR0cFxuICAgICAgICAgICAgLnBvc3QoJy9hcGkvY2hlY2t1c2VyJywgZGF0YSlcbiAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgIH07XG5cbiAgICBjb25zdCBjb3VudFVzZXIgPSAodXNlcklkKSA9PiB7XG4gICAgICAgIHJldHVybiAkaHR0cCBcbiAgICAgICAgICAgIC5nZXQoJy9hcGkvJyArIHVzZXJJZCArICcvY291bnQnKVxuICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgfTtcblxuICAgIGNvbnN0IHZlcmlmeUtleSA9ICh1c2VySWQsIGtleSkgPT4ge1xuICAgICAgICByZXR1cm4gJGh0dHBcbiAgICAgICAgICAgIC5nZXQoJy9hcGkvJyArIHVzZXJJZCArICcvJyArIGtleSArICcvdmVyaWZ5JylcbiAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgIH07XG5cbiAgICBjb25zdCBjaGFuZ2VQYXNzd29yZCA9IChkYXRhKSA9PiB7XG4gICAgICAgIHJldHVybiAkaHR0cCBcbiAgICAgICAgICAgIC5wb3N0KCcvYXBpL2NoYW5nZXBhc3N3b3JkJywgZGF0YSlcbiAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVTdWNjZXNzID0gKHJlc3BvbnNlKSA9PiByZXNwb25zZTtcblxuICAgIGNvbnN0IGhhbmRsZUVycm9yID0gKHJlc3BvbnNlKSA9PiByZXNwb25zZTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGN1cnJlbnRVc2VyOiBjdXJyZW50VXNlcixcbiAgICAgICAgc2F2ZVRva2VuOiBzYXZlVG9rZW4sXG4gICAgICAgIGdldFRva2VuOiBnZXRUb2tlbixcbiAgICAgICAgaXNMb2dnZWRJbjogaXNMb2dnZWRJbixcbiAgICAgICAgc2lnblVwOiBzaWduVXAsXG4gICAgICAgIHNpZ25Jbjogc2lnbkluLFxuICAgICAgICBjaGVja1VzZXI6IGNoZWNrVXNlcixcbiAgICAgICAgY291bnRVc2VyOiBjb3VudFVzZXIsXG4gICAgICAgIHZlcmlmeUtleTogdmVyaWZ5S2V5LFxuICAgICAgICBjaGFuZ2VQYXNzd29yZDogY2hhbmdlUGFzc3dvcmQsXG4gICAgICAgIExvZ291dDogTG9nb3V0LFxuICAgIH07XG59XG5cbiIsIi8qXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBzZXR0aW5nIHVwIGFjY291bnQgc2VydmljZSBmb3IgYXBwXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5iYS1zbHAsIDIwMTdcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbihmdW5jdGlvbiAoKSB7XG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCduYmFzbHAnKVxuICAgICAgICAuc2VydmljZSgnYWNjb3VudCcsIGFjY291bnQpO1xuXG4gICAgYWNjb3VudC4kaW5qZWN0ID0gWyckd2luZG93JywgJyRodHRwJ107XG5cbiAgICBmdW5jdGlvbiBhY2NvdW50KCR3aW5kb3csICRodHRwKSB7XG5cbiAgICAgICAgY29uc3QgcmVzZXRQYXNzd29yZCA9ICh1c2VySWQsIHJlc2V0RGF0YSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwIFxuICAgICAgICAgICAgICAgIC5wb3N0KCcvYXBpLycgKyB1c2VySWQgKyAnL3Jlc2V0cGFzc3dvcmQnLCByZXNldERhdGEpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGNyZWF0ZUFjdGl2YXRpb25Db2RlID0gKHVzZXJJZCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwIFxuICAgICAgICAgICAgICAgIC5wb3N0KCcvYXBpLycgKyB1c2VySWQgKyAnL2dlbmVyYXRldmFsaWRhdGlvbmNvZGUnKVxuICAgICAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCB2YWxpZGF0ZUFjdGl2YXRpb25Db2RlID0gKHVzZXJJZCwgY29kZSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwIFxuICAgICAgICAgICAgICAgIC5wb3N0KCcvYXBpLycgKyB1c2VySWQgKyAnLycgKyBjb2RlICsgJy92YWxpZGF0ZScpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGdldEFjY291bnRTdGF0dXNlcyA9ICh1c2VySWQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cCBcbiAgICAgICAgICAgICAgICAuZ2V0KCcvYXBpLycgKyB1c2VySWQgKyAnL3N0YXR1c2VzJylcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgZ2V0Q29tbWl0dGVlID0gKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwXG4gICAgICAgICAgICAgICAgLmdldCgnL2FwaS9zaG93Y29tbWl0dGVlJylcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgdXBkYXRlVXNlclN0YXR1cyA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHBcbiAgICAgICAgICAgICAgICAucG9zdCgnL2FwaS91c2Vyc3RhdHVzJywgZGF0YSlcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3Qgc2F2ZUJhc2ljSW5mbyA9IChkYXRhKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAgXG4gICAgICAgICAgICAgICAgLnBvc3QoJy9hcGkvY3JlYXRlYmFzaWNwcm9maWxlJywgZGF0YSlcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgZWRpdEJhc2ljSW5mbyA9ICh1c2VySWQsIGRhdGEpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cFxuICAgICAgICAgICAgICAgIC5wdXQoJy9hcGkvJyArIHVzZXJJZCArICcvZWRpdGJhc2ljaW5mbycsIGRhdGEpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHNhdmVCcmFuY2hJbmZvID0gKHVzZXJJZCwgZGF0YSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwXG4gICAgICAgICAgICAgICAgLnBvc3QoJy9hcGkvJyArIHVzZXJJZCArICcvc2F2ZWJyYW5jaGluZm8nLCBkYXRhKVxuICAgICAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBlZGl0QnJhbmNoSW5mbyA9ICh1c2VySWQsIGRhdGEpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cCBcbiAgICAgICAgICAgICAgICAucHV0KCcvYXBpLycgKyB1c2VySWQgKyAnL2JyYW5jaCcsIGRhdGEpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHVwbG9hZFRlbGxlckRvY3MgPSAodXNlcklkLCBkYXRhKSA9PiB7ICAgICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm4gJGh0dHBcbiAgICAgICAgICAgICAgICAucG9zdCgnL2FwaS8nICsgdXNlcklkICsgJy9iYW5rdGVsbGVyJywgZGF0YSlcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3Qgc2F2ZUJhbmtUZWxsZXIgPSAodGVsbGVyKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHBcbiAgICAgICAgICAgICAgICAucG9zdCgnL2FwaS9zYXZlYmFua3RlbGxlcicsIHRlbGxlcilcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgZ2V0QmFua1RlbGxlciA9ICh1c2VySWQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cCBcbiAgICAgICAgICAgICAgICAuZ2V0KCcvYXBpLycgKyB1c2VySWQgKyAnL2Jhbmt0ZWxsZXInKVxuICAgICAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKlxuICAgICAgICB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICB8IEZvbGxvd2luZyBmdW5jdGlvbiB3aWxsIGxvYWQgYWxsIGRhdGEgZm9yIHVzZXJcbiAgICAgICAgfCBiYXNlZCBvbiBnaXZlbiB1c2VyRW1haWwgYW5kIGNvbGxlY3Rpb24gbmFtZVxuICAgICAgICB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAqL1xuICAgICAgICBjb25zdCBsb2FkVXNlckluZm8gPSAoY29sbGVjdGlvbk5hbWUsIHVzZXJJZCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwIFxuICAgICAgICAgICAgICAgIC5nZXQoJy9hcGkvJyArIHVzZXJJZCArICcvJyArIGNvbGxlY3Rpb25OYW1lICsgJy91c2VyaW5mbycpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qXG4gICAgICAgIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIHwgZm9sbG93aW5nIGZ1bmN0aW9uIHdpbGwgaGFuZGxlIHRlbGxlciBhcHByb3ZhbFxuICAgICAgICB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAqL1xuICAgICAgICBjb25zdCBhcHByb3ZlVGVsbGVyID0gKGRhdGEpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cCBcbiAgICAgICAgICAgICAgICAucHV0KCcvYXBpL2Jhbmt0ZWxsZXInLCBkYXRhKVxuICAgICAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBoYW5kbGVTdWNjZXNzID0gKHJlc3BvbnNlKSA9PiByZXNwb25zZTtcblxuICAgICAgICBjb25zdCBoYW5kbGVFcnJvciA9IChyZXNwb25zZSkgPT4gcmVzcG9uc2U7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlc2V0UGFzc3dvcmQ6IHJlc2V0UGFzc3dvcmQsXG4gICAgICAgICAgICB1cGxvYWRUZWxsZXJEb2NzOiB1cGxvYWRUZWxsZXJEb2NzLFxuICAgICAgICAgICAgY3JlYXRlQWN0aXZhdGlvbkNvZGU6IGNyZWF0ZUFjdGl2YXRpb25Db2RlLFxuICAgICAgICAgICAgdmFsaWRhdGVBY3RpdmF0aW9uQ29kZTogdmFsaWRhdGVBY3RpdmF0aW9uQ29kZSxcbiAgICAgICAgICAgIGdldEFjY291bnRTdGF0dXNlczogZ2V0QWNjb3VudFN0YXR1c2VzLFxuICAgICAgICAgICAgdXBkYXRlVXNlclN0YXR1czogdXBkYXRlVXNlclN0YXR1cyxcbiAgICAgICAgICAgIHNhdmVCYXNpY0luZm86IHNhdmVCYXNpY0luZm8sXG4gICAgICAgICAgICBlZGl0QmFzaWNJbmZvOiBlZGl0QmFzaWNJbmZvLFxuICAgICAgICAgICAgc2F2ZUJyYW5jaEluZm86IHNhdmVCcmFuY2hJbmZvLFxuICAgICAgICAgICAgZWRpdEJyYW5jaEluZm86IGVkaXRCcmFuY2hJbmZvLFxuICAgICAgICAgICAgbG9hZFVzZXJJbmZvOiBsb2FkVXNlckluZm8sXG4gICAgICAgICAgICBnZXRDb21taXR0ZWU6IGdldENvbW1pdHRlZSxcbiAgICAgICAgICAgIHNhdmVCYW5rVGVsbGVyOiBzYXZlQmFua1RlbGxlcixcbiAgICAgICAgICAgIGdldEJhbmtUZWxsZXI6IGdldEJhbmtUZWxsZXIsXG4gICAgICAgICAgICBhcHByb3ZlVGVsbGVyOiBhcHByb3ZlVGVsbGVyLFxuICAgICAgICB9O1xuICAgIH1cblxufSkoKTtcbiIsIi8qXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBzZXR0aW5nIHVwIHNlcnZpY2UgZm9yIHNpdGUtY29udHJvbGxlciBmb3IgYWRtaW5cbnwgQGF1dGhvcjogamFoaWQgaGFxdWUgPGphaGlkLmhhcXVlQHlhaG9vLmNvbT5cbnwgQGNvcHlyaWdodDogbmJhLXNscCwgMjAxOFxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbmJhc2xwJylcbiAgICAgICAgLnNlcnZpY2UoJ3NpdGVjb250cm9sbGVyJywgc2l0ZWNvbnRyb2xsZXIpO1xuXG4gICAgc2l0ZWNvbnRyb2xsZXIuJGluamVjdCA9IFsnJGh0dHAnXTtcblxuICAgIGZ1bmN0aW9uIHNpdGVjb250cm9sbGVyKCRodHRwKSB7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBhZGRQcmVmZXJyZWRDb21taXR0ZWUgPSAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwXG4gICAgICAgICAgICAgICAgLnBvc3QoJy9hcGkvY3JlYXRlY29tbWl0dGVlJywgZGF0YSlcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3Qgc2hvd0FsbENvbW1pdHRlZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cFxuICAgICAgICAgICAgICAgIC5nZXQoJy9hcGkvc2hvd2NvbW1pdHRlZScpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHJlbW92ZUNvbW1pdHRlZSA9IChjb21taXR0ZWVJZCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwIFxuICAgICAgICAgICAgICAgIC5kZWxldGUoJy9hcGkvJyArIGNvbW1pdHRlZUlkICsgJy9yZW1vdmVjb21taXR0ZWUnKVxuICAgICAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBhZGRDb3VuY2lsID0gKGRhdGEpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cCBcbiAgICAgICAgICAgICAgICAucG9zdCgnL2FwaS9jb3VuY2lsbWVtYmVyJywgZGF0YSlcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3Qgc2hvd0NvdW5jaWxNZW1iZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAgXG4gICAgICAgICAgICAgICAgLmdldCgnL2FwaS9zaG93Y291bmNpbCcpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHJlbW92ZUNvdW5jaWwgPSAoY291bmNpbElkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAgXG4gICAgICAgICAgICAgICAgLmRlbGV0ZSgnL2FwaS8nICsgY291bmNpbElkICsgJy9jb3VuY2lsJylcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgYWRkRXZlbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cCBcbiAgICAgICAgICAgICAgICAucG9zdCgnL2FwaS9ldmVudCcsIGV2ZW50KVxuICAgICAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBzaG93RXZlbnQgPSAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHBcbiAgICAgICAgICAgICAgICAuZ2V0KCcvYXBpL3Nob3dFdmVudCcpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHJlbW92ZUV2ZW50ID0gKGV2ZW50SWQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cFxuICAgICAgICAgICAgICAgIC5kZWxldGUoJy9hcGkvJyArIGV2ZW50SWQgKyAnL2V2ZW50JylcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgaGFuZGxlU3VjY2VzcyA9IChyZXNwb25zZSkgPT4gcmVzcG9uc2U7XG5cbiAgICAgICAgY29uc3QgaGFuZGxlRXJyb3IgPSAocmVzcG9uc2UpID0+IHJlc3BvbnNlO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhZGRQcmVmZXJyZWRDb21taXR0ZWU6IGFkZFByZWZlcnJlZENvbW1pdHRlZSxcbiAgICAgICAgICAgIHNob3dBbGxDb21taXR0ZWU6IHNob3dBbGxDb21taXR0ZWUsXG4gICAgICAgICAgICByZW1vdmVDb21taXR0ZWU6IHJlbW92ZUNvbW1pdHRlZSxcbiAgICAgICAgICAgIGFkZENvdW5jaWw6IGFkZENvdW5jaWwsXG4gICAgICAgICAgICBzaG93Q291bmNpbE1lbWJlcjogc2hvd0NvdW5jaWxNZW1iZXIsXG4gICAgICAgICAgICByZW1vdmVDb3VuY2lsOiByZW1vdmVDb3VuY2lsLFxuICAgICAgICAgICAgYWRkRXZlbnQ6IGFkZEV2ZW50LFxuICAgICAgICAgICAgc2hvd0V2ZW50OiBzaG93RXZlbnQsXG4gICAgICAgICAgICByZW1vdmVFdmVudDogcmVtb3ZlRXZlbnQsXG4gICAgICAgIH07XG5cbiAgICB9XG5cbn0pKCk7XG4iLCIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCB1c2VyIGNvbnRyb2xsZXIgc2VydmljZVxufCBAYXV0aG9yOiBqYWhpZCBoYXF1ZSA8amFoaWQuaGFxdWVAeWFob28uY29tPlxufCBAY29weXJpZ2h0OiBuYmEtc2xwLCAyMDE4XG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4oZnVuY3Rpb24gKCkge1xuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbmJhc2xwJylcbiAgICAgICAgLnNlcnZpY2UoJ3VzZXJjb250cm9sbGVyJywgdXNlcmNvbnRyb2xsZXIpO1xuXG4gICAgdXNlcmNvbnRyb2xsZXIuJGluamVjdCA9IFsnJGh0dHAnXTtcblxuICAgIGZ1bmN0aW9uIHVzZXJjb250cm9sbGVyKCRodHRwKSB7XG5cblxuICAgICAgICBjb25zdCBzaG93TWVtYmVycyA9ICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cFxuICAgICAgICAgICAgICAgIC5nZXQoJy9hcGkvbWVtYmVycycpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHNob3dTaW5nbGVNZW1iZXIgPSAobWVtYmVySWQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cCBcbiAgICAgICAgICAgICAgICAuZ2V0KCcvYXBpLycgKyBtZW1iZXJJZCArICcvbWVtYmVyJylcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3Qgc2hvd01lbWJlclByb2ZpbGUgPSAobWVtYmVySWQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cCBcbiAgICAgICAgICAgICAgICAuZ2V0KCcvYXBpLycgKyBtZW1iZXJJZCArICcvcHJvZmlsZScpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHNob3dNZW1iZXJCcmFuY2ggPSAobWVtYmVySWQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cCBcbiAgICAgICAgICAgICAgICAuZ2V0KCcvYXBpLycgKyBtZW1iZXJJZCArICcvYnJhbmNoJylcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgZmlsdGVyQWN0aW9uID0gKHNvdXJjZSwgYWN0aW9uKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAgXG4gICAgICAgICAgICAgICAgLmdldCgnL2FwaS8nICsgc291cmNlICsgJy8nICsgYWN0aW9uKVxuICAgICAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBoYW5kbGVTdWNjZXNzID0gKHJlc3BvbnNlKSA9PiByZXNwb25zZTtcblxuICAgICAgICBjb25zdCBoYW5kbGVFcnJvciA9IChyZXNwb25zZSkgPT4gcmVzcG9uc2U7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNob3dNZW1iZXJzOiBzaG93TWVtYmVycyxcbiAgICAgICAgICAgIHNob3dTaW5nbGVNZW1iZXI6IHNob3dTaW5nbGVNZW1iZXIsXG4gICAgICAgICAgICBzaG93TWVtYmVyUHJvZmlsZTogc2hvd01lbWJlclByb2ZpbGUsXG4gICAgICAgICAgICBzaG93TWVtYmVyQnJhbmNoOiBzaG93TWVtYmVyQnJhbmNoLFxuICAgICAgICAgICAgZmlsdGVyQWN0aW9uOiBmaWx0ZXJBY3Rpb24sXG4gICAgICAgIH07XG4gICAgfVxuXG59KSgpOyIsIi8qXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBzZXR0aW5nIHVwIHVzZXIgY29udHJvbGxlciBmb3IgdGhlIGFwcFxufCBAYXV0aG9yOiBqYWhpZCBoYXF1ZSA8amFoaWQuaGFxdWVAeWFob28uY29tPlxufCBAY29weXJpZ2h0OiBuYmEtc2xwLCAyMDE4XG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4oZnVuY3Rpb24gKCkge1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCduYmFzbHAnKVxuICAgICAgICAuY29udHJvbGxlcigndXNlcmNvbnRyb2xsQ3RybCcsIHVzZXJjb250cm9sbEN0cmwpO1xuXG4gICAgdXNlcmNvbnRyb2xsQ3RybC4kaW5qZWN0ID0gWyd1c2VyY29udHJvbGxlcicsICdhY2NvdW50JywgJyRyb3V0ZVBhcmFtcycsICckcm91dGUnXTtcblxuICAgIGZ1bmN0aW9uIHVzZXJjb250cm9sbEN0cmwodXNlcmNvbnRyb2xsZXIsIGFjY291bnQsICRyb3V0ZVBhcmFtcywgJHJvdXRlKSB7XG4gICAgICAgIFxuICAgICAgICBjb25zdCB1c2Vydm0gPSB0aGlzO1xuXG4gICAgICAgIHVzZXJ2bS5hcHByb3ZlUHJvY2VzcyA9IGZhbHNlO1xuICAgICAgICB1c2Vydm0uYXBwcm92ZUVkaXQgPSBmYWxzZTtcblxuICAgICAgICB1c2Vydm0udXNlcm5vdExvYWRlZCA9IHRydWU7XG5cbiAgICAgICAgLypcbiAgICAgICAgfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgfCBsaXN0IGFjdGlvbiBhbmQgdGl0bGVcbiAgICAgICAgfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgKi9cbiAgICAgICAgdXNlcnZtLmFsbHVzZXIgPSB0cnVlO1xuICAgICAgICB1c2Vydm0uaW5pdGlhbFRpdGxlID0gJ0xpc3Qgb2YgYWxsIHVzZXInO1xuXG4gICAgICAgIHVzZXJ2bS5wYWlkTWVtYmVyQ29udHJvbCA9IGZhbHNlO1xuICAgICAgICB1c2Vydm0udW5QYWlkTWVtYmVyQ29udHJvbCA9IGZhbHNlO1xuXG4gICAgICAgIHVzZXJ2bS5sb2FkVXNlckxpc3QgPSAoKSA9PiB7XG4gICAgICAgICAgICB1c2Vydm0uYWxsdXNlciA9IHRydWU7XG4gICAgICAgICAgICB1c2Vydm0ucGFpZE1lbWJlckNvbnRyb2wgPSBmYWxzZTtcbiAgICAgICAgICAgIHVzZXJ2bS51blBhaWRNZW1iZXJDb250cm9sID0gZmFsc2U7XG4gICAgICAgICAgICB1c2Vydm0uaW5pdGlhbFRpdGxlID0gJ0xpc3Qgb2YgYWxsIHVzZXInO1xuXG4gICAgICAgICAgICB1c2VyY29udHJvbGxlclxuICAgICAgICAgICAgICAgIC5zaG93TWVtYmVycygpXG4gICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcnZtLnNob3dNZW1iZXJFcnJvciA9IHRydWU7IFxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcnZtLnNob3dNZW1iZXJFcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7IFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcnZtLm1lbWJlcnMgPSByZXNwb25zZS5kYXRhLm1lbWJlcnM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICB1c2Vydm0uc2hvd01lbWJlckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdXNlcnZtLnNob3dNZW1iZXJFcnJvck1zZyA9IGVycjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKlxuICAgICAgICB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICB8IGNvbGxlY3QgdXNlciBkZXRhaWxzIGJhc2VkIG9uIGdpdmVuIGVtYWlsXG4gICAgICAgIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICovXG4gICAgICAgIHVzZXJ2bS5jb2xsZWN0VXNlckRldGFpbCA9IChlbWFpbCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbWVtZWJySWQgPSBlbWFpbDtcblxuICAgICAgICAgICAgdXNlcnZtLnVzZXJub3RMb2FkZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgdXNlcmNvbnRyb2xsZXJcbiAgICAgICAgICAgICAgICAuc2hvd1NpbmdsZU1lbWJlcihtZW1lYnJJZClcbiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2Vydm0uc2luZ2xlTWVtYmVyTG9hZGluZ0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5zaW5nbGVNZW1iZXJMb2FkaW5nRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcnZtLnNpbmdsZU1lbWJlckxvYWRpbmdFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcnZtLnNpbmdsZU1lbWJlciA9IHJlc3BvbnNlLmRhdGEubWVtYmVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjYWxsaW5nIGxvYWQgYmFuayB0ZWxsZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5sb2FkQmFua1RlbGxlcih1c2Vydm0uc2luZ2xlTWVtYmVyLmVtYWlsKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2FsbGluZyBicmFuY2ggbG9hZGVyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2Vydm0ubG9hZFVzZXJCcmFuY2godXNlcnZtLnNpbmdsZU1lbWJlci5lbWFpbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICB1c2Vydm0uc2luZ2xlTWVtYmVyTG9hZGluZ0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdXNlcnZtLnNpbmdsZU1lbWJlckxvYWRpbmdFcnJvck1zZyA9IGVycjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHVzZXJ2bS5sb2FkUGFpZE1lbWJlciA9IChhY3Rpb24sIHNvdXJjZSkgPT4ge1xuICAgICAgICAgICAgdXNlcnZtLmFsbHVzZXIgPSBmYWxzZTtcbiAgICAgICAgICAgIHVzZXJ2bS5wYWlkTWVtYmVyQ29udHJvbCA9IHRydWU7XG4gICAgICAgICAgICB1c2Vydm0udW5QYWlkTWVtYmVyQ29udHJvbCA9IGZhbHNlO1xuICAgICAgICAgICAgdXNlcnZtLmluaXRpYWxUaXRsZSA9ICdMaXN0IE9mIE9ubHkgUGFpZCBVc2VyKHMpJztcblxuICAgICAgICAgICAgY29uc3QgUXVlcnlTb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgICAgICBjb25zdCBRdWVyeUFjdGlvbiA9IGFjdGlvbjtcblxuICAgICAgICAgICAgdXNlcmNvbnRyb2xsZXJcbiAgICAgICAgICAgICAgICAuZmlsdGVyQWN0aW9uKFF1ZXJ5U291cmNlLCBRdWVyeUFjdGlvbilcbiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2Vydm0ubG9hZFBhaWRNZW1iZXJFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2Vydm0ubG9hZFBhaWRNZW1iZXJFcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocmVzcG9uc2UuZGF0YS52ZXJpZmllZFVzZXJzLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5sb2FkUGFpZE1lbWJlckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5sb2FkUGFpZE1lbWJlckVycm9yTXNnID0gXCJObyBwYWlkIG1lbWJlciBoYXMgZm91bmRcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5sb2FkUGFpZE1lbWJlckVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2Vydm0ucGFpZExpc3RVc2VycyA9IHJlc3BvbnNlLmRhdGEudmVyaWZpZWRVc2VycztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5sb2FkUGFpZE1lbWJlckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdXNlcnZtLmxvYWRQYWlkTWVtYmVyRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdXNlcnZtLmZpbHRlckNvbnRyb2xsID0gKGFjdGlvbiwgc291cmNlKSA9PiB7XG4gICAgICAgICAgICBpZiAoYWN0aW9uID09PSAnYWxsdXNlcicpIHtcbiAgICAgICAgICAgICAgICB1c2Vydm0ubG9hZFVzZXJMaXN0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChhY3Rpb24gPT09ICdwYWlkJykge1xuICAgICAgICAgICAgICAgIHVzZXJ2bS5sb2FkUGFpZE1lbWJlcihhY3Rpb24sIHNvdXJjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChhY3Rpb24gPT09ICd1bnBhaWQnKSB7XG4gICAgICAgICAgICAgICAgdXNlcnZtLmxvYWRVblBhaWRNZW1iZXIoYWN0aW9uLCBzb3VyY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHVzZXJ2bS5sb2FkVW5QYWlkTWVtYmVyID0gKGFjdGlvbiwgc291cmNlKSA9PiB7XG4gICAgICAgICAgICB1c2Vydm0uYWxsdXNlciA9IGZhbHNlO1xuICAgICAgICAgICAgdXNlcnZtLnBhaWRNZW1iZXJDb250cm9sID0gZmFsc2U7XG4gICAgICAgICAgICB1c2Vydm0udW5QYWlkTWVtYmVyQ29udHJvbCA9IHRydWU7XG5cbiAgICAgICAgICAgIHVzZXJ2bS5pbml0aWFsVGl0bGUgPSAnTGlzdCBPZiBPbmx5IFVucGFpZCBVc2VyKHMpJztcblxuICAgICAgICAgICAgY29uc3QgUXVlcnlTb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgICAgICBjb25zdCBRdWVyeUFjdGlvbiA9IGFjdGlvbjtcblxuICAgICAgICAgICAgdXNlcmNvbnRyb2xsZXJcbiAgICAgICAgICAgICAgICAuZmlsdGVyQWN0aW9uKFF1ZXJ5U291cmNlLCBRdWVyeUFjdGlvbilcbiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyZXNwb25zZScsIHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5sb2FkVW5QYWlkTWVtYmVyRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcnZtLmxvYWRVblBhaWRNZW1iZXJFcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocmVzcG9uc2UuZGF0YS52ZXJpZmllZFVzZXJzLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5sb2FkVW5QYWlkTWVtYmVyRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcnZtLmxvYWRVblBhaWRNZW1iZXJFcnJvck1zZyA9IFwiTm8gdW5wYWlkIG1lbWJlciBoYXMgZm91bmRcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5sb2FkVW5QYWlkTWVtYmVyRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJ2bS51blBhaWRMaXN0VXNlcnMgPSByZXNwb25zZS5kYXRhLnZlcmlmaWVkVXNlcnM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICB1c2Vydm0ubG9hZFVuUGFpZE1lbWJlckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdXNlcnZtLmxvYWRVblBhaWRNZW1iZXJFcnJvck1zZyA9IGVycjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIFxuXG4gICAgICAgIHVzZXJ2bS5sb2FkVXNlclByb2ZpbGUgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBtZW1lYnJJZCA9ICRyb3V0ZVBhcmFtcy52O1xuXG4gICAgICAgICAgICB1c2VyY29udHJvbGxlclxuICAgICAgICAgICAgICAgIC5zaG93TWVtYmVyUHJvZmlsZShtZW1lYnJJZClcbiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2Vydm0ucHJvZmlsZUxvYWRpbmdFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2Vydm0ucHJvZmlsZUxvYWRpbmdFcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2Vydm0ucHJvZmlsZUxvYWRpbmdFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcnZtLm1lbWJlclByb2ZpbGUgPSByZXNwb25zZS5kYXRhLnByb2ZpbGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICB1c2Vydm0ucHJvZmlsZUxvYWRpbmdFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5wcm9maWxlTG9hZGluZ0Vycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHVzZXJ2bS5sb2FkVXNlckJyYW5jaCA9IChlbWFpbCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbWVtZWJySWQgPSBlbWFpbDtcblxuICAgICAgICAgICAgdXNlcmNvbnRyb2xsZXJcbiAgICAgICAgICAgICAgICAuc2hvd01lbWJlckJyYW5jaChtZW1lYnJJZClcbiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2Vydm0uYnJhbmNoTG9hZGluZ0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5icmFuY2hMb2FkaW5nRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcnZtLmJyYW5jaExvYWRpbmdFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcnZtLm1lbWJlckJyYW5jaCA9IHJlc3BvbnNlLmRhdGEuYnJhbmNoO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdXNlcnZtLmJyYW5jaExvYWRpbmdFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5icmFuY2hMb2FkaW5nRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdXNlcnZtLmxvYWRCYW5rVGVsbGVyID0gKGVtYWlsKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBtZW1lYnJJZCA9IGVtYWlsO1xuXG4gICAgICAgICAgICBhY2NvdW50XG4gICAgICAgICAgICAgICAgLmdldEJhbmtUZWxsZXIobWVtZWJySWQpXG4gICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcnZtLmJhbmtUZWxsZXJMb2FkaW5nRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcnZtLmJhbmtUZWxsZXJMb2FkaW5nRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEuYmFua1RlbGxlciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcnZtLmJhbmtUZWxsZXJMb2FkaW5nRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcnZtLmJhbmtUZWxsZXJMb2FkaW5nRXJyb3JNc2cgPSAnVGhpcyB1c2VyIGhhcyBub3QgdXBsb2FkZWQgYW55IGJhbmsgdGVsbGVyIHlldCc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2Vydm0uYmFua1RlbGxlckxvYWRpbmdFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcnZtLm1lbWJlcmJhbmtUZWxsZXIgPSByZXNwb25zZS5kYXRhLmJhbmtUZWxsZXI7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmJhbmtUZWxsZXIudGVsbGVyQXBwcm92ZWQgPT09IGZhbHNlIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHJlc3BvbnNlLmRhdGEuYmFua1RlbGxlci50ZWxsZXJWYWxpZFRpbGwgPT09ICd2YWxpZCB0aWxsIGRhdGUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcnZtLmFwcHJvdmVQcm9jZXNzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5hcHByb3ZlRWRpdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICB1c2Vydm0uYmFua1RlbGxlckxvYWRpbmdFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5iYW5rVGVsbGVyTG9hZGluZ0Vycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHVzZXJ2bS50ZWxsZXJBcHByb3ZlZCA9IHtcbiAgICAgICAgICAgIHZhbGlkVGlsbDogJycsXG4gICAgICAgICAgICB2YWxpZDogJycsXG4gICAgICAgICAgICB3aG9zOiAnJyxcbiAgICAgICAgfTtcblxuICAgICAgICB1c2Vydm0uYXBwcm92ZVRlbGxlciA9IChlbWFpbCkgPT4ge1xuICAgICAgICAgICAgdXNlcnZtLnRlbGxlckFwcHJvdmVkLndob3MgPSBlbWFpbDtcbiAgICAgICAgICAgIGFjY291bnRcbiAgICAgICAgICAgICAgICAuYXBwcm92ZVRlbGxlcih1c2Vydm0udGVsbGVyQXBwcm92ZWQpXG4gICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcnZtLnRlbGxlckFwcHJvdmVkRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcnZtLnRlbGxlckFwcHJvdmVkRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcnZtLnRlbGxlckFwcHJvdmVkRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRyb3V0ZS5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHVzZXJ2bS50ZWxsZXJBcHByb3ZlZEVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdXNlcnZtLnRlbGxlckFwcHJvdmVkRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdXNlcnZtLmVkaXRCYW5rVGVsbGVyQXBwcm92aW5nID0gKCkgPT4ge1xuICAgICAgICAgICAgdXNlcnZtLmFwcHJvdmVFZGl0ID0gZmFsc2U7XG4gICAgICAgICAgICB1c2Vydm0uYXBwcm92ZVByb2Nlc3MgPSB0cnVlO1xuICAgICAgICB9O1xuXG4gICAgICAgIHVzZXJ2bS5jYW5jZWxUZWxsZXJTdWJtaXNzaW9uID0gKCkgPT4ge1xuICAgICAgICAgICAgdXNlcnZtLmFwcHJvdmVFZGl0ID0gdHJ1ZTtcbiAgICAgICAgICAgIHVzZXJ2bS5hcHByb3ZlUHJvY2VzcyA9IGZhbHNlO1xuICAgICAgICB9O1xuICAgIH1cblxuXG59KSgpOyIsIi8qXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBzZXR0aW5nIHVwIHN0YWZmIGNvbnRyb2xsZXIgZm9yIHRoZSBhcHBcbnwgQGF1dGhvcjogamFoaWQgaGFxdWUgPGphaGlkLmhhcXVlQHlhaG9vLmNvbT5cbnwgQGNvcHlyaWdodDogbmJhLXNscCwgMjAxOFxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbmJhc2xwJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ3N0YWZmQ3RybCcsIHN0YWZmQ3RybCk7XG5cbiAgICBzdGFmZkN0cmwuJGluamVjdCA9IFsnYXV0aGVudGljYXRpb24nLCAnJGxvY2F0aW9uJ107XG5cbiAgICBmdW5jdGlvbiBzdGFmZkN0cmwoYXV0aGVudGljYXRpb24sICRsb2NhdGlvbikgeyAgICBcdFxuICAgICAgICBjb25zdCBzdm0gPSB0aGlzO1xuICAgICAgIFxuICAgICAgICBpZiAoYXV0aGVudGljYXRpb24uaXNMb2dnZWRJbigpKSB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChhdXRoZW50aWNhdGlvbi5jdXJyZW50VXNlcigpLmFjY291bnRUeXBlID09PSAnYWRtaW4nKSB7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvd2VsY29tZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9zaWduaW4nKTtcbiAgICAgICAgfVxuICAgIH1cblxufSkoKTsiLCIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCBzeXN0ZW0gc2VydmljZSBmb3IgdGhlIGFwcFxufCBAYXV0aG9yOiBqYWhpZCBoYXF1ZSA8amFoaWQuaGFxdWVAeWFob28uY29tPlxufCBAY29weXJpZ2h0OiBuYWItc2xwLCAyMDE4XG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4oZnVuY3Rpb24gKCkge1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCduYmFzbHAnKVxuICAgICAgICAuc2VydmljZSgnc3lzdGVtU2VydmljZScsIHN5c3RlbVNlcnZpY2UpO1xuICAgICAgICBcbiAgICBzeXN0ZW1TZXJ2aWNlLiRpbmplY3QgPSBbJyRodHRwJ107XG5cbiAgICBmdW5jdGlvbiBzeXN0ZW1TZXJ2aWNlKCRodHRwKSB7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBzZW5kQ29udGFjdE1lc3NhZ2UgPSAobWVzc2FnZSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwXG4gICAgICAgICAgICAgICAgLnBvc3QoJy9hcGkvc2VuZG1lc3NhZ2UnLCBtZXNzYWdlKVxuICAgICAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBoYW5kbGVTdWNjZXNzID0gKHJlc3BvbnNlKSA9PiByZXNwb25zZTtcblxuICAgICAgICBjb25zdCBoYW5kbGVFcnJvciA9IChyZXNwb25zZSkgPT4gcmVzcG9uc2U7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNlbmRDb250YWN0TWVzc2FnZTogc2VuZENvbnRhY3RNZXNzYWdlLFxuICAgICAgICB9O1xuICAgIH1cblxufSkoKTsiLCIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCBuYXZpZ2F0aW9uIGRpcmVjdGl2ZSBmb3IgdGhlIGFwcFxufCBAYXV0aG9yOiBqYWhpZCBoYXF1ZSA8amFoaWQuaGFxdWVAeWFob28uY29tPlxufCBAY29weXJpZ2h0OiBuYmFzbHAsIDIwMTdcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbihmdW5jdGlvbiAoKSB7XG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCduYmFzbHAnKVxuICAgICAgICAuZGlyZWN0aXZlKCdzaXRlTmF2Jywgc2l0ZU5hdik7XG5cbiAgICBmdW5jdGlvbiBzaXRlTmF2KCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbW1vbi9kaXJlY3RpdmVzL25hdi9zaXRlLW5hdi50ZW1wbGF0ZS5odG1sJyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICduYXZDdHJsIGFzIG52bScsXG4gICAgICAgIH07XG4gICAgfVxufSkoKTtcbiIsIi8qXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBzZXR0aW5nIHVwIGNvbnRyb2xsZXIgZm9yIG5hdmlnYXRpb25cbnwgQGF1dGhvcjogamFoaWQgaGFxdWUgPGphaGlkLmhhcXVlQHlhaG9vLmNvbT5cbnwgQGNvcHlyaWdodDogbmJhc2xwLCAyMDE3XG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4oZnVuY3Rpb24gKCkge1xuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbmJhc2xwJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ25hdkN0cmwnLCBuYXZDdHJsKTtcblxuICAgIG5hdkN0cmwuJGluamVjdCA9IFsnYXV0aGVudGljYXRpb24nLCAnJGxvY2F0aW9uJ107XG5cbiAgICBmdW5jdGlvbiBuYXZDdHJsKGF1dGhlbnRpY2F0aW9uLCAkbG9jYXRpb24pIHtcbiAgICAgICAgY29uc3QgbnZtID0gdGhpcztcblxuICAgICAgICBpZiAoYXV0aGVudGljYXRpb24uaXNMb2dnZWRJbigpKSB7XG4gICAgICAgICAgICBudm0ubG9nZ2VkSW5VcmkgPSB0cnVlO1xuICAgICAgICAgICAgbnZtLmxvZ2dlZEluTmFtZSA9IGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkubmFtZTtcbiAgICAgICAgICAgIG52bS5jdXJyZW50QWNjb3VudFR5cGUgPSBhdXRoZW50aWNhdGlvbi5jdXJyZW50VXNlcigpLmFjY291bnRUeXBlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbnZtLmxvZ2dlZEluVXJpID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBudm0ubG9nb3V0ID0gKCkgPT4ge1xuICAgICAgICAgICAgYXV0aGVudGljYXRpb24uTG9nb3V0KCk7XG4gICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL3NpZ25pbicpO1xuICAgICAgICB9O1xuICAgIH1cbn0pKCk7XG4iLCIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCBmb290ZXIgZGlyZWN0aXZlIGZvciBhcHBsaWNhdGlvblxufCBAYXV0aG9yOiBqYWhpZCBoYXF1ZSA8amFoaWQuaGFxdWVAeWFob28uY29tPlxufCBAY29weXJpZ2h0OiBuYmFzbHAsIDIwMTdcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbihmdW5jdGlvbiAoKSB7XG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCduYmFzbHAnKVxuICAgICAgICAuZGlyZWN0aXZlKCdzaXRlRm9vdGVyJywgc2l0ZUZvb3Rlcik7XG4gICAgZnVuY3Rpb24gc2l0ZUZvb3RlcigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21tb24vZGlyZWN0aXZlcy9mb290ZXIvZm9vdGVyLnRlbXBsYXRlLmh0bWwnLFxuICAgICAgICB9O1xuICAgIH1cbn0pKCk7XG4iLCIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCBmaWxlIHVwbG9hZCBkaXJlY3RpdmVcbnwgQGF1dGhvcjogamFoaWQgaGFxdWUgPGphaGlkLmhhcXVlQHlhaG9vLmNvbT5cbnwgQGNvcHlyaWdodDogbmNsaGFsYWwsIDIwMTdcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qL1xuKGZ1bmN0aW9uKCl7XG5cdGFuZ3VsYXJcblx0XHQubW9kdWxlKCduYmFzbHAnKVxuXHRcdC5kaXJlY3RpdmUoJ2ZpbGVNb2RlbCcsIGZpbGVNb2RlbCk7XG5cblx0ZmlsZU1vZGVsLiRpbmplY3QgPSBbJyRwYXJzZSddO1xuXG5cdGZ1bmN0aW9uIGZpbGVNb2RlbCgkcGFyc2Upe1xuXHRcdHJldHVybiB7XG4gICAgICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsICRlbGVtZW50LCBhdHRycykge1xuICAgICAgICAgICAgdmFyIHBhcnNlZEZpbGUgPSAkcGFyc2UoYXR0cnMuZmlsZU1vZGVsKTtcbiAgICAgICAgICAgIHZhciBwYXJzZWRGaWxlU2V0dGVyID0gcGFyc2VkRmlsZS5hc3NpZ247XG4gICAgICAgICAgICAkZWxlbWVudC5vbignY2hhbmdlJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgcGFyc2VkRmlsZVNldHRlcihzY29wZSwgJGVsZW1lbnRbMF0uZmlsZXNbMF0pO1xuICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgIH0sXG4gICAgfTtcblx0fVxufSkoKTtcbiIsIi8qXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBzZXR0aW5nIHVwIHNpZGViYXIgZGlyZWN0aXZlIGZvciB0aGUgYXBwXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5iYS1zbHAsIDIwMThcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbihmdW5jdGlvbiAoKSB7XG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCduYmFzbHAnKVxuICAgICAgICAuZGlyZWN0aXZlKCdzaWRlQmFyJywgc2lkZUJhcik7XG5cbiAgICBmdW5jdGlvbiBzaWRlQmFyKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbW1vbi9kaXJlY3RpdmVzL3NpZGViYXIvc2lkZWJhci50ZW1wbGF0ZS5odG1sJyxcbiAgICAgICAgfTtcbiAgICB9XG59KSgpOyIsIi8qXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBzZXR0aW5nIHVwIGNvbnRyb2xsZXIgZm9yIHdlbGNvbWUgcGFnZVxufCBAYXV0aG9yOiBqYWhpZCBoYXF1ZSA8amFoaWQuaGFxdWVAeWFob28uY29tPlxufCBAY29weXJpZ2h0OiBuYmFzbHAsIDIwMTdcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbihmdW5jdGlvbiAoKSB7XG4gICAgXG4gICAgYW5ndWxhciBcbiAgICAgICAgLm1vZHVsZSgnbmJhc2xwJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ3dlbGNvbWVDdHJsJywgd2VsY29tZUN0cmwpO1xuXG4gICAgd2VsY29tZUN0cmwuJGluamVjdCA9IFsnYXV0aGVudGljYXRpb24nLCAnJGxvY2F0aW9uJ107XG5cbiAgICBmdW5jdGlvbiB3ZWxjb21lQ3RybChhdXRoZW50aWNhdGlvbiwgJGxvY2F0aW9uKSB7XG4gICAgICAgIGNvbnN0IHd2bSA9IHRoaXM7XG5cbiAgICAgICAgXG4gICAgfVxuXG59KSgpO1xuIiwiLypcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG58IHNldHRpbmcgdXAgY29tbWl0dGVlcyBmb3IgdGhlIGFwcFxufCBAYXV0aG9yOiBqYWhpZCBoYXF1ZSA8amFoaWQuaGFxdWVAeWFob28uY29tPlxufCBAY29weXJpZ2h0OiBuYmEtc2xwLCAyMDE4XG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4oZnVuY3Rpb24gKCkge1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCduYmFzbHAnKVxuICAgICAgICAuY29udHJvbGxlcignY29tbWl0dGVlc0N0cmwnLCBjb21taXR0ZWVzQ3RybCk7XG5cbiAgICBjb21taXR0ZWVzQ3RybC4kaW5qZWN0ID0gWydzaXRlY29udHJvbGxlciddO1xuXG4gICAgZnVuY3Rpb24gY29tbWl0dGVlc0N0cmwoc2l0ZWNvbnRyb2xsZXIpIHtcbiAgICAgICAgY29uc3QgY3ZtID0gdGhpcztcblxuICAgICAgICBjdm0ubG9hZENvbW1pdHRlZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHNpdGVjb250cm9sbGVyXG4gICAgICAgICAgICAgICAgLnNob3dBbGxDb21taXR0ZWUoKVx0XG4gICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3ZtLmNvbW1pdHRlZUxvYWRpbmdFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdm0uY29tbWl0dGVlTG9hZGluZ0Vycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN2bS5jb21taXR0ZWVMb2FkaW5nRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN2bS5jb21taXR0ZWVzID0gcmVzcG9uc2UuZGF0YS5jb21taXR0ZWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjdm0uY29tbWl0dGVlTG9hZGluZ0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgY3ZtLmNvbW1pdHRlZUxvYWRpbmdFcnJvck1zZyA9IGVycjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxufSkoKTsiLCIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCBjb3VuY2lsbWVtYmVycyBjb250cm9sbGVyIGZvciB0aGUgYXBwXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5iYS1zbHAsIDIwMThcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbihmdW5jdGlvbiAoKSB7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25iYXNscCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdjb3VuY2lsQ3RybCcsIGNvdW5jaWxDdHJsKTtcblxuICAgIGNvdW5jaWxDdHJsLiRpbmplY3QgPSBbJ3NpdGVjb250cm9sbGVyJ107XG5cbiAgICBmdW5jdGlvbiBjb3VuY2lsQ3RybChzaXRlY29udHJvbGxlcikge1xuICAgICAgICBjb25zdCBjbHZtID0gdGhpcztcblxuICAgICAgICBjbHZtLmxvYWRDb3VuY2lsTWVtYmVycyA9ICgpID0+IHtcbiAgICAgICAgICAgIHNpdGVjb250cm9sbGVyXG4gICAgICAgICAgICAgICAgLnNob3dDb3VuY2lsTWVtYmVyKClcbiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsdm0uY29tbWl0dGVlTG9hZGluZ0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsdm0uY29tbWl0dGVlTG9hZGluZ0Vycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsdm0uY29tbWl0dGVlTG9hZGluZ0Vycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbHZtLmNvdW5jaWxzID0gcmVzcG9uc2UuZGF0YS5kYXRhO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY2x2bS5jb21taXR0ZWVMb2FkaW5nRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBjbHZtLmNvbW1pdHRlZUxvYWRpbmdFcnJvck1zZyA9IGVycjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICB9XG5cbn0pKCk7IiwiLypcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG58IHNldHRpbmcgdXAgZXZlbnQgY29udHJvbGxlciBmb3IgdGhlIGFwcFxufCBAYXV0aG9yOiBqYWhpZCBoYXF1ZSA8amFoaWQuaGFxdWVAeWFob28uY29tPlxufCBAY29weXJpZ2h0OiBuYmEtc2xwLCAyMDE4XG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4oZnVuY3Rpb24gKCkge1xuICAgIFxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbmJhc2xwJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ2V2ZW50c0N0cmwnLCBldmVudHNDdHJsKTtcblxuICAgIGV2ZW50c0N0cmwuJGluamVjdCA9IFsnc2l0ZWNvbnRyb2xsZXInXTtcblxuICAgIGZ1bmN0aW9uIGV2ZW50c0N0cmwoc2l0ZWNvbnRyb2xsZXIpIHtcblxuICAgICAgICBjb25zdCBldm0gPSB0aGlzO1xuXG4gICAgICAgIGV2bS5zaG93RXZlbnRzID0gKCkgPT4ge1xuICAgICAgICAgICAgc2l0ZWNvbnRyb2xsZXJcbiAgICAgICAgICAgICAgICAuc2hvd0V2ZW50KClcbiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBldm0uZXZlbnRMb2FkRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZtLmV2ZW50TG9hZEVycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2bS5ldmVudExvYWRFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZtLmV2ZW50cyA9IHJlc3BvbnNlLmRhdGEuZXZlbnRzO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZtLmV2ZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZtLm5vRXZlbnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2bS5ub0V2ZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGV2bS5ldmVudExvYWRFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGV2bS5ldmVudExvYWRFcnJvck1zZyA9IGVycjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICB9XG5cbn0pKCk7IiwiLypcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG58IHNldHRpbmcgdXAgYWJvdXQgdXMgY29udHJvbGxlciBmb3IgYXBwXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5iYS1zbHAsIDIwMThcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbihmdW5jdGlvbiAoKSB7XG4gICAgXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCduYmFzbHAnKVxuICAgICAgICAuY29udHJvbGxlcignYWJvdXR1c0N0cmwnLCBhYm91dHVzQ3RybCk7XG5cbiAgICBmdW5jdGlvbiBhYm91dHVzQ3RybCgpIHtcbiAgICAgICAgY29uc3QgYWJ2bSA9IHRoaXM7XG4gICAgfVxuIFxufSkoKTsiLCIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCBjb250YWN0IGNvbnRyb2xsZXIgZm9yIHRoZSBhcHBcbnwgQGF1dGhvcjogamFoaWQgaGFxdWUgPGphaGlkLmhhcXVlQHlhaG9vLmNvbT5cbnwgQGNvcHlyaWdodDogbmJhLXNscCwgMjAxOFxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcbiAgICBcbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25iYXNscCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdjb250YWN0dXNDdHJsJywgY29udGFjdHVzQ3RybCk7XG5cbiAgICBjb250YWN0dXNDdHJsLiRpbmplY3QgPSBbJ3N5c3RlbVNlcnZpY2UnXTtcblxuICAgIGZ1bmN0aW9uIGNvbnRhY3R1c0N0cmwoc3lzdGVtU2VydmljZSkge1xuICAgICAgICBjb25zdCBjdm0gPSB0aGlzO1xuXG4gICAgICAgIGN2bS5jb250YWN0ID0ge1xuICAgICAgICAgICAgbmFtZTogJycsXG4gICAgICAgICAgICBlbWFpbDogJycsXG4gICAgICAgICAgICBtZXNzYWdlOiAnJyxcbiAgICAgICAgfTtcblxuICAgICAgICBjdm0uY29udGFjdFVzID0gKCkgPT4ge1xuICAgICAgICAgICAgc3lzdGVtU2VydmljZVxuICAgICAgICAgICAgICAgIC5zZW5kQ29udGFjdE1lc3NhZ2UoY3ZtLmNvbnRhY3QpXG4gICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3ZtLnNlbmRNZXNzYWdlRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3ZtLnNlbmRNZXNzYWdlRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3ZtLnNlbmRNZXNzYWdlU3VjY2VzcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdm0uc2VuZE1lc3NhZ2VTdWNjZXNzTXNnID0gJ1dlIGhhdmUgcmVjZWl2ZWQgeW91ciBtZXNzYWdlLiBXZSB3aWxsIGJlIGluIHRvdWNoIHdpdGggeW91IHNvb24nO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY3ZtLnNlbmRNZXNzYWdlRXJyb3IgPSB0cnVlO1x0XG4gICAgICAgICAgICAgICAgICAgIGN2bS5zZW5kTWVzc2FnZUVycm9yTXNnID0gZXJyO1x0XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfVxuXG59KSgpOyIsIi8qXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBzZXR0aW5nIHVwIHNpZ251cCBjb250cm9sbGVyIGZvciB0aGUgYXBwXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5iYXNscCwgMjAxN1xufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25iYXNscCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdzaWdudXBDdHJsJywgc2lnbnVwQ3RybCk7XG5cbiAgICBzaWdudXBDdHJsLiRpbmplY3QgPSBbJ2F1dGhlbnRpY2F0aW9uJywgJyRsb2NhdGlvbiddO1xuXG4gICAgZnVuY3Rpb24gc2lnbnVwQ3RybChhdXRoZW50aWNhdGlvbiwgJGxvY2F0aW9uKSB7XG4gICAgICAgIGNvbnN0IHJlZ3ZtID0gdGhpcztcblxuICAgICAgICAvLyB1c2VyIG9iamVjdC5cbiAgICAgICAgcmVndm0udXNlciA9IHtcbiAgICAgICAgICAgIGZpcnN0TmFtZTogJycsXG4gICAgICAgICAgICBsYXN0TmFtZTogJycsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJycsXG4gICAgICAgICAgICBlbWFpbDogJycsXG4gICAgICAgICAgICBwYXNzd29yZDogJycsXG4gICAgICAgICAgICBjb25maXJtUGFzc3dvcmQ6ICcnLFxuICAgICAgICB9O1xuXG4gICAgICAgIHJlZ3ZtLnJlZ2lzdGVyID0gKCkgPT4ge1xuICAgICAgICAgICAgYXV0aGVudGljYXRpb25cbiAgICAgICAgICAgICAgICAuc2lnblVwKHJlZ3ZtLnVzZXIpXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWd2bS5SZWdpc3RyYXRpb25FcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWd2bS5SZWdpc3RyYXRpb25FcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWd2bS5SZWdpc3RyYXRpb25FcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy93ZWxjb21lJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ3ZtLlJlZ2lzdHJhdGlvbkVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ3ZtLlJlZ2lzdHJhdGlvbkVycm9yTXNnID0gZXJyLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoYXV0aGVudGljYXRpb24uaXNMb2dnZWRJbigpKSB7XG4gICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL3dlbGNvbWUnKTtcbiAgICAgICAgfVxuICAgIH1cbn0pKCk7XG4iLCIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCBjb250cm9sbGVyIGZvciBsb2dpbiBwYWdlXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5iYXNscCwgMjAxN1xufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25iYXNscCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdzaWduaW5DdHJsJywgc2lnbmluQ3RybCk7XG5cbiAgICBzaWduaW5DdHJsLiRpbmplY3QgPSBbJ2F1dGhlbnRpY2F0aW9uJywgJyRsb2NhdGlvbiddO1xuXG4gICAgZnVuY3Rpb24gc2lnbmluQ3RybChhdXRoZW50aWNhdGlvbiwgJGxvY2F0aW9uKSB7XG4gICAgICAgIGNvbnN0IGx2bSA9IHRoaXM7XG5cbiAgICAgICAgbHZtLnVzZXIgPSB7XG4gICAgICAgICAgICBlbWFpbDogJycsXG4gICAgICAgICAgICBwYXNzd29yZDogJycsXG4gICAgICAgIH07IFxuXG4gICAgICAgIGlmIChhdXRoZW50aWNhdGlvbi5pc0xvZ2dlZEluKCkpIHtcbiAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvd2VsY29tZScpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbHZtLmxvZ2luID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghbHZtLnVzZXIuZW1haWwgfHwgIWx2bS51c2VyLnBhc3N3b3JkKSB7XG4gICAgICAgICAgICAgICAgICAgIGx2bS5sb2dpbkVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgbHZtLmxvZ2luRXJyb3JNc2cgPSBgRXJyb3IhIGFsbCAqIGZpZWxkcyBhcmUgcmVxdWlyZWRgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbHZtLmxvZ2luRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgbHZtLmRvTG9naW4oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBsdm0uZG9Mb2dpbiA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGlvblxuICAgICAgICAgICAgICAgICAgICAuc2lnbkluKGx2bS51c2VyKVxuICAgICAgICAgICAgICAgICAgICAuZXJyb3IoKGVycikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbHZtLmxvZ2luRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgbHZtLmxvZ2luRXJyb3JNc2cgPSBlcnIuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvd2VsY29tZScpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbn0pKCk7XG4iLCIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCBjb250cm9sbGVyIGZvciBwcm9maWxlIHBhZ2VcbnwgQGF1dGhvcjogamFoaWQgaGFxdWUgPGphaGlkLmhhcXVlQHlhaG9vLmNvbT5cbnwgQGNvcHlyaWdodDogbmJhLXNscCwgMjAxN1xufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbmJhc2xwJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ3Byb2ZpbGVDdHJsJywgcHJvZmlsZUN0cmwpO1xuXG4gICAgcHJvZmlsZUN0cmwuJGluamVjdCA9IFsnJHNjb3BlJywgJ2F1dGhlbnRpY2F0aW9uJywgJyRsb2NhdGlvbicsICdhY2NvdW50JywgJyRyb3V0ZSddO1xuXG4gICAgZnVuY3Rpb24gcHJvZmlsZUN0cmwoJHNjb3BlLCBhdXRoZW50aWNhdGlvbiwgJGxvY2F0aW9uLCBhY2NvdW50LCAkcm91dGUpIHtcblxuICAgICAgICBjb25zdCBwcm92bSA9IHRoaXM7XG5cbiAgICAgICAgcHJvdm0ucmVzZXRwYXNzd29yZCA9IHtcbiAgICAgICAgICAgIHBhc3N3b3JkOiAnJyxcbiAgICAgICAgICAgIHJlcGVhdF9wYXNzd29yZDogJycsXG4gICAgICAgICAgICBuZXdfcGFzc3dvcmQ6ICcnLFxuICAgICAgICB9O1xuXG4gICAgICAgIHByb3ZtLnJlc2V0UGFzc3dvcmQgPSAoKSA9PiB7XG4gICAgICAgICAgICBhY2NvdW50XG4gICAgICAgICAgICAgICAgLnJlc2V0UGFzc3dvcmQoYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5lbWFpbCwgcHJvdm0ucmVzZXRwYXNzd29yZClcbiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5yZXNldFBhc3N3b3JkRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0ucmVzZXRQYXNzd29yZEVycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnJlc2V0UGFzc3dvcmRFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0ucmVzZXRTdWNjZXNzID0gdHJ1ZTsgXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGlvbi5Mb2dvdXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm91dGUucmVsb2FkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAyMDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcHJvdm0ucmVzZXRQYXNzd29yZEVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcHJvdm0ucmVzZXRQYXNzd29yZEVycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIGZ1bmN0aW9uIHN0YXR1c1VwZGF0ZXIodXBkYXRlT2JqZWN0KSB7XG5cbiAgICAgICAgICAgIC8vIGNhbGxpbmcgc2VydmljZSBmdW5jdGlvbi5cbiAgICAgICAgICAgIGFjY291bnRcbiAgICAgICAgICAgICAgICAudXBkYXRlVXNlclN0YXR1cyh1cGRhdGVPYmplY3QpXG4gICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS51cGRhdGVkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5zdGF0dXNVcGRhdGVFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgJHJvdXRlLnJlbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYmFzaWNBY2NvdW50SW5mb0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJhc2ljQWNjb3VudEluZm9FcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICBwcm92bS5zdGF0dXNVcGRhdGVFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHByb3ZtLmJhc2ljQWNjb3VudEluZm9FcnJvck1zZyA9IGVycjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhdXRoZW50aWNhdGlvbi5pc0xvZ2dlZEluKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgcHJvdm0uY3VycmVudEFjY291bnRUeXBlID0gYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5hY2NvdW50VHlwZTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gY2hlY2tpbmcgYWNjb3VudCB0eXBlXG4gICAgICAgICAgICBpZiAoYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5hY2NvdW50VHlwZSA9PT0gJ2N1c3RvbWVyJykge1xuXG4gICAgICAgICAgICAgICAgcHJvdm0ucHJvZmlsZVN0YXR1cyA9IGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkuYWNjb3VudFN0YXR1cztcblxuICAgICAgICAgICAgICAgIHByb3ZtLmNvZGVSZWFkeSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgcHJvdm0uYmFzaWNQcm9maWxlRWRpdE9uID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcHJvdm0uYnJhbmNoSW5mb0VkaXRPbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHByb3ZtLnNlbmRBY3RpdmF0aW9uQ29kZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcHJvdm0uY29kZVJlYWR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgLmNyZWF0ZUFjdGl2YXRpb25Db2RlKGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkuZW1haWwpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYWN0aXZhdGlvbkNvZGVFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmFjdGl2YXRpb25Db2RlRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZFN0YXR1cyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZV9hdDogJ3Byb2ZpbGVBY3RpdmF0aW9uTWFpbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5lbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzVXBkYXRlcih1cGRhdGVkU3RhdHVzKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5jb2RlUmVhZHkgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5hY3RpdmF0aW9uQ29kZUVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmFjdGl2YXRpb25Db2RlRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmFjdGl2YXRpb25Db2RlRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLy8gZ2V0IHVzZXIgYWNjb3VudCBzdGF0dWVzIFxuICAgICAgICAgICAgICAgIHByb3ZtLmdldFByb2ZpbGVTdGF0dXNlcyA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgLmdldEFjY291bnRTdGF0dXNlcyhhdXRoZW50aWNhdGlvbi5jdXJyZW50VXNlcigpLmVtYWlsKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnN0YXR1c0xvYWRFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnN0YXR1c0xvYWRFcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5zdGF0dXNMb2FkRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0udXNlclN0YXR1c2VzID0gcmVzcG9uc2UuZGF0YS5zdGF0dXNlcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uc3RhdHVzTG9hZEVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5zdGF0dXNMb2FkRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLy8gc2F2aW5nIGJhc2ljIHByb2ZpbGUgaW5mb1xuICAgICAgICAgICAgICAgIHByb3ZtLmJhc2ljUHJvZmlsZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgd2hvczogYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5lbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgdXNlcklkOiBhdXRoZW50aWNhdGlvbi5jdXJyZW50VXNlcigpLnVzZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgZm9ybWVyTmFtZTogJycsXG4gICAgICAgICAgICAgICAgICAgIHNleDogJycsXG4gICAgICAgICAgICAgICAgICAgIHRlbGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICBhZGRyZXNzOiAnJyxcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgcHJvdm0uc2F2ZUJhc2ljSW5mbyA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgLnNhdmVCYXNpY0luZm8ocHJvdm0uYmFzaWNQcm9maWxlKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYmFzaWNBY2NvdW50SW5mb0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYmFzaWNBY2NvdW50SW5mb0Vycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkU3RhdHVzID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlX2F0OiAnYmFzaWNfaW5mbycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5lbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjYWxsaW5nIHNlcnZpY2UgZnVuY3Rpb24uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC51cGRhdGVVc2VyU3RhdHVzKHVwZGF0ZWRTdGF0dXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEudXBkYXRlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5zdGF0dXNVcGRhdGVFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm91dGUucmVsb2FkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5iYXNpY0FjY291bnRJbmZvRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5iYXNpY0FjY291bnRJbmZvRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5zdGF0dXNVcGRhdGVFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYmFzaWNBY2NvdW50SW5mb0Vycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBwcm92bS5icmFuY2ggPSB7XG4gICAgICAgICAgICAgICAgICAgIHllYXI6ICcnLFxuICAgICAgICAgICAgICAgICAgICBicmFuY2g6ICcnLFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvLyBhZGRpbmcgYnJhbmNoIGluZm9cbiAgICAgICAgICAgICAgICBwcm92bS5zYXZlQmF0Y2hJbmZvID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBhY2NvdW50XG4gICAgICAgICAgICAgICAgICAgICAgICAuc2F2ZUJyYW5jaEluZm8oYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5lbWFpbCwgcHJvdm0uYnJhbmNoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJyYW5jaEluZm9FcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJyYW5jaEluZm9FcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5icmFuY2hJbmZvRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRTdGF0dXMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVfYXQ6ICdicmFuY2gnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkuZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2FsbGluZyBzZXJ2aWNlIGZ1bmN0aW9uLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudXBkYXRlVXNlclN0YXR1cyh1cGRhdGVkU3RhdHVzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnVwZGF0ZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYnJhbmNoSW5mb0Vycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb3V0ZS5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJyYW5jaEluZm9FcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJyYW5jaEluZm9FcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJyYW5jaEluZm9FcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYnJhbmNoSW5mb0Vycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJyYW5jaEluZm9FcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYnJhbmNoSW5mb0Vycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8vIHNob3cgYmFzaWMgaW5mb1xuICAgICAgICAgICAgICAgIHByb3ZtLmxvYWRCYXNpY0luZm8gPSAoY29sbGVjdGlvbk5hbWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgLmxvYWRVc2VySW5mbyhjb2xsZWN0aW9uTmFtZSwgYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5lbWFpbClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS51c2VyQmFzaWNJbmZvTG9hZGluZ0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0udXNlckJhc2ljSW5mb0xvYWRpbmdFcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS51c2VyQmFzaWNJbmZvTG9hZGluZ0Vycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJhc2ljSW5mbyA9IHJlc3BvbnNlLmRhdGEudXNlckluZm87XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnVzZXJCYXNpY0luZm9Mb2FkaW5nRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnVzZXJCYXNpY0luZm9Mb2FkaW5nRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLy8gZWRpdCBiYXNpYyBpbmZvXG4gICAgICAgICAgICAgICAgcHJvdm0uZWRpdEJhc2ljSW5mbyA9ICh1c2VySWQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcHJvdm0uYmFzaWNQcm9maWxlRWRpdE9uID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICBwcm92bS5lZGl0QmFzaWMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBwcm92bS5iYXNpY0luZm8uZm9ybWVyTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNleDogcHJvdm0uYmFzaWNJbmZvLnNleCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZHJlc3M6IHByb3ZtLmJhc2ljSW5mby5hZGRyZXNzLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGVsZTogcHJvdm0uYmFzaWNJbmZvLnRlbGVwaG9uZSxcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICBwcm92bS5TYXZlRWRpdEJhc2ljSW5mbyA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZWRpdEJhc2ljSW5mbyh1c2VySWQsIHByb3ZtLmVkaXRCYXNpYylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5lZGl0QmFzaWNJbmZvRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uZWRpdEJhc2ljSW5mb0Vycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmVkaXRCYXNpY0luZm9FcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvdXRlLnJlbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uZWRpdEJhc2ljSW5mb0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uZWRpdEJhc2ljSW5mb0Vycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBwcm92bS5jYW5jbGVCYXNpY0VkaXQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHByb3ZtLmJhc2ljUHJvZmlsZUVkaXRPbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBwcm92bS5nZXRDb21taXR0ZWUgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGFjY291bnRcbiAgICAgICAgICAgICAgICAgICAgICAgIC5nZXRDb21taXR0ZWUoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmNvbW1pdHRlZXMgPSByZXNwb25zZS5kYXRhLmNvbW1pdHRlZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8vIHNob3cgYnJhbmNoIGluZm9cbiAgICAgICAgICAgICAgICBwcm92bS5sb2FkVXNlckJyYW5jaCA9IChjb2xsZWN0aW9uTmFtZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBhY2NvdW50XG4gICAgICAgICAgICAgICAgICAgICAgICAubG9hZFVzZXJJbmZvKGNvbGxlY3Rpb25OYW1lLCBhdXRoZW50aWNhdGlvbi5jdXJyZW50VXNlcigpLmVtYWlsKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnVzZXJJbmZvTG9hZGluZ0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0udXNlckluZm9Mb2FkaW5nRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0udXNlckluZm9Mb2FkaW5nRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYnJhbmNoSW5mbyA9IHJlc3BvbnNlLmRhdGEudXNlckluZm87XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnVzZXJJbmZvTG9hZGluZ0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS51c2VySW5mb0xvYWRpbmdFcnJvck1zZyA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBlZGl0IGJyYW5jaCBpbmZvXG4gICAgICAgICAgICAgICAgcHJvdm0uZWRpdEJyYW5jaEluZm8gPSAodXNlcklkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHByb3ZtLmJyYW5jaEluZm9FZGl0T24gPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgIHByb3ZtLmVkaXRCcmFuY2ggPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYXJ5ZWFyOiBwcm92bS5icmFuY2hJbmZvLmJhclllYXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBicmFuY2g6IHByb3ZtLmJyYW5jaEluZm8ubmJhQnJhbmNoLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAvLyBoYW5kbGUgZm9ybSBzdWJtaXNzaW9uIFxuICAgICAgICAgICAgICAgICAgICBwcm92bS5zYXZlRWRpdEJyYW5jaEluZm8gPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmVkaXRCcmFuY2hJbmZvKHVzZXJJZCwgcHJvdm0uZWRpdEJyYW5jaClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5lZGl0QnJhbmNoSW5mb0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmVkaXRCcmFuY2hJbmZvRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uZWRpdEJyYW5jaEluZm9FcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvdXRlLnJlbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uZWRpdEJyYW5jaEluZm9FcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmVkaXRCcmFuY2hJbmZvRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8vIGNhbmNsZSBicmFuY2ggaW5mbyBlZGl0LlxuICAgICAgICAgICAgICAgIHByb3ZtLmNhbmNlbEVkaXRCcmFuY2hJbmZvID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBwcm92bS5icmFuY2hJbmZvRWRpdE9uID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgICAgICB8IGZvbGxvd2luZyBmdW5jdGlvbiB3aWxsIGFjdGl2ZSB0aGUgcHJvZmlsZSBcbiAgICAgICAgICAgICAgICB8IGJhc2VkIG9uIGdpdmVuIGNvZGVcbiAgICAgICAgICAgICAgICB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgcHJvdm0uYWN0aXZhdGlvbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogJycsXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHByb3ZtLmFjdGl2ZVByb2ZpbGUgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGFjY291bnRcbiAgICAgICAgICAgICAgICAgICAgICAgIC52YWxpZGF0ZUFjdGl2YXRpb25Db2RlKGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkuZW1haWwsIHByb3ZtLmFjdGl2YXRpb24uY29kZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5BY3RpdmF0aW9uRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5BY3RpdmF0aW9uRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXNwb25zZS5kYXRhLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYWN0aXZhdGlvblN1Y2Nlc3MgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNhbGxpbmcgdGhlIGxvZ291dCBmdW5jdGlvbi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGlvbi5Mb2dvdXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb3V0ZS5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMzAwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLkFjdGl2YXRpb25FcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uQWN0aXZhdGlvbkVycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgICAgICB8IEZvbGxvd2luZyBmdW5jdGlvbiB3aWxsIGhhbmRsZSBiYW5rIHRlbGxlciBcbiAgICAgICAgICAgICAgICB8IHVwbG9hZFxuICAgICAgICAgICAgICAgIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBwcm92bS5iYW5rVGVsbGVySW5mbyA9IHtcbiAgICAgICAgICAgICAgICAgICAgcHJlZmVycmVkQ29tbWl0dGVlOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgYWRkaXRpb25hbF9jb21taXR0ZWU6ICcnLFxuICAgICAgICAgICAgICAgICAgICBiYW5rOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgYnJhbmNoOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgZGVwb3NpdG9yOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgZGVwb3NpdG9yX3RlbDogJycsXG4gICAgICAgICAgICAgICAgICAgIHRlbGxlcm5vOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiAnJyxcbiAgICAgICAgICAgICAgICAgICAgZGF0ZWRlcG9zaXQ6ICcnLFxuICAgICAgICAgICAgICAgICAgICB1c2VySWQ6IGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkuYWNjb3VudElkLFxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgcHJvdm0uc2F2ZUJhbmtUZWxsZXJJbmZvID0gKCkgPT4geyBcblxuICAgICAgICAgICAgICAgICAgICBhY2NvdW50XG4gICAgICAgICAgICAgICAgICAgICAgICAudXBsb2FkVGVsbGVyRG9jcyhhdXRoZW50aWNhdGlvbi5jdXJyZW50VXNlcigpLmVtYWlsLCBwcm92bS5iYW5rVGVsbGVySW5mbylcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5zYXZlVGVsbGVyRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5zYXZlVGVsbGVyRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uc2F2ZVRlbGxlckVycm9yID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm93IHVwZGF0ZSB1c2VyIHN0YXR1cyBmb3IgYmFuayB0ZWxsZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZFN0YXR1cyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZV9hdDogJ2Jhbmt0ZWxsZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkuZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2FsbGluZyBzZXJ2aWNlIGZ1bmN0aW9uLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudXBkYXRlVXNlclN0YXR1cyh1cGRhdGVkU3RhdHVzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnVwZGF0ZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYnJhbmNoSW5mb0Vycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb3V0ZS5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJyYW5jaEluZm9FcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJyYW5jaEluZm9FcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJyYW5jaEluZm9FcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYnJhbmNoSW5mb0Vycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnNhdmVUZWxsZXJFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uc2F2ZVRlbGxlckVycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgICAgICB8IEZvbGxvd2luZyBmdW5jdGlvbiB3aWxsIGdldCBsYXRlc3QgYmFuayB0ZWxsZXJcbiAgICAgICAgICAgICAgICB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgcHJvdm0uZ2V0Q3VycmVudEJhbmtUZWxsZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGFjY291bnRcbiAgICAgICAgICAgICAgICAgICAgICAgIC5nZXRCYW5rVGVsbGVyKGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkuZW1haWwpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3RlbGxlcicsIHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5iYW5rVGVsbGVyTG9hZGluZ0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYmFua1RlbGxlckxvYWRpbmdFcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5iYW5rVGVsbGVyTG9hZGluZ0Vycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnVzZXJCYW5rVGVsbGVyID0gcmVzcG9uc2UuZGF0YS5iYW5rVGVsbGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5iYW5rVGVsbGVyTG9hZGluZ0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5iYW5rVGVsbGVyTG9hZGluZ0Vycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5hY2NvdW50VHlwZSA9PT0gJ2FkbWluJykge1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL3NpZ25pbicpO1xuICAgICAgICB9XG4gICAgfVxuXG59KSgpO1xuIiwiLypcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG58IHNldHRpbmcgdXAgaGVscCBjb250cm9sbGVyIGZvciB0aGUgYXBwXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5iYS1zbHAsIDIwMThcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qL1xuXG4oZnVuY3Rpb24gKCkge1xuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbmJhc2xwJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ2hlbHBDdHJsJywgaGVscEN0cmwpO1xuXG4gICAgaGVscEN0cmwuJGluamVjdCA9IFsnYXV0aGVudGljYXRpb24nLCAnJHJvdXRlJ107XG5cbiAgICBmdW5jdGlvbiBoZWxwQ3RybChhdXRoZW50aWNhdGlvbiwgJHJvdXRlKSB7XG4gICAgICAgIGNvbnN0IGh2bSA9IHRoaXM7XG5cbiAgICAgICAgaHZtLmNoZWNrVXNlckZvcm0gPSB0cnVlO1xuICAgICAgICBodm0uUGFzc3dvcmRyZXNldEZvcm0gPSBmYWxzZTtcbiAgICAgICAgaHZtLnZlcmlmeUFqYXhMb2FkZXIgPSBmYWxzZTtcbiAgICAgICAgaHZtLnNob3dQYXNzUmVzZXRGb3JtID0gZmFsc2U7XG5cbiAgICAgICAgLy8gY2hlY2tpbmcgdGhlIHJvdXRlIHVybFxuICAgICAgICBodm0uY2hlY2tpbmdSb3V0ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICgkcm91dGUuY3VycmVudC5wYXJhbXMgJiYgJHJvdXRlLmN1cnJlbnQucGFyYW1zLnYgPT09ICdmb3Jnb3RfcGFzc3dvcmQnKSB7XG4gICAgICAgICAgICAgICAgaHZtLlBhc3N3b3JkcmVzZXRGb3JtID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaHZtLnVzZXIgPSB7XG4gICAgICAgICAgICAgICAgICAgIGVtYWlsOiAnJyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIC8vIGNoZWNraW5nIHVzZXIuXG4gICAgICAgICAgICAgICAgaHZtLmNoZWNrVXNlciA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIC5jaGVja1VzZXIoaHZtLnVzZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHZtLnVzZXJDaGVja2luZ0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHZtLnVzZXJDaGVja2luZ0Vycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5zZWN1cml0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodm0udXNlckNoZWNraW5nRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodm0udXNlckNoZWNraW5nRXJyb3JNc2cgPSBgSWYgeW91IGhhdmUgYWNjb3VudCB3aXRoIHVzLCB3ZSBoYXZlIHNlbnQgeW91IHBhc3N3b3JkIHJlc2V0IGxpbmtgO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHZtLnVzZXJDaGVja2luZ0Vycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh2bS51c2VyQ2hlY2tpbmdFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaHZtLnVzZXJDaGVja2luZ0Vycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCRyb3V0ZS5jdXJyZW50LnBhcmFtcyAmJiAkcm91dGUuY3VycmVudC5wYXJhbXMuciAmJiAkcm91dGUuY3VycmVudC5wYXJhbXMudSkge1xuXG4gICAgICAgICAgICAgICAgaHZtLlBhc3N3b3JkcmVzZXRGb3JtID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBodm0uY2hlY2tVc2VyRm9ybSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgaHZtLnZlcmlmeUFqYXhMb2FkZXIgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaHZtLnZhcmlmeVVzZXJEZXRhaWxzKCk7XG5cbiAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAgICAgfCBjaGFuZ2UgcGFzc3dvcmQgZm9ybSBzdWJtaXRcbiAgICAgICAgICAgICAgICB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgaHZtLmNoYW5nZVBhc3N3b3JkSW5mbyA9IHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiAkcm91dGUuY3VycmVudC5wYXJhbXMucixcbiAgICAgICAgICAgICAgICAgICAgdXNlcjogJHJvdXRlLmN1cnJlbnQucGFyYW1zLnUsXG4gICAgICAgICAgICAgICAgICAgIG5ld3Bhc3N3b3JkOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgcmVwZWF0cGFzc3dvcmQ6ICcnLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaHZtLmNoYW5nZVBhc3N3b3JkID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgLmNoYW5nZVBhc3N3b3JkKGh2bS5jaGFuZ2VQYXNzd29yZEluZm8pXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh2bS5jaGFuZ2VQYXNzRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodm0uY2hhbmdlUGFzc0Vycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh2bS5jaGFuZ2VQYXNzRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaHZtLmNoYW5nZVBhc3NFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaHZtLmNoYW5nZVBhc3NFcnJvck1zZyA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfTtcblxuICAgICAgICBodm0udmFyaWZ5VXNlckRldGFpbHMgPSAoKSA9PiB7XG4gICAgICAgICAgICBhdXRoZW50aWNhdGlvblxuICAgICAgICAgICAgICAgIC5jb3VudFVzZXIoJHJvdXRlLmN1cnJlbnQucGFyYW1zLnUpXG4gICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaHZtLnVzZXJWZXJpZmljYXRpb25Vc2VyRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaHZtLnVzZXJWZXJpZmljYXRpb25Vc2VyRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0dXJuIG9mIGFqYXhcbiAgICAgICAgICAgICAgICAgICAgICAgIGh2bS52ZXJpZnlBamF4TG9hZGVyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBub3cgY2hlY2sgdmVyaWZ5IHRoZSBrZXlcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnZlcmlmeUtleSgkcm91dGUuY3VycmVudC5wYXJhbXMudSwgJHJvdXRlLmN1cnJlbnQucGFyYW1zLnIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHZtLnVzZXJWZXJpZmljYXRpb25Vc2VyRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHZtLnVzZXJWZXJpZmljYXRpb25Vc2VyRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHZtLnVzZXJWZXJpZmljYXRpb25Vc2VyRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh2bS5zaG93UGFzc1Jlc2V0Rm9ybSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodm0udmVyaWZ5QWpheExvYWRlciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHZtLnVzZXJWZXJpZmljYXRpb25Vc2VyRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodm0udXNlclZlcmlmaWNhdGlvblVzZXJFcnJvck1zZyA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGh2bS51c2VyVmVyaWZpY2F0aW9uVXNlckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaHZtLnVzZXJWZXJpZmljYXRpb25Vc2VyRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgIGh2bS52ZXJpZnlBamF4TG9hZGVyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfTtcblxuICAgIH1cblxufSkoKTtcbiIsIi8qXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBzZXR0aW5nIHVwIGNvbnRyb2xsZXIgZm9yIHNpdGUtY29udHJvbGwgcGFnZVxufCBAYXV0aG9yOiBqYWhpZCBoYXF1ZSA8amFoaWQuaGFxdWVAeWFob28uY29tPlxufCBAY29weXJpZ2h0OiBuYmEtc2xwLCAyMDE4XG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4oZnVuY3Rpb24gKCkge1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCduYmFzbHAnKVxuICAgICAgICAuY29udHJvbGxlcignc2l0ZWNvbnRyb2xsQ3RybCcsIHNpdGVjb250cm9sbEN0cmwpO1xuXG4gICAgc2l0ZWNvbnRyb2xsQ3RybC4kaW5qZWN0ID0gWydhdXRoZW50aWNhdGlvbicsICckbG9jYXRpb24nLCAnc2l0ZWNvbnRyb2xsZXInXTtcblxuICAgIGZ1bmN0aW9uIHNpdGVjb250cm9sbEN0cmwoYXV0aGVudGljYXRpb24sICRsb2NhdGlvbiwgc2l0ZWNvbnRyb2xsZXIpIHtcbiAgICAgICAgY29uc3QgYWRTaXRlID0gdGhpcztcblxuICAgICAgIFxuICAgICAgICBpZiAoYXV0aGVudGljYXRpb24uaXNMb2dnZWRJbigpKSB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChhdXRoZW50aWNhdGlvbi5jdXJyZW50VXNlcigpLmFjY291bnRUeXBlID09PSAnYWRtaW4nKSB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgYWRTaXRlLmNvbW1pdHRlZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJycsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAvLyBhZGQgY29tbWl0dGVlXG4gICAgICAgICAgICAgICAgYWRTaXRlLmFkZFByZWZlcnJlZENvbW1pdHRlZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2l0ZWNvbnRyb2xsZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRQcmVmZXJyZWRDb21taXR0ZWUoYWRTaXRlLmNvbW1pdHRlZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuYWRkQ29tbWl0dGVlRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuYWRkQ29tbWl0dGVlRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmFkZENvbW1pdHRlZUVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5hZGRDb21taXR0ZWVTdWNjZXNzTXNnID0gJ0NvbW1pdHRlZSBzdWNjZXNzZnVsbHkgYWRkZWQnO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNldCB0aW1lIG91dCBhbmQgY2FsbCBzaG93IGNvbW1pdHRlZSBtZXRob2QuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLnNob3dDb21taXR0ZWUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMjAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmFkZENvbW1pdHRlZUVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuYWRkQ29tbWl0dGVlRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLy8gc2hvdyBjb21taXR0ZWVcbiAgICAgICAgICAgICAgICBhZFNpdGUuc2hvd0NvbW1pdHRlZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2l0ZWNvbnRyb2xsZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zaG93QWxsQ29tbWl0dGVlKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuY29tbWl0dGVlRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuY29tbWl0dGVlRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmNvbW1pdHRlZUVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5jb21taXR0ZWVMaXN0ID0gcmVzcG9uc2UuZGF0YS5jb21taXR0ZWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5jb21taXR0ZWVFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmNvbW1pdHRlZUVycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBpbmRpdmlkdWFsIGNvbW1pdHRlZS5cbiAgICAgICAgICAgICAgICBhZFNpdGUucmVtb3ZlTGlzdCA9IChjb21taXR0ZWVJZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzaXRlY29udHJvbGxlclxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUNvbW1pdHRlZShjb21taXR0ZWVJZClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydChyZXNwb25zZS5kYXRhLmVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLnNob3dDb21taXR0ZWUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBhZFNpdGUuY291bmNpbCA9IHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJycsXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGFkU2l0ZS5hZGRDb3VuY2lsTWVtYmVyID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzaXRlY29udHJvbGxlclxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENvdW5jaWwoYWRTaXRlLmNvdW5jaWwpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmNvdW5jaWxBZGRFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5jb3VuY2lsQWRkRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5jb3VuY2lsQWRkRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuc2hvd0NvdW5jaWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmNvdW5jaWxBZGRFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmNvdW5jaWxBZGRFcnJvck1zZyA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBhZFNpdGUuc2hvd0NvdW5jaWwgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNpdGVjb250cm9sbGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2hvd0NvdW5jaWxNZW1iZXIoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5jb3VuY2lsU2hvd0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmNvdW5jaWxTaG93RXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmNvdW5jaWxTaG93RXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmNvdW5jaWxzID0gcmVzcG9uc2UuZGF0YS5kYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuY291bmNpbFNob3dFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmNvdW5jaWxTaG93RXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgYWRTaXRlLnJlbW92ZUNvdW5jaWwgPSAoY291bmNpbElkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNpdGVjb250cm9sbGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQ291bmNpbChjb3VuY2lsSWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5zaG93Q291bmNpbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAgICAgfCBmb2xsb3dpbmcgZnVuY3Rpb24gd2lsbCBhZGQgbmV3IGV2ZW50IGludG8gdGhlXG4gICAgICAgICAgICAgICAgfCBkYXRhYmFzZS5cbiAgICAgICAgICAgICAgICB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgYWRTaXRlLmV2ZW50ID0ge1xuICAgICAgICAgICAgICAgICAgICBldmVudFRpdGxlOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnREZXRhaWxzOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRTdGFydHM6ICcnLFxuICAgICAgICAgICAgICAgICAgICBldmVudEVuZHM6ICcnLFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBhZFNpdGUuYWRkRXZlbnQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBzaXRlY29udHJvbGxlclxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZEV2ZW50KGFkU2l0ZS5ldmVudClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuZXZlbnRBZGRFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5ldmVudEFkZEVycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5ldmVudEFkZEVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5ldmVudEFkZFN1Y2Nlc3MgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNldCB0aW1lIG91dCBhbmQgY2FsbCBzaG93IGNvbW1pdHRlZSBtZXRob2QuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLnNob3dFdmVudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAyMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuZXZlbnRBZGRFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmV2ZW50QWRkRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgYWRTaXRlLnNob3dFdmVudCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2l0ZWNvbnRyb2xsZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zaG93RXZlbnQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5zaG93RXZlbnRFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5zaG93RXZlbnRFcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuc2hvd0V2ZW50RXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmV2ZW50cyA9IHJlc3BvbnNlLmRhdGEuZXZlbnRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuc2hvd0V2ZW50RXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5zaG93RXZlbnRFcnJvck1zZyA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBhZFNpdGUucmVtb3ZlRXZlbnQgPSAoZXZlbnRJZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzaXRlY29udHJvbGxlclxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUV2ZW50KGV2ZW50SWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLnNob3dFdmVudEVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLnNob3dFdmVudEVycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLnNob3dFdmVudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy93ZWxjb21lJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL3NpZ25pbicpO1xuICAgICAgICB9XG4gICAgfVxuXG59KSgpOyIsIi8qXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBzZXR0aW5nIHVwIHNpdGUgb3B0IGZpbGUgZm9yIGpxdWVyeSBhbmQganNcbnwgZ2VuZXJhbCBvcGVyYXRpb25cbnwgQGF1dGhvcjogamFoaWQgaGFxdWUgPGphaGlkLmhhcXVlQHlhaG9vLmNvbT5cbnwgQGNvcHlyaWdodDogbmJhLXNscCwgMjAxOFxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbihmdW5jdGlvbiAoKSB7XG5cbiAgICAkKGRvY3VtZW50KS5yZWFkeSgoKSA9PiB7XG4gICAgICAgIFxuICAgICAgICAkKFwiI2NoZWNrVXNlclwiKS5mb2N1cygpO1xuXG4gICAgICAgICQoXCIudXNlci1saXN0LWNvbnRyb2xsIGxpIGFcIikub24oJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICAgICAgXHQvLyAkKHRoaXMpLnRvZ2dsZUNsYXNzKCdhY3RpdmVDb250cm9sbCcpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn0pKCk7XG4iXX0=
