"use strict";!function(){angular.module("nbaslp",["ngResource","ngRoute","720kb.datepicker"]).config(["$routeProvider","$locationProvider",function(l,e){l.when("/",{templateUrl:"home/welcome/welcome.view.html",controller:"welcomeCtrl",controllerAs:"wvm"}).when("/councilmembers",{templateUrl:"councilmembers/councilmembers.view.html",controller:"councilCtrl",controllerAs:"clvm"}).when("/signup",{templateUrl:"signup/signup.view.html",controller:"signupCtrl",controllerAs:"regvm"}).when("/signin",{templateUrl:"signin/signin.view.html",controller:"signinCtrl",controllerAs:"lvm"}).when("/profile",{templateUrl:"profile/profile.view.html",controller:"profileCtrl",controllerAs:"provm"}).when("/help",{templateUrl:"help/help.view.html",controller:"helpCtrl",controllerAs:"hvm"}).when("/sitecontroll",{templateUrl:"admin/sitecontroll/sitecontroll.view.html",controller:"sitecontrollCtrl",controllerAs:"adSite"}).when("/usercontroll",{templateUrl:"admin/usercontroll/usercontroll.view.html",controller:"usercontrollCtrl",controllerAs:"uservm"}).when("/staffcontroll",{templateUrl:"admin/staffcontroll/staffcontroll.view.html",controller:"staffCtrl",controllerAs:"svm"}).when("/welcome",{templateUrl:"welcome/welcome.view.html",controller:"welcomeCtrl",controllerAs:"wvm"}).when("/committees",{templateUrl:"committees/committees.view.html",controller:"committeesCtrl",controllerAs:"cvm"}).when("/events",{templateUrl:"events/events.view.html",controller:"eventsCtrl",controllerAs:"evm"}).when("/aboutus",{templateUrl:"aboutus/aboutus.view.html",controller:"aboutusCtrl",controllerAs:"abvm"}).when("/contactus",{templateUrl:"contactus/contactus.view.html",controller:"contactusCtrl",controllerAs:"cvm"}),e.html5Mode({enabled:!0})}])}();
"use strict";function authentication(n,t){var e=function(t){n.localStorage.nbaslp=t},c=function(){return n.localStorage.nbaslp},a=function(){var t=c(),e=void 0;return!!t&&(e=t.split(".")[1],e=n.atob(e),e=JSON.parse(e))},u=function(n){return n},o=function(n){return n};return{currentUser:function(){if(a){var t=c().split(".")[1];return t=n.atob(t),{userId:(t=JSON.parse(t))._id,email:t.email,accountStatus:t.accountStatus,accountType:t.accountType,accountId:t.userId,name:t.name}}return!1},saveToken:e,getToken:c,isLoggedIn:a,signUp:function(n){return t.post("/api/signup",n).success(function(n){e(n.token)})},signIn:function(n){return t.post("/api/signin",n).success(function(n){e(n.token)})},checkUser:function(n){return t.post("/api/checkuser",n).then(u).catch(o)},countUser:function(n){return t.get("/api/"+n+"/count").then(u).catch(o)},verifyKey:function(n,e){return t.get("/api/"+n+"/"+e+"/verify").then(u).catch(o)},changePassword:function(n){return t.post("/api/changepassword",n).then(u).catch(o)},Logout:function(){n.localStorage.removeItem("nbaslp")}}}angular.module("nbaslp").service("authentication",authentication),authentication.$inject=["$window","$http"];
"use strict";!function(){function t(t,n){var e=function(t){return t},a=function(t){return t};return{resetPassword:function(t,c){return n.post("/api/"+t+"/resetpassword",c).then(e).catch(a)},uploadTellerDocs:function(t,c){return n.post("/api/"+t+"/bankteller",c).then(e).catch(a)},createActivationCode:function(t){return n.post("/api/"+t+"/generatevalidationcode").then(e).catch(a)},validateActivationCode:function(t,c){return n.post("/api/"+t+"/"+c+"/validate").then(e).catch(a)},getAccountStatuses:function(t){return n.get("/api/"+t+"/statuses").then(e).catch(a)},updateUserStatus:function(t){return n.post("/api/userstatus",t).then(e).catch(a)},saveBasicInfo:function(t){return n.post("/api/createbasicprofile",t).then(e).catch(a)},editBasicInfo:function(t,c){return n.put("/api/"+t+"/editbasicinfo",c).then(e).catch(a)},saveBranchInfo:function(t,c){return n.post("/api/"+t+"/savebranchinfo",c).then(e).catch(a)},editBranchInfo:function(t,c){return n.put("/api/"+t+"/branch",c).then(e).catch(a)},loadUserInfo:function(t,c){return n.get("/api/"+c+"/"+t+"/userinfo").then(e).catch(a)},getCommittee:function(){return n.get("/api/showcommittee").then(e).catch(a)},saveBankTeller:function(t){return n.post("/api/savebankteller",t).then(e).catch(a)},getBankTeller:function(t){return n.get("/api/"+t+"/bankteller").then(e).catch(a)}}}angular.module("nbaslp").service("account",t),t.$inject=["$window","$http"]}();
"use strict";!function(){function t(t){var e=function(t){return t},n=function(t){return t};return{addPreferredCommittee:function(c){return t.post("/api/createcommittee",c).then(e).catch(n)},showAllCommittee:function(){return t.get("/api/showcommittee").then(e).catch(n)},removeCommittee:function(c){return t.delete("/api/"+c+"/removecommittee").then(e).catch(n)},addCouncil:function(c){return t.post("/api/councilmember",c).then(e).catch(n)},showCouncilMember:function(){return t.get("/api/showcouncil").then(e).catch(n)},removeCouncil:function(c){return t.delete("/api/"+c+"/council").then(e).catch(n)},addEvent:function(c){return t.post("/api/event",c).then(e).catch(n)},showEvent:function(){return t.get("/api/showEvent").then(e).catch(n)},removeEvent:function(c){return t.delete("/api/"+c+"/event").then(e).catch(n)}}}angular.module("nbaslp").service("sitecontroller",t),t.$inject=["$http"]}();
"use strict";!function(){function e(e){var n=function(e){return e},t=function(e){return e};return{showMembers:function(){return e.get("/api/members").then(n).catch(t)},showSingleMember:function(r){return e.get("/api/"+r+"/member").then(n).catch(t)},showMemberProfile:function(r){return e.get("/api/"+r+"/profile").then(n).catch(t)},showMemberBranch:function(r){return e.get("/api/"+r+"/branch").then(n).catch(t)}}}angular.module("nbaslp").service("usercontroller",e),e.$inject=["$http"]}();
"use strict";!function(){function r(r,e,o){var n=this;r.showMembers().then(function(r){r.data.error?(n.showMemberError=!0,n.showMemberErrorMsg=r.data.error):n.members=r.data.members}).catch(function(r){n.showMemberError=!0,n.showMemberErrorMsg=r}),n.checkRoutes=function(){o.v?n.clickedMemberName=!0:n.clickedMemberName=!1},n.loadUserInfo=function(){var e=o.v;r.showSingleMember(e).then(function(r){r.data.error?(n.singleMemberLoadingError=!0,n.singleMemberLoadingErrorMsg=r.data.error):(n.singleMemberLoadingError=!1,n.singleMember=r.data.member)}).catch(function(r){n.singleMemberLoadingError=!0,n.singleMemberLoadingErrorMsg=r})},n.loadUserProfile=function(){var e=o.v;r.showMemberProfile(e).then(function(r){r.data.error?(n.profileLoadingError=!0,n.profileLoadingErrorMsg=r.data.error):(n.profileLoadingError=!1,n.memberProfile=r.data.profile)}).catch(function(r){n.profileLoadingError=!0,n.profileLoadingErrorMsg=r})},n.loadUserBranch=function(){var e=o.v;r.showMemberBranch(e).then(function(r){r.data.error?(n.branchLoadingError=!0,n.branchLoadingErrorMsg=r.data.error):(n.branchLoadingError=!1,n.memberBranch=r.data.branch)}).catch(function(r){n.branchLoadingError=!0,n.branchLoadingErrorMsg=r})},n.loadBankTeller=function(){var r=o.v;e.getBankTeller(r).then(function(r){r.data.error?(n.bankTellerLoadingError=!0,n.bankTellerLoadingErrorMsg=r.data.error):(n.bankTellerLoadingError=!1,n.memberbankTeller=r.data.bankTeller)}).catch(function(r){n.bankTellerLoadingError=!0,n.bankTellerLoadingErrorMsg=r})}}angular.module("nbaslp").controller("usercontrollCtrl",r),r.$inject=["usercontroller","account","$routeParams"]}();
"use strict";!function(){function n(n,t){n.isLoggedIn()?"admin"===n.currentUser().accountType||t.path("/welcome"):t.path("/signin")}angular.module("nbaslp").controller("staffCtrl",n),n.$inject=["authentication","$location"]}();
"use strict";!function(){function n(n){var t=function(n){return n},e=function(n){return n};return{sendContactMessage:function(r){return n.post("/api/sendmessage",r).then(t).catch(e)}}}angular.module("nbaslp").service("systemService",n),n.$inject=["$http"]}();
"use strict";!function(){angular.module("nbaslp").directive("siteNav",function(){return{restrict:"EA",templateUrl:"common/directives/nav/site-nav.template.html",controller:"navCtrl as nvm"}})}();
"use strict";!function(){function n(n,t){var o=this;n.isLoggedIn()?(o.loggedInUri=!0,o.loggedInName=n.currentUser().name,o.currentAccountType=n.currentUser().accountType):o.loggedInUri=!1,o.logout=function(){n.Logout(),t.path("/signin")}}angular.module("nbaslp").controller("navCtrl",n),n.$inject=["authentication","$location"]}();
"use strict";!function(){angular.module("nbaslp").directive("siteFooter",function(){return{restrict:"EA",templateUrl:"common/directives/footer/footer.template.html"}})}();
"use strict";!function(){function n(n){return{restrict:"A",link:function(i,e,t){var c=n(t.fileModel).assign;e.on("change",function(){i.$apply(function(){c(i,e[0].files[0])})})}}}angular.module("nbaslp").directive("fileModel",n),n.$inject=["$parse"]}();
"use strict";!function(){angular.module("nbaslp").directive("sideBar",function(){return{restrict:"EA",templateUrl:"common/directives/sidebar/sidebar.template.html"}})}();
"use strict";!function(){angular.module("nbaslp").controller("welcomeCtrl",function(){})}();
"use strict";!function(){function t(t){var o=this;o.loadCommittee=function(){t.showAllCommittee().then(function(t){t.data.error?(o.committeeLoadingError=!0,o.committeeLoadingErrorMsg=t.data.error):(o.committeeLoadingError=!1,o.committees=t.data.committee)}).catch(function(t){o.committeeLoadingError=!0,o.committeeLoadingErrorMsg=t})}}angular.module("nbaslp").controller("committeesCtrl",t),t.$inject=["sitecontroller"]}();
"use strict";!function(){function o(o){var r=this;r.loadCouncilMembers=function(){o.showCouncilMember().then(function(o){console.log(o),o.data.error?(r.committeeLoadingError=!0,r.committeeLoadingErrorMsg=o.data.error):(r.committeeLoadingError=!1,r.councils=o.data.data)}).catch(function(o){r.committeeLoadingError=!0,r.committeeLoadingErrorMsg=o})}}angular.module("nbaslp").controller("councilCtrl",o),o.$inject=["sitecontroller"]}();
"use strict";!function(){function e(e){var n=this;n.showEvents=function(){e.showEvent().then(function(e){e.data.error?(n.eventLoadError=!0,n.eventLoadErrorMsg=e.data.error):(n.eventLoadError=!1,n.events=e.data.events,n.events.length>0?n.noEvent=!1:n.noEvent=!0)}).catch(function(e){n.eventLoadError=!0,n.eventLoadErrorMsg=e})}}angular.module("nbaslp").controller("eventsCtrl",e),e.$inject=["sitecontroller"]}();
"use strict";!function(){angular.module("nbaslp").controller("aboutusCtrl",function(){})}();
"use strict";!function(){function e(e){var s=this;s.contact={name:"",email:"",message:""},s.contactUs=function(){e.sendContactMessage(s.contact).then(function(e){e.data.error?(s.sendMessageError=!0,s.sendMessageErrorMsg=e.data.error):(s.sendMessageSuccess=!0,s.sendMessageSuccessMsg="We have received your message. We will be in touch with you soon")}).catch(function(e){s.sendMessageError=!0,s.sendMessageErrorMsg=e})}}angular.module("nbaslp").controller("contactusCtrl",e),e.$inject=["systemService"]}();
"use strict";!function(){function r(r,t){var o=this;o.user={firstName:"",lastName:"",displayName:"",email:"",password:"",confirmPassword:""},o.register=function(){r.signUp(o.user).then(function(r){r.data.error?(o.RegistrationError=!0,o.RegistrationErrorMsg=r.data.error):(o.RegistrationError=!1,t.path("/welcome"))}).catch(function(r){r&&(o.RegistrationError=!0,o.RegistrationErrorMsg=r.data.error)})},r.isLoggedIn()&&t.path("/welcome")}angular.module("nbaslp").controller("signupCtrl",r),r.$inject=["authentication","$location"]}();
"use strict";!function(){function r(r,o){var n=this;n.user={email:"",password:""},r.isLoggedIn()?o.path("/welcome"):(n.login=function(){n.user.email&&n.user.password?(n.loginError=!1,n.doLogin()):(n.loginError=!0,n.loginErrorMsg="Error! all * fields are required")},n.doLogin=function(){r.signIn(n.user).error(function(r){n.loginError=!0,n.loginErrorMsg=r.error}).then(function(){o.path("/welcome")})})}angular.module("nbaslp").controller("signinCtrl",r),r.$inject=["authentication","$location"]}();
"use strict";!function(){function r(r,a,o,e,t){var n=this;n.resetpassword={password:"",repeat_password:"",new_password:""},n.resetPassword=function(){e.resetPassword(a.currentUser().email,n.resetpassword).then(function(r){r.data.error?(n.resetPasswordError=!0,n.resetPasswordErrorMsg=r.data.error):(n.resetPasswordError=!1,n.resetSuccess=!0,setTimeout(function(){a.Logout(),t.reload()},200))}).catch(function(r){n.resetPasswordError=!0,n.resetPasswordErrorMsg=r})},a.isLoggedIn()?(n.currentAccountType=a.currentUser().accountType,"customer"===a.currentUser().accountType?(n.profileStatus=a.currentUser().accountStatus,n.codeReady=!1,n.basicProfileEditOn=!1,n.branchInfoEditOn=!1,n.sendActivationCode=function(){n.codeReady=!0,e.createActivationCode(a.currentUser().email).then(function(r){if(r.data.error)n.activationCodeError=!0,n.activationCodeErrorMsg=r.data.error;else{var o={update_at:"profileActivationMail",email:a.currentUser().email,status:!0};c=o,e.updateUserStatus(c).then(function(r){!0===r.data.updated?(n.statusUpdateError=!1,t.reload()):(n.basicAccountInfoError=!0,n.basicAccountInfoErrorMsg=r.data.error)}).catch(function(r){n.statusUpdateError=!0,n.basicAccountInfoErrorMsg=r}),n.codeReady=!1,n.activationCodeError=!1}var c}).catch(function(r){n.activationCodeError=!0,n.activationCodeErrorMsg=r})},n.getProfileStatuses=function(){e.getAccountStatuses(a.currentUser().email).then(function(r){r.data.error?(n.statusLoadError=!0,n.statusLoadErrorMsg=r.data.error):(n.statusLoadError=!1,n.userStatuses=r.data.statuses)}).catch(function(r){n.statusLoadError=!0,n.statusLoadErrorMsg=r})},n.basicProfile={whos:a.currentUser().email,userId:a.currentUser().userId,formerName:"",sex:"",tele:"",address:""},n.saveBasicInfo=function(){e.saveBasicInfo(n.basicProfile).then(function(r){if(r.data.error)n.basicAccountInfoError=!0,n.basicAccountInfoErrorMsg=r.data.error;else{var o={update_at:"basic_info",email:a.currentUser().email,status:!0};e.updateUserStatus(o).then(function(r){!0===r.data.updated?(n.statusUpdateError=!1,t.reload()):(n.basicAccountInfoError=!0,n.basicAccountInfoErrorMsg=r.data.error)}).catch(function(r){n.statusUpdateError=!0,n.basicAccountInfoErrorMsg=r})}}).catch(function(r){})},n.branch={year:"",branch:""},n.saveBatchInfo=function(){e.saveBranchInfo(a.currentUser().email,n.branch).then(function(r){if(r.data.error)n.branchInfoError=!0,n.branchInfoErrorMsg=r.data.error;else if(r.data.success){n.branchInfoError=!1;var o={update_at:"branch",email:a.currentUser().email,status:!0};e.updateUserStatus(o).then(function(r){!0===r.data.updated?(n.branchInfoError=!1,t.reload()):(n.branchInfoError=!0,n.branchInfoErrorMsg=r.data.error)}).catch(function(r){n.branchInfoError=!0,n.branchInfoErrorMsg=r})}}).catch(function(r){n.branchInfoError=!0,n.branchInfoErrorMsg=r})},n.loadBasicInfo=function(r){e.loadUserInfo(r,a.currentUser().email).then(function(r){r.data.error?(n.userBasicInfoLoadingError=!0,n.userBasicInfoLoadingErrorMsg=r.data.error):(n.userBasicInfoLoadingError=!1,n.basicInfo=r.data.userInfo)}).catch(function(r){n.userBasicInfoLoadingError=!0,n.userBasicInfoLoadingErrorMsg=r})},n.editBasicInfo=function(r){n.basicProfileEditOn=!0,n.editBasic={name:n.basicInfo.formerName,sex:n.basicInfo.sex,address:n.basicInfo.address,tele:n.basicInfo.telephone},n.SaveEditBasicInfo=function(){e.editBasicInfo(r,n.editBasic).then(function(r){r.data.error?(n.editBasicInfoError=!0,n.editBasicInfoErrorMsg=r.data.error):(n.editBasicInfoError=!1,t.reload())}).catch(function(r){n.editBasicInfoError=!0,n.editBasicInfoErrorMsg=r})}},n.cancleBasicEdit=function(){n.basicProfileEditOn=!1},n.getCommittee=function(){e.getCommittee().then(function(r){n.committees=r.data.committee}).catch(function(r){console.log(r)})},n.loadUserBranch=function(r){e.loadUserInfo(r,a.currentUser().email).then(function(r){r.data.error?(n.userInfoLoadingError=!0,n.userInfoLoadingErrorMsg=r.data.error):(n.userInfoLoadingError=!1,n.branchInfo=r.data.userInfo)}).catch(function(r){n.userInfoLoadingError=!0,n.userInfoLoadingErrorMsg=r})},n.editBranchInfo=function(r){n.branchInfoEditOn=!0,n.editBranch={baryear:n.branchInfo.barYear,branch:n.branchInfo.nbaBranch},n.saveEditBranchInfo=function(){e.editBranchInfo(r,n.editBranch).then(function(r){r.data.error?(n.editBranchInfoError=!0,n.editBranchInfoErrorMsg=r.data.error):(n.editBranchInfoError=!1,t.reload())}).catch(function(r){n.editBranchInfoError=!0,n.editBranchInfoErrorMsg=r})}},n.cancelEditBranchInfo=function(){n.branchInfoEditOn=!1},n.activation={code:""},n.activeProfile=function(){e.validateActivationCode(a.currentUser().email,n.activation.code).then(function(r){r.data.error?(n.ActivationError=!0,n.ActivationErrorMsg=r.data.error):r.data.success&&(n.activationSuccess=!0,setTimeout(function(){a.Logout(),t.reload()},3e3))}).catch(function(r){n.ActivationError=!0,n.ActivationErrorMsg=r})},n.bankTellerInfo={preferredCommittee:"",additional_committee:"",bank:"",branch:"",depositor:"",depositor_tel:"",tellerno:"",amount:"",datedeposit:"",userId:a.currentUser().accountId},n.saveBankTellerInfo=function(){e.uploadTellerDocs(a.currentUser().email,n.bankTellerInfo).then(function(r){if(r.data.error)n.saveTellerError=!0,n.saveTellerErrorMsg=r.data.error;else{n.saveTellerError=!1;var o={update_at:"bankteller",email:a.currentUser().email,status:!0};e.updateUserStatus(o).then(function(r){!0===r.data.updated?(n.branchInfoError=!1,t.reload()):(n.branchInfoError=!0,n.branchInfoErrorMsg=r.data.error)}).catch(function(r){n.branchInfoError=!0,n.branchInfoErrorMsg=r})}}).catch(function(r){n.saveTellerError=!0,n.saveTellerErrorMsg=r})},n.getCurrentBankTeller=function(){e.getBankTeller(a.currentUser().email).then(function(r){console.log("teller",r),r.data.error?(n.bankTellerLoadingError=!0,n.bankTellerLoadingErrorMsg=r.data.error):(n.bankTellerLoadingError=!1,n.userBankTeller=r.data.bankTeller)}).catch(function(r){n.bankTellerLoadingError=!0,n.bankTellerLoadingErrorMsg=r})}):a.currentUser().accountType):o.path("/signin")}angular.module("nbaslp").controller("profileCtrl",r),r.$inject=["$scope","authentication","$location","account","$route"]}();
"use strict";!function(){function n(n,t){}angular.module("nbaslp").controller("welcomeCtrl",n),n.$inject=["authentication","$location"]}();
"use strict";!function(){function r(r,e){var s=this;s.checkUserForm=!0,s.PasswordresetForm=!1,s.verifyAjaxLoader=!1,s.showPassResetForm=!1,s.checkingRoute=function(){e.current.params&&"forgot_password"===e.current.params.v?(s.PasswordresetForm=!1,s.user={email:""},s.checkUser=function(){r.checkUser(s.user).then(function(r){r.data.error?(s.userCheckingError=!0,s.userCheckingErrorMsg=r.data.error):r.data.security?(s.userCheckingError=!0,s.userCheckingErrorMsg="If you have account with us, we have sent you password reset link"):s.userCheckingError=!1}).catch(function(r){s.userCheckingError=!0,s.userCheckingErrorMsg=r})}):e.current.params&&e.current.params.r&&e.current.params.u&&(s.PasswordresetForm=!0,s.checkUserForm=!1,s.verifyAjaxLoader=!0,s.varifyUserDetails(),s.changePasswordInfo={key:e.current.params.r,user:e.current.params.u,newpassword:"",repeatpassword:""},s.changePassword=function(){r.changePassword(s.changePasswordInfo).then(function(r){console.log(r),r.data.error?(s.changePassError=!0,s.changePassErrorMsg=r.data.error):s.changePassError=!1}).catch(function(r){s.changePassError=!0,s.changePassErrorMsg=r})})},s.varifyUserDetails=function(){r.countUser(e.current.params.u).then(function(a){a.data.error?(s.userVerificationUserError=!0,s.userVerificationUserErrorMsg=a.data.error,s.verifyAjaxLoader=!1):r.verifyKey(e.current.params.u,e.current.params.r).then(function(r){r.data.error?(s.userVerificationUserError=!0,s.userVerificationUserErrorMsg=r.data.error):(s.userVerificationUserError=!1,s.showPassResetForm=!0,s.verifyAjaxLoader=!1)}).catch(function(r){s.userVerificationUserError=!0,s.userVerificationUserErrorMsg=r})}).catch(function(r){s.userVerificationUserError=!0,s.userVerificationUserErrorMsg=r,s.verifyAjaxLoader=!1})}}angular.module("nbaslp").controller("helpCtrl",r),r.$inject=["authentication","$route"]}();
"use strict";!function(){function t(t,o,e){var r=this;t.isLoggedIn()?"admin"===t.currentUser().accountType?(r.committee={name:""},r.addPreferredCommittee=function(){e.addPreferredCommittee(r.committee).then(function(t){t.data.error?(r.addCommitteeError=!0,r.addCommitteeErrorMsg=t.data.error):(r.addCommitteeError=!1,r.addCommitteeSuccessMsg="Committee successfully added",setTimeout(function(){r.showCommittee()},200))}).catch(function(t){r.addCommitteeError=!0,r.addCommitteeErrorMsg=t})},r.showCommittee=function(){e.showAllCommittee().then(function(t){t.data.error?(r.committeeError=!0,r.committeeErrorMsg=t.data.error):(r.committeeError=!1,r.committeeList=t.data.committee)}).catch(function(t){r.committeeError=!0,r.committeeErrorMsg=t})},r.removeList=function(t){e.removeCommittee(t).then(function(t){t.data.error?alert(t.data.error):setTimeout(function(){r.showCommittee()},100)}).catch(function(t){alert(t)})},r.council={name:""},r.addCouncilMember=function(){e.addCouncil(r.council).then(function(t){t.data.error?(r.councilAddError=!0,r.councilAddErrorMsg=t.data.error):(r.councilAddError=!1,setTimeout(function(){r.showCouncil()},100))}).catch(function(t){r.councilAddError=!0,r.councilAddErrorMsg=t})},r.showCouncil=function(){e.showCouncilMember().then(function(t){t.data.error?(r.councilShowError=!0,r.councilShowErrorMsg=t.data.error):(r.councilShowError=!1,r.councils=t.data.data)}).catch(function(t){r.councilShowError=!0,r.councilShowErrorMsg=t})},r.removeCouncil=function(t){e.removeCouncil(t).then(function(t){setTimeout(function(){r.showCouncil()},100)}).catch(function(t){alert(t)})},r.event={eventTitle:"",eventDetails:"",eventStarts:"",eventEnds:""},r.addEvent=function(){e.addEvent(r.event).then(function(t){t.data.error?(r.eventAddError=!0,r.eventAddErrorMsg=t.data.error):t.data.success&&(r.eventAddError=!1,r.eventAddSuccess=!0,setTimeout(function(){r.showEvent()},200))}).catch(function(t){r.eventAddError=!0,r.eventAddErrorMsg=t})},r.showEvent=function(){e.showEvent().then(function(t){t.data.error?(r.showEventError=!0,r.showEventErrorMsg=t.data.error):t.data.success&&(r.showEventError=!1,r.events=t.data.events)}).catch(function(t){r.showEventError=!0,r.showEventErrorMsg=t})},r.removeEvent=function(t){e.removeEvent(t).then(function(t){t.data.error?(r.showEventError=!0,r.showEventErrorMsg=t.data.error):t.data.success&&setTimeout(function(){r.showEvent()},100)}).catch(function(t){console.log(t)})}):o.path("/welcome"):o.path("/signin")}angular.module("nbaslp").controller("sitecontrollCtrl",t),t.$inject=["authentication","$location","sitecontroller"]}();
"use strict";$(document).ready(function(){$("#checkUser").focus()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImF1dGhlbnRpY2F0aW9uLnNlcnZpY2UuanMiLCJhY2NvdW50LnNlcnZpY2UuanMiLCJzaXRlLWNvbnRyb2xsZXIuc2VydmljZS5qcyIsInVzZXItY29udHJvbGxlci5zZXJ2aWNlLmpzIiwidXNlcmNvbnRyb2xsLmNvbnRyb2xsZXIuanMiLCJzdGFmZmNvbnRyb2xsZXIuY29udHJvbGxlci5qcyIsInN5c3RlbS5zZXJ2aWNlLmpzIiwibmF2LmRpcmVjdGl2ZS5qcyIsIm5hdi5jb250cm9sbGVyLmpzIiwiZm9vdGVyLmRpcmVjdGl2ZS5qcyIsImZpbGVNb2RlbC5kaXJlY3RpdmUuanMiLCJzaWRlYmFyLmRpcmVjdGl2ZS5qcyIsIndlbGNvbWUuY29udHJvbGxlci5qcyIsImNvbW1pdHRlZXMuY29udHJvbGxlci5qcyIsImNvdW5jaWxtZW1iZXJzLmNvbnRyb2xsZXIuanMiLCJldmVudHMuY29udHJvbGxlci5qcyIsImFib3V0dXMuY29udHJvbGxlci5qcyIsImNvbnRhY3R1cy5jb250cm9sbGVyLmpzIiwic2lnbnVwLmNvbnRyb2xsZXIuanMiLCJzaWduaW4uY29udHJvbGxlci5qcyIsInByb2ZpbGUuY29udHJvbGxlci5qcyIsImhlbHAuY29udHJvbGxlci5qcyIsInNpdGVjb250cm9sbC5jb250cm9sbGVyLmpzIiwic2l0ZS1vcHIuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImNvbmZpZyIsInRlbXBsYXRlVXJsIiwiJGxvY2F0aW9uUHJvdmlkZXIiLCJjb250cm9sbGVyIiwiY29udHJvbGxlckFzIiwid2hlbiIsImVuYWJsZWQiLCJodG1sNU1vZGUiLCJzYXZlVG9rZW4iLCIkd2luZG93IiwidG9rZW4iLCJsb2NhbFN0b3JhZ2UiLCJnZXRUb2tlbiIsImlzTG9nZ2VkSW4iLCJwYXlsb2FkIiwiSlNPTiIsInBhcnNlIiwiYXRvYiIsImNvdW50VXNlciIsInJlc3BvbnNlIiwiY2hhbmdlUGFzc3dvcmQiLCJjdXJyZW50VXNlciIsInNwbGl0IiwiYWNjb3VudFN0YXR1cyIsImFjY291bnRUeXBlIiwidXNlcklkIiwiX2lkIiwiYWNjb3VudElkIiwibmFtZSIsIkxvZ291dCIsInNpZ25VcCIsInVzZXIiLCIkaHR0cCIsInBvc3QiLCJzdWNjZXNzIiwiZGF0YSIsInNpZ25JbiIsImNoZWNrVXNlciIsInRoZW4iLCJoYW5kbGVTdWNjZXNzIiwidmVyaWZ5S2V5IiwiZ2V0IiwiY2F0Y2giLCJoYW5kbGVFcnJvciIsImtleSIsInJlbW92ZUl0ZW0iLCJhdXRoZW50aWNhdGlvbiIsInJlc2V0UGFzc3dvcmQiLCJyZXNldERhdGEiLCJjcmVhdGVBY3RpdmF0aW9uQ29kZSIsInVwbG9hZFRlbGxlckRvY3MiLCJ2YWxpZGF0ZUFjdGl2YXRpb25Db2RlIiwiZ2V0QWNjb3VudFN0YXR1c2VzIiwidXBkYXRlVXNlclN0YXR1cyIsImdldENvbW1pdHRlZSIsImNvZGUiLCJzYXZlQmFzaWNJbmZvIiwiZ2V0QmFua1RlbGxlciIsImVkaXRCYXNpY0luZm8iLCJwdXQiLCJzYXZlQnJhbmNoSW5mbyIsImxvYWRVc2VySW5mbyIsImVkaXRCcmFuY2hJbmZvIiwiY29sbGVjdGlvbk5hbWUiLCJzYXZlQmFua1RlbGxlciIsInRlbGxlciIsImFjY291bnQiLCIkaW5qZWN0IiwiYWRkUHJlZmVycmVkQ29tbWl0dGVlIiwic2hvd0FsbENvbW1pdHRlZSIsImFkZENvdW5jaWwiLCJyZW1vdmVDb21taXR0ZWUiLCJjb21taXR0ZWVJZCIsImRlbGV0ZSIsInJlbW92ZUNvdW5jaWwiLCJhZGRFdmVudCIsImV2ZW50Iiwic2hvd0NvdW5jaWxNZW1iZXIiLCJyZW1vdmVFdmVudCIsImNvdW5jaWxJZCIsInNob3dFdmVudCIsImV2ZW50SWQiLCJzaXRlY29udHJvbGxlciIsInNob3dNZW1iZXJzIiwic2hvd1NpbmdsZU1lbWJlciIsIm1lbWJlcklkIiwic2hvd01lbWJlckJyYW5jaCIsInNob3dNZW1iZXJQcm9maWxlIiwidXNlcmNvbnRyb2xsZXIiLCJ1c2Vydm0iLCIkcm91dGVQYXJhbXMiLCJtZW1iZXJzIiwic2hvd01lbWJlckVycm9yIiwic2hvd01lbWJlckVycm9yTXNnIiwiZXJyb3IiLCJjaGVja1JvdXRlcyIsImNsaWNrZWRNZW1iZXJOYW1lIiwiZXJyIiwidiIsInNpbmdsZU1lbWJlciIsIm1lbWVicklkIiwic2luZ2xlTWVtYmVyTG9hZGluZ0Vycm9yTXNnIiwic2luZ2xlTWVtYmVyTG9hZGluZ0Vycm9yIiwibG9hZFVzZXJQcm9maWxlIiwibWVtYmVyIiwicHJvZmlsZUxvYWRpbmdFcnJvciIsIm1lbWJlclByb2ZpbGUiLCJwcm9maWxlIiwicHJvZmlsZUxvYWRpbmdFcnJvck1zZyIsImxvYWRVc2VyQnJhbmNoIiwiYnJhbmNoTG9hZGluZ0Vycm9yIiwiYnJhbmNoTG9hZGluZ0Vycm9yTXNnIiwibG9hZEJhbmtUZWxsZXIiLCJiYW5rVGVsbGVyTG9hZGluZ0Vycm9yTXNnIiwiYmFua1RlbGxlckxvYWRpbmdFcnJvciIsImJyYW5jaCIsIm1lbWJlcmJhbmtUZWxsZXIiLCJiYW5rVGVsbGVyIiwidXNlcmNvbnRyb2xsQ3RybCIsInN0YWZmQ3RybCIsIiRsb2NhdGlvbiIsInBhdGgiLCJzZW5kQ29udGFjdE1lc3NhZ2UiLCJtZXNzYWdlIiwic3lzdGVtU2VydmljZSIsImRpcmVjdGl2ZSIsInNpdGVOYXYiLCJyZXN0cmljdCIsIm5hdkN0cmwiLCJudm0iLCJsb2dnZWRJbk5hbWUiLCJjdXJyZW50QWNjb3VudFR5cGUiLCJsb2dnZWRJblVyaSIsImxvZ291dCIsInNpdGVGb290ZXIiLCJmaWxlTW9kZWwiLCJsaW5rIiwic2NvcGUiLCIkZWxlbWVudCIsInBhcnNlZEZpbGVTZXR0ZXIiLCIkcGFyc2UiLCJhdHRycyIsImFzc2lnbiIsIm9uIiwiJGFwcGx5IiwiZmlsZXMiLCJzaWRlQmFyIiwiY29tbWl0dGVlc0N0cmwiLCJjdm0iLCJsb2FkQ29tbWl0dGVlIiwiY29tbWl0dGVlTG9hZGluZ0Vycm9yIiwiY29tbWl0dGVlcyIsImNvbW1pdHRlZSIsImNvbW1pdHRlZUxvYWRpbmdFcnJvck1zZyIsImNvdW5jaWxDdHJsIiwiY2x2bSIsImxvYWRDb3VuY2lsTWVtYmVycyIsImNvbnNvbGUiLCJsb2ciLCJjb3VuY2lscyIsImV2bSIsInNob3dFdmVudHMiLCJldmVudExvYWRFcnJvciIsImV2ZW50cyIsImV2ZW50TG9hZEVycm9yTXNnIiwibm9FdmVudCIsImxlbmd0aCIsImV2ZW50c0N0cmwiLCJhYm91dHVzQ3RybCIsImNvbnRhY3R1c0N0cmwiLCJjb250YWN0IiwidGhpcyIsImVtYWlsIiwiY29udGFjdFVzIiwic2VuZE1lc3NhZ2VFcnJvck1zZyIsInNlbmRNZXNzYWdlU3VjY2VzcyIsInNlbmRNZXNzYWdlU3VjY2Vzc01zZyIsInNlbmRNZXNzYWdlRXJyb3IiLCJzaWdudXBDdHJsIiwicmVndm0iLCJsYXN0TmFtZSIsImRpc3BsYXlOYW1lIiwicGFzc3dvcmQiLCJjb25maXJtUGFzc3dvcmQiLCJyZWdpc3RlciIsIlJlZ2lzdHJhdGlvbkVycm9yTXNnIiwiUmVnaXN0cmF0aW9uRXJyb3IiLCJzaWduaW5DdHJsIiwibHZtIiwibG9naW5FcnJvck1zZyIsImxvZ2luRXJyb3IiLCJkb0xvZ2luIiwicHJvdm0iLCIkc2NvcGUiLCIkcm91dGUiLCJyZXNldHBhc3N3b3JkIiwicmVwZWF0X3Bhc3N3b3JkIiwibmV3X3Bhc3N3b3JkIiwicmVzZXRQYXNzd29yZEVycm9yTXNnIiwicmVzZXRQYXNzd29yZEVycm9yIiwicmVzZXRTdWNjZXNzIiwic2V0VGltZW91dCIsInN0YXR1c1VwZGF0ZXIiLCJjb2RlUmVhZHkiLCJwcm9maWxlU3RhdHVzIiwiYWN0aXZhdGlvbkNvZGVFcnJvck1zZyIsImJhc2ljUHJvZmlsZUVkaXRPbiIsInVwZGF0ZWRTdGF0dXMiLCJ1cGRhdGVfYXQiLCJzdGF0dXMiLCJhY3RpdmF0aW9uQ29kZUVycm9yIiwicmVsb2FkIiwidXBkYXRlT2JqZWN0Iiwic3RhdHVzVXBkYXRlRXJyb3IiLCJiYXNpY0FjY291bnRJbmZvRXJyb3JNc2ciLCJzdGF0dXNMb2FkRXJyb3JNc2ciLCJnZXRQcm9maWxlU3RhdHVzZXMiLCJiYXNpY1Byb2ZpbGUiLCJ3aG9zIiwic3RhdHVzTG9hZEVycm9yIiwidXNlclN0YXR1c2VzIiwic3RhdHVzZXMiLCJiYXNpY0FjY291bnRJbmZvRXJyb3IiLCJmb3JtZXJOYW1lIiwic2V4IiwiYWRkcmVzcyIsInVwZGF0ZWQiLCJicmFuY2hJbmZvRXJyb3IiLCJicmFuY2hJbmZvRXJyb3JNc2ciLCJ5ZWFyIiwic2F2ZUJhdGNoSW5mbyIsInVzZXJCYXNpY0luZm9Mb2FkaW5nRXJyb3JNc2ciLCJ1c2VyQmFzaWNJbmZvTG9hZGluZ0Vycm9yIiwiYmFzaWNJbmZvIiwiZWRpdEJhc2ljSW5mb0Vycm9yTXNnIiwiZWRpdEJhc2ljSW5mb0Vycm9yIiwiY2FuY2xlQmFzaWNFZGl0IiwidXNlckluZm8iLCJ1c2VySW5mb0xvYWRpbmdFcnJvciIsImJyYW5jaEluZm8iLCJ0ZWxlIiwidGVsZXBob25lIiwidXNlckluZm9Mb2FkaW5nRXJyb3JNc2ciLCJlZGl0QmFzaWMiLCJicmFuY2hJbmZvRWRpdE9uIiwic2F2ZUVkaXRCcmFuY2hJbmZvIiwiZWRpdEJyYW5jaEluZm9FcnJvck1zZyIsImNhbmNlbEVkaXRCcmFuY2hJbmZvIiwiYWN0aXZhdGlvblN1Y2Nlc3MiLCJiYXJ5ZWFyIiwiYmFyWWVhciIsIm5iYUJyYW5jaCIsImVkaXRCcmFuY2giLCJlZGl0QnJhbmNoSW5mb0Vycm9yIiwicHJlZmVycmVkQ29tbWl0dGVlIiwiZGF0ZWRlcG9zaXQiLCJhY3RpdmVQcm9maWxlIiwiYWN0aXZhdGlvbiIsIkFjdGl2YXRpb25FcnJvciIsInNhdmVUZWxsZXJFcnJvciIsIkFjdGl2YXRpb25FcnJvck1zZyIsImRlcG9zaXRvciIsImFtb3VudCIsInNhdmVCYW5rVGVsbGVySW5mbyIsImJhbmtUZWxsZXJJbmZvIiwic2F2ZVRlbGxlckVycm9yTXNnIiwiZ2V0Q3VycmVudEJhbmtUZWxsZXIiLCJ1c2VyQmFua1RlbGxlciIsInByb2ZpbGVDdHJsIiwid2VsY29tZUN0cmwiLCJoZWxwQ3RybCIsImh2bSIsImNoZWNrVXNlckZvcm0iLCJQYXNzd29yZHJlc2V0Rm9ybSIsInZlcmlmeUFqYXhMb2FkZXIiLCJzaG93UGFzc1Jlc2V0Rm9ybSIsImNoZWNraW5nUm91dGUiLCJjdXJyZW50IiwicGFyYW1zIiwidXNlckNoZWNraW5nRXJyb3JNc2ciLCJzZWN1cml0eSIsInVzZXJDaGVja2luZ0Vycm9yIiwiciIsInUiLCJjaGFuZ2VQYXNzd29yZEluZm8iLCJjaGFuZ2VQYXNzRXJyb3IiLCJjaGFuZ2VQYXNzRXJyb3JNc2ciLCJ1c2VyVmVyaWZpY2F0aW9uVXNlckVycm9yIiwidXNlclZlcmlmaWNhdGlvblVzZXJFcnJvck1zZyIsInNpdGVjb250cm9sbEN0cmwiLCJhZFNpdGUiLCJhZGRDb21taXR0ZWVFcnJvciIsImFkZENvbW1pdHRlZVN1Y2Nlc3NNc2ciLCJhZGRDb21taXR0ZWVFcnJvck1zZyIsInNob3dDb21taXR0ZWUiLCJjb21taXR0ZWVMaXN0IiwiY29tbWl0dGVlRXJyb3JNc2ciLCJjb21taXR0ZWVFcnJvciIsInJlbW92ZUxpc3QiLCJjb3VuY2lsIiwiYWxlcnQiLCJjb3VuY2lsQWRkRXJyb3IiLCJhZGRDb3VuY2lsTWVtYmVyIiwic2hvd0NvdW5jaWwiLCJjb3VuY2lsU2hvd0Vycm9yIiwiY291bmNpbFNob3dFcnJvck1zZyIsImV2ZW50VGl0bGUiLCJldmVudERldGFpbHMiLCJldmVudFN0YXJ0cyIsImV2ZW50QWRkRXJyb3IiLCJldmVudEFkZEVycm9yTXNnIiwiZXZlbnRFbmRzIiwic2hvd0V2ZW50RXJyb3IiLCJzaG93RXZlbnRFcnJvck1zZyIsIiQiLCJkb2N1bWVudCIsInJlYWR5IiwiZm9jdXMiXSwibWFwcGluZ3MiOiJBQVFBLGNBRUEsV0FDSUEsUUFDS0MsT0FBTyxVQUFXLGFBQWMsVUFBVyxxQkFHaERDLFFBQVNBLGlCQUFULG9CQUdZQyxTQUFBQSxFQUFhQyxHQUNiQyxFQUNBQyxLQUFBQSxLQUVFSCxZQUFBLGlDQUNGQSxXQUFhLGNB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QUF1RCxHQUNINEQsUUFBUUMsSUFBSTdELE9BTXhCdUIsRUFBVUMsS0FBSyxZQUluQkQsRUFBVUMsS0FBSyxXQTVOdkIzSCxRQUNLQyxPQUFPLFVBR1prUyxXQUFBQSxtQkFBNEJBLEdBRTVCQSxFQUFTQSxTQUFpQm5QLGlCQUFnQjBFLFlBQVd0QyxrQkFSekQ7YUNEQ3dPLEVBQUFDLFVBQVlDLE1BQUEsV0FFUEQsRUFBQUEsY0FBZ0JFIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCBlbnRyeSBwb2ludCBmb3IgYW5ndWxhciBmcm9udC1lbmRcbnwgQGF1dGhvcjogamFoaWQgaGFxdWUgPGphaGlkLmhhcXVlQHlhaG9vLmNvbT5cbnwgQGNvcHlyaWdodDogbmJhLXNscCwgMjAxN1xufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25iYXNscCcsIFsnbmdSZXNvdXJjZScsICduZ1JvdXRlJywgJzcyMGtiLmRhdGVwaWNrZXInXSlcbiAgICAgICAgLmNvbmZpZyhbJyRyb3V0ZVByb3ZpZGVyJywgJyRsb2NhdGlvblByb3ZpZGVyJywgY29uZmlnXSk7XG5cbiAgICBmdW5jdGlvbiBjb25maWcoJHJvdXRlUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyKSB7XG4gICAgICAgICRyb3V0ZVByb3ZpZGVyXG4gICAgICAgICAgICAud2hlbignLycsIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2hvbWUvd2VsY29tZS93ZWxjb21lLnZpZXcuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3dlbGNvbWVDdHJsJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICd3dm0nLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC53aGVuKCcvY291bmNpbG1lbWJlcnMnLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb3VuY2lsbWVtYmVycy9jb3VuY2lsbWVtYmVycy52aWV3Lmh0bWwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdjb3VuY2lsQ3RybCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnY2x2bScsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLndoZW4oJy9zaWdudXAnLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdzaWdudXAvc2lnbnVwLnZpZXcuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3NpZ251cEN0cmwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3JlZ3ZtJyxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAud2hlbignL3NpZ25pbicsIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3NpZ25pbi9zaWduaW4udmlldy5odG1sJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnc2lnbmluQ3RybCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnbHZtJyxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAud2hlbignL3Byb2ZpbGUnLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwcm9maWxlL3Byb2ZpbGUudmlldy5odG1sJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAncHJvZmlsZUN0cmwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3Byb3ZtJyxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAud2hlbignL2hlbHAnLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdoZWxwL2hlbHAudmlldy5odG1sJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnaGVscEN0cmwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2h2bScsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLndoZW4oJy9zaXRlY29udHJvbGwnLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhZG1pbi9zaXRlY29udHJvbGwvc2l0ZWNvbnRyb2xsLnZpZXcuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3NpdGVjb250cm9sbEN0cmwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2FkU2l0ZScsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLndoZW4oJy91c2VyY29udHJvbGwnLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhZG1pbi91c2VyY29udHJvbGwvdXNlcmNvbnRyb2xsLnZpZXcuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3VzZXJjb250cm9sbEN0cmwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3VzZXJ2bScsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLndoZW4oJy9zdGFmZmNvbnRyb2xsJywge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnYWRtaW4vc3RhZmZjb250cm9sbC9zdGFmZmNvbnRyb2xsLnZpZXcuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3N0YWZmQ3RybCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnc3ZtJyxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAud2hlbignL3dlbGNvbWUnLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd3ZWxjb21lL3dlbGNvbWUudmlldy5odG1sJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnd2VsY29tZUN0cmwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3d2bScsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLndoZW4oJy9jb21taXR0ZWVzJywge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tbWl0dGVlcy9jb21taXR0ZWVzLnZpZXcuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2NvbW1pdHRlZXNDdHJsJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdjdm0nLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC53aGVuKCcvZXZlbnRzJywge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnZXZlbnRzL2V2ZW50cy52aWV3Lmh0bWwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdldmVudHNDdHJsJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdldm0nLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC53aGVuKCcvYWJvdXR1cycsIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2Fib3V0dXMvYWJvdXR1cy52aWV3Lmh0bWwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdhYm91dHVzQ3RybCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnYWJ2bScsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLndoZW4oJy9jb250YWN0dXMnLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb250YWN0dXMvY29udGFjdHVzLnZpZXcuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2NvbnRhY3R1c0N0cmwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2N2bScsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAkbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUoe1xuICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgfVxufSkoKTtcbiIsIi8qXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBzZXR0aW5nIHVwIGF1dGhlbnRpY2F0aW9uIHNlcnZpY2UgXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5iYS1zbHAsIDIwMTdcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCduYmFzbHAnKVxuICAgIC5zZXJ2aWNlKCdhdXRoZW50aWNhdGlvbicsIGF1dGhlbnRpY2F0aW9uKTtcblxuYXV0aGVudGljYXRpb24uJGluamVjdCA9IFsnJHdpbmRvdycsICckaHR0cCddO1xuXG5mdW5jdGlvbiBhdXRoZW50aWNhdGlvbigkd2luZG93LCAkaHR0cCkge1xuLy8gc2F2aW5nIHRva2VuLlxuICAgIGNvbnN0IHNhdmVUb2tlbiA9XHRmdW5jdGlvbiAodG9rZW4pIHtcbiAgICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2VbJ25iYXNscCddID0gdG9rZW47XG4gICAgfTtcblxuICAgIGNvbnN0IGdldFRva2VuID1cdGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICR3aW5kb3cubG9jYWxTdG9yYWdlWyduYmFzbHAnXTtcbiAgICB9O1xuXG4gICAgY29uc3QgaXNMb2dnZWRJbiA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgdG9rZW4gPSBnZXRUb2tlbigpO1xuICAgICAgICBsZXQgcGF5bG9hZDtcblxuICAgICAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgICAgIHBheWxvYWQgPSB0b2tlbi5zcGxpdCgnLicpWzFdO1xuICAgICAgICAgICAgcGF5bG9hZCA9ICR3aW5kb3cuYXRvYihwYXlsb2FkKTtcbiAgICAgICAgICAgIHBheWxvYWQgPSBKU09OLnBhcnNlKHBheWxvYWQpO1xuICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgY3VycmVudFVzZXIgPSAoKSA9PiB7XG4gICAgICAgIGlmIChpc0xvZ2dlZEluKSB7XG4gICAgICAgICAgICBjb25zdCB0b2tlbiA9IGdldFRva2VuKCk7XG4gICAgICAgICAgICBsZXQgcGF5bG9hZCA9IHRva2VuLnNwbGl0KCcuJylbMV07XG4gICAgICAgICAgICBwYXlsb2FkID0gJHdpbmRvdy5hdG9iKHBheWxvYWQpO1xuICAgICAgICAgICAgcGF5bG9hZCA9IEpTT04ucGFyc2UocGF5bG9hZCk7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdXNlcklkOiBwYXlsb2FkLl9pZCxcbiAgICAgICAgICAgICAgICBlbWFpbDogcGF5bG9hZC5lbWFpbCxcbiAgICAgICAgICAgICAgICBhY2NvdW50U3RhdHVzOiBwYXlsb2FkLmFjY291bnRTdGF0dXMsXG4gICAgICAgICAgICAgICAgYWNjb3VudFR5cGU6IHBheWxvYWQuYWNjb3VudFR5cGUsXG4gICAgICAgICAgICAgICAgYWNjb3VudElkOiBwYXlsb2FkLnVzZXJJZCxcbiAgICAgICAgICAgICAgICBuYW1lOiBwYXlsb2FkLm5hbWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IExvZ291dCA9ICgpID0+IHtcbiAgICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnbmJhc2xwJyk7XG4gICAgfTtcblxuICAgIGNvbnN0IHNpZ25VcCA9ICh1c2VyKSA9PiB7XG4gICAgICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3NpZ251cCcsIHVzZXIpLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIHNhdmVUb2tlbihkYXRhLnRva2VuKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHNpZ25JbiA9ICh1c2VyKSA9PiB7XG4gICAgICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3NpZ25pbicsIHVzZXIpLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIHNhdmVUb2tlbihkYXRhLnRva2VuKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGNoZWNrVXNlciA9IChkYXRhKSA9PiB7XG4gICAgICAgIHJldHVybiAkaHR0cFxuICAgICAgICAgICAgLnBvc3QoJy9hcGkvY2hlY2t1c2VyJywgZGF0YSlcbiAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgIH07XG5cbiAgICBjb25zdCBjb3VudFVzZXIgPSAodXNlcklkKSA9PiB7XG4gICAgICAgIHJldHVybiAkaHR0cCBcbiAgICAgICAgICAgIC5nZXQoJy9hcGkvJyArIHVzZXJJZCArICcvY291bnQnKVxuICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgfTtcblxuICAgIGNvbnN0IHZlcmlmeUtleSA9ICh1c2VySWQsIGtleSkgPT4ge1xuICAgICAgICByZXR1cm4gJGh0dHBcbiAgICAgICAgICAgIC5nZXQoJy9hcGkvJyArIHVzZXJJZCArICcvJyArIGtleSArICcvdmVyaWZ5JylcbiAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgIH07XG5cbiAgICBjb25zdCBjaGFuZ2VQYXNzd29yZCA9IChkYXRhKSA9PiB7XG4gICAgICAgIHJldHVybiAkaHR0cCBcbiAgICAgICAgICAgIC5wb3N0KCcvYXBpL2NoYW5nZXBhc3N3b3JkJywgZGF0YSlcbiAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVTdWNjZXNzID0gKHJlc3BvbnNlKSA9PiByZXNwb25zZTtcblxuICAgIGNvbnN0IGhhbmRsZUVycm9yID0gKHJlc3BvbnNlKSA9PiByZXNwb25zZTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGN1cnJlbnRVc2VyOiBjdXJyZW50VXNlcixcbiAgICAgICAgc2F2ZVRva2VuOiBzYXZlVG9rZW4sXG4gICAgICAgIGdldFRva2VuOiBnZXRUb2tlbixcbiAgICAgICAgaXNMb2dnZWRJbjogaXNMb2dnZWRJbixcbiAgICAgICAgc2lnblVwOiBzaWduVXAsXG4gICAgICAgIHNpZ25Jbjogc2lnbkluLFxuICAgICAgICBjaGVja1VzZXI6IGNoZWNrVXNlcixcbiAgICAgICAgY291bnRVc2VyOiBjb3VudFVzZXIsXG4gICAgICAgIHZlcmlmeUtleTogdmVyaWZ5S2V5LFxuICAgICAgICBjaGFuZ2VQYXNzd29yZDogY2hhbmdlUGFzc3dvcmQsXG4gICAgICAgIExvZ291dDogTG9nb3V0LFxuICAgIH07XG59XG5cbiIsIi8qXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBzZXR0aW5nIHVwIGFjY291bnQgc2VydmljZSBmb3IgYXBwXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5iYS1zbHAsIDIwMTdcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbihmdW5jdGlvbiAoKSB7XG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCduYmFzbHAnKVxuICAgICAgICAuc2VydmljZSgnYWNjb3VudCcsIGFjY291bnQpO1xuXG4gICAgYWNjb3VudC4kaW5qZWN0ID0gWyckd2luZG93JywgJyRodHRwJ107XG5cbiAgICBmdW5jdGlvbiBhY2NvdW50KCR3aW5kb3csICRodHRwKSB7XG5cbiAgICAgICAgY29uc3QgcmVzZXRQYXNzd29yZCA9ICh1c2VySWQsIHJlc2V0RGF0YSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwIFxuICAgICAgICAgICAgICAgIC5wb3N0KCcvYXBpLycgKyB1c2VySWQgKyAnL3Jlc2V0cGFzc3dvcmQnLCByZXNldERhdGEpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGNyZWF0ZUFjdGl2YXRpb25Db2RlID0gKHVzZXJJZCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwIFxuICAgICAgICAgICAgICAgIC5wb3N0KCcvYXBpLycgKyB1c2VySWQgKyAnL2dlbmVyYXRldmFsaWRhdGlvbmNvZGUnKVxuICAgICAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCB2YWxpZGF0ZUFjdGl2YXRpb25Db2RlID0gKHVzZXJJZCwgY29kZSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwIFxuICAgICAgICAgICAgICAgIC5wb3N0KCcvYXBpLycgKyB1c2VySWQgKyAnLycgKyBjb2RlICsgJy92YWxpZGF0ZScpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGdldEFjY291bnRTdGF0dXNlcyA9ICh1c2VySWQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cCBcbiAgICAgICAgICAgICAgICAuZ2V0KCcvYXBpLycgKyB1c2VySWQgKyAnL3N0YXR1c2VzJylcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgZ2V0Q29tbWl0dGVlID0gKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwXG4gICAgICAgICAgICAgICAgLmdldCgnL2FwaS9zaG93Y29tbWl0dGVlJylcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgdXBkYXRlVXNlclN0YXR1cyA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHBcbiAgICAgICAgICAgICAgICAucG9zdCgnL2FwaS91c2Vyc3RhdHVzJywgZGF0YSlcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3Qgc2F2ZUJhc2ljSW5mbyA9IChkYXRhKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAgXG4gICAgICAgICAgICAgICAgLnBvc3QoJy9hcGkvY3JlYXRlYmFzaWNwcm9maWxlJywgZGF0YSlcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgZWRpdEJhc2ljSW5mbyA9ICh1c2VySWQsIGRhdGEpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cFxuICAgICAgICAgICAgICAgIC5wdXQoJy9hcGkvJyArIHVzZXJJZCArICcvZWRpdGJhc2ljaW5mbycsIGRhdGEpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHNhdmVCcmFuY2hJbmZvID0gKHVzZXJJZCwgZGF0YSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwXG4gICAgICAgICAgICAgICAgLnBvc3QoJy9hcGkvJyArIHVzZXJJZCArICcvc2F2ZWJyYW5jaGluZm8nLCBkYXRhKVxuICAgICAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBlZGl0QnJhbmNoSW5mbyA9ICh1c2VySWQsIGRhdGEpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cCBcbiAgICAgICAgICAgICAgICAucHV0KCcvYXBpLycgKyB1c2VySWQgKyAnL2JyYW5jaCcsIGRhdGEpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHVwbG9hZFRlbGxlckRvY3MgPSAodXNlcklkLCBkYXRhKSA9PiB7ICAgICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm4gJGh0dHBcbiAgICAgICAgICAgICAgICAucG9zdCgnL2FwaS8nICsgdXNlcklkICsgJy9iYW5rdGVsbGVyJywgZGF0YSlcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3Qgc2F2ZUJhbmtUZWxsZXIgPSAodGVsbGVyKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHBcbiAgICAgICAgICAgICAgICAucG9zdCgnL2FwaS9zYXZlYmFua3RlbGxlcicsIHRlbGxlcilcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgZ2V0QmFua1RlbGxlciA9ICh1c2VySWQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cCBcbiAgICAgICAgICAgICAgICAuZ2V0KCcvYXBpLycgKyB1c2VySWQgKyAnL2Jhbmt0ZWxsZXInKVxuICAgICAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKlxuICAgICAgICB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICB8IEZvbGxvd2luZyBmdW5jdGlvbiB3aWxsIGxvYWQgYWxsIGRhdGEgZm9yIHVzZXJcbiAgICAgICAgfCBiYXNlZCBvbiBnaXZlbiB1c2VyRW1haWwgYW5kIGNvbGxlY3Rpb24gbmFtZVxuICAgICAgICB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAqL1xuICAgICAgICBjb25zdCBsb2FkVXNlckluZm8gPSAoY29sbGVjdGlvbk5hbWUsIHVzZXJJZCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwIFxuICAgICAgICAgICAgICAgIC5nZXQoJy9hcGkvJyArIHVzZXJJZCArICcvJyArIGNvbGxlY3Rpb25OYW1lICsgJy91c2VyaW5mbycpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGhhbmRsZVN1Y2Nlc3MgPSAocmVzcG9uc2UpID0+IHJlc3BvbnNlO1xuXG4gICAgICAgIGNvbnN0IGhhbmRsZUVycm9yID0gKHJlc3BvbnNlKSA9PiByZXNwb25zZTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzZXRQYXNzd29yZDogcmVzZXRQYXNzd29yZCxcbiAgICAgICAgICAgIHVwbG9hZFRlbGxlckRvY3M6IHVwbG9hZFRlbGxlckRvY3MsXG4gICAgICAgICAgICBjcmVhdGVBY3RpdmF0aW9uQ29kZTogY3JlYXRlQWN0aXZhdGlvbkNvZGUsXG4gICAgICAgICAgICB2YWxpZGF0ZUFjdGl2YXRpb25Db2RlOiB2YWxpZGF0ZUFjdGl2YXRpb25Db2RlLFxuICAgICAgICAgICAgZ2V0QWNjb3VudFN0YXR1c2VzOiBnZXRBY2NvdW50U3RhdHVzZXMsXG4gICAgICAgICAgICB1cGRhdGVVc2VyU3RhdHVzOiB1cGRhdGVVc2VyU3RhdHVzLFxuICAgICAgICAgICAgc2F2ZUJhc2ljSW5mbzogc2F2ZUJhc2ljSW5mbyxcbiAgICAgICAgICAgIGVkaXRCYXNpY0luZm86IGVkaXRCYXNpY0luZm8sXG4gICAgICAgICAgICBzYXZlQnJhbmNoSW5mbzogc2F2ZUJyYW5jaEluZm8sXG4gICAgICAgICAgICBlZGl0QnJhbmNoSW5mbzogZWRpdEJyYW5jaEluZm8sXG4gICAgICAgICAgICBsb2FkVXNlckluZm86IGxvYWRVc2VySW5mbyxcbiAgICAgICAgICAgIGdldENvbW1pdHRlZTogZ2V0Q29tbWl0dGVlLFxuICAgICAgICAgICAgc2F2ZUJhbmtUZWxsZXI6IHNhdmVCYW5rVGVsbGVyLFxuICAgICAgICAgICAgZ2V0QmFua1RlbGxlcjogZ2V0QmFua1RlbGxlcixcbiAgICAgICAgfTtcbiAgICB9XG5cbn0pKCk7XG4iLCIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCBzZXJ2aWNlIGZvciBzaXRlLWNvbnRyb2xsZXIgZm9yIGFkbWluXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5iYS1zbHAsIDIwMThcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbihmdW5jdGlvbiAoKSB7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25iYXNscCcpXG4gICAgICAgIC5zZXJ2aWNlKCdzaXRlY29udHJvbGxlcicsIHNpdGVjb250cm9sbGVyKTtcblxuICAgIHNpdGVjb250cm9sbGVyLiRpbmplY3QgPSBbJyRodHRwJ107XG5cbiAgICBmdW5jdGlvbiBzaXRlY29udHJvbGxlcigkaHR0cCkge1xuICAgICAgICBcbiAgICAgICAgY29uc3QgYWRkUHJlZmVycmVkQ29tbWl0dGVlID0gKGRhdGEpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cFxuICAgICAgICAgICAgICAgIC5wb3N0KCcvYXBpL2NyZWF0ZWNvbW1pdHRlZScsIGRhdGEpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHNob3dBbGxDb21taXR0ZWUgPSAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHBcbiAgICAgICAgICAgICAgICAuZ2V0KCcvYXBpL3Nob3djb21taXR0ZWUnKVxuICAgICAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCByZW1vdmVDb21taXR0ZWUgPSAoY29tbWl0dGVlSWQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cCBcbiAgICAgICAgICAgICAgICAuZGVsZXRlKCcvYXBpLycgKyBjb21taXR0ZWVJZCArICcvcmVtb3ZlY29tbWl0dGVlJylcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgYWRkQ291bmNpbCA9IChkYXRhKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAgXG4gICAgICAgICAgICAgICAgLnBvc3QoJy9hcGkvY291bmNpbG1lbWJlcicsIGRhdGEpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHNob3dDb3VuY2lsTWVtYmVyID0gKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwIFxuICAgICAgICAgICAgICAgIC5nZXQoJy9hcGkvc2hvd2NvdW5jaWwnKVxuICAgICAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCByZW1vdmVDb3VuY2lsID0gKGNvdW5jaWxJZCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwIFxuICAgICAgICAgICAgICAgIC5kZWxldGUoJy9hcGkvJyArIGNvdW5jaWxJZCArICcvY291bmNpbCcpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGFkZEV2ZW50ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAgXG4gICAgICAgICAgICAgICAgLnBvc3QoJy9hcGkvZXZlbnQnLCBldmVudClcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3Qgc2hvd0V2ZW50ID0gKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwXG4gICAgICAgICAgICAgICAgLmdldCgnL2FwaS9zaG93RXZlbnQnKVxuICAgICAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCByZW1vdmVFdmVudCA9IChldmVudElkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHBcbiAgICAgICAgICAgICAgICAuZGVsZXRlKCcvYXBpLycgKyBldmVudElkICsgJy9ldmVudCcpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGhhbmRsZVN1Y2Nlc3MgPSAocmVzcG9uc2UpID0+IHJlc3BvbnNlO1xuXG4gICAgICAgIGNvbnN0IGhhbmRsZUVycm9yID0gKHJlc3BvbnNlKSA9PiByZXNwb25zZTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYWRkUHJlZmVycmVkQ29tbWl0dGVlOiBhZGRQcmVmZXJyZWRDb21taXR0ZWUsXG4gICAgICAgICAgICBzaG93QWxsQ29tbWl0dGVlOiBzaG93QWxsQ29tbWl0dGVlLFxuICAgICAgICAgICAgcmVtb3ZlQ29tbWl0dGVlOiByZW1vdmVDb21taXR0ZWUsXG4gICAgICAgICAgICBhZGRDb3VuY2lsOiBhZGRDb3VuY2lsLFxuICAgICAgICAgICAgc2hvd0NvdW5jaWxNZW1iZXI6IHNob3dDb3VuY2lsTWVtYmVyLFxuICAgICAgICAgICAgcmVtb3ZlQ291bmNpbDogcmVtb3ZlQ291bmNpbCxcbiAgICAgICAgICAgIGFkZEV2ZW50OiBhZGRFdmVudCxcbiAgICAgICAgICAgIHNob3dFdmVudDogc2hvd0V2ZW50LFxuICAgICAgICAgICAgcmVtb3ZlRXZlbnQ6IHJlbW92ZUV2ZW50LFxuICAgICAgICB9O1xuXG4gICAgfVxuXG59KSgpO1xuIiwiLypcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG58IHNldHRpbmcgdXAgdXNlciBjb250cm9sbGVyIHNlcnZpY2VcbnwgQGF1dGhvcjogamFoaWQgaGFxdWUgPGphaGlkLmhhcXVlQHlhaG9vLmNvbT5cbnwgQGNvcHlyaWdodDogbmJhLXNscCwgMjAxOFxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25iYXNscCcpXG4gICAgICAgIC5zZXJ2aWNlKCd1c2VyY29udHJvbGxlcicsIHVzZXJjb250cm9sbGVyKTtcblxuICAgIHVzZXJjb250cm9sbGVyLiRpbmplY3QgPSBbJyRodHRwJ107XG5cbiAgICBmdW5jdGlvbiB1c2VyY29udHJvbGxlcigkaHR0cCkge1xuXG5cbiAgICAgICAgY29uc3Qgc2hvd01lbWJlcnMgPSAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHBcbiAgICAgICAgICAgICAgICAuZ2V0KCcvYXBpL21lbWJlcnMnKVxuICAgICAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBzaG93U2luZ2xlTWVtYmVyID0gKG1lbWJlcklkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAgXG4gICAgICAgICAgICAgICAgLmdldCgnL2FwaS8nICsgbWVtYmVySWQgKyAnL21lbWJlcicpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHNob3dNZW1iZXJQcm9maWxlID0gKG1lbWJlcklkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAgXG4gICAgICAgICAgICAgICAgLmdldCgnL2FwaS8nICsgbWVtYmVySWQgKyAnL3Byb2ZpbGUnKVxuICAgICAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBzaG93TWVtYmVyQnJhbmNoID0gKG1lbWJlcklkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAgXG4gICAgICAgICAgICAgICAgLmdldCgnL2FwaS8nICsgbWVtYmVySWQgKyAnL2JyYW5jaCcpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG5cbiAgICAgICAgY29uc3QgaGFuZGxlU3VjY2VzcyA9IChyZXNwb25zZSkgPT4gcmVzcG9uc2U7XG5cbiAgICAgICAgY29uc3QgaGFuZGxlRXJyb3IgPSAocmVzcG9uc2UpID0+IHJlc3BvbnNlO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzaG93TWVtYmVyczogc2hvd01lbWJlcnMsXG4gICAgICAgICAgICBzaG93U2luZ2xlTWVtYmVyOiBzaG93U2luZ2xlTWVtYmVyLFxuICAgICAgICAgICAgc2hvd01lbWJlclByb2ZpbGU6IHNob3dNZW1iZXJQcm9maWxlLFxuICAgICAgICAgICAgc2hvd01lbWJlckJyYW5jaDogc2hvd01lbWJlckJyYW5jaCxcbiAgICAgICAgfTtcbiAgICB9XG5cbn0pKCk7IiwiLypcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG58IHNldHRpbmcgdXAgdXNlciBjb250cm9sbGVyIGZvciB0aGUgYXBwXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5iYS1zbHAsIDIwMThcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbihmdW5jdGlvbiAoKSB7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25iYXNscCcpXG4gICAgICAgIC5jb250cm9sbGVyKCd1c2VyY29udHJvbGxDdHJsJywgdXNlcmNvbnRyb2xsQ3RybCk7XG5cbiAgICB1c2VyY29udHJvbGxDdHJsLiRpbmplY3QgPSBbJ3VzZXJjb250cm9sbGVyJywgJ2FjY291bnQnLCAnJHJvdXRlUGFyYW1zJ107XG5cbiAgICBmdW5jdGlvbiB1c2VyY29udHJvbGxDdHJsKHVzZXJjb250cm9sbGVyLCBhY2NvdW50LCAkcm91dGVQYXJhbXMpIHtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHVzZXJ2bSA9IHRoaXM7XG5cbiAgICAgICAgdXNlcmNvbnRyb2xsZXJcbiAgICAgICAgICAgIC5zaG93TWVtYmVycygpXG4gICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdXNlcnZtLnNob3dNZW1iZXJFcnJvciA9IHRydWU7IFxuICAgICAgICAgICAgICAgICAgICB1c2Vydm0uc2hvd01lbWJlckVycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjsgXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB1c2Vydm0ubWVtYmVycyA9IHJlc3BvbnNlLmRhdGEubWVtYmVycztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgdXNlcnZtLnNob3dNZW1iZXJFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgdXNlcnZtLnNob3dNZW1iZXJFcnJvck1zZyA9IGVycjtcbiAgICAgICAgICAgIH0pO1xuXG5cbiAgICAgICAgLy8gaW5pdGlhbCBmdW5jdGlvbiB0byBjaGVjayB3aGV0aGVyIHVzZXIgY2xpY2tlZCBhbnkgbWVtYmVyIG5hbWVcbiAgICAgICAgdXNlcnZtLmNoZWNrUm91dGVzID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCRyb3V0ZVBhcmFtcy52KSB7XG4gICAgICAgICAgICAgICAgdXNlcnZtLmNsaWNrZWRNZW1iZXJOYW1lID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHVzZXJ2bS5jbGlja2VkTWVtYmVyTmFtZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG5cbiAgICAgICAgLypcbiAgICAgICAgfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgfCBGb2xsb3dpbmcgZnVuY3Rpb24gd2lsbCBnZXQgaW5kaXZpZHVhbCBtZW1iZXInc1xuICAgICAgICB8IGRldGFpbHNcbiAgICAgICAgfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgKi9cbiAgICAgICAgdXNlcnZtLmxvYWRVc2VySW5mbyA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1lbWVicklkID0gJHJvdXRlUGFyYW1zLnY7XG5cbiAgICAgICAgICAgIHVzZXJjb250cm9sbGVyXG4gICAgICAgICAgICAgICAgLnNob3dTaW5nbGVNZW1iZXIobWVtZWJySWQpXG4gICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcnZtLnNpbmdsZU1lbWJlckxvYWRpbmdFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2Vydm0uc2luZ2xlTWVtYmVyTG9hZGluZ0Vycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5zaW5nbGVNZW1iZXJMb2FkaW5nRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5zaW5nbGVNZW1iZXIgPSByZXNwb25zZS5kYXRhLm1lbWJlcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5zaW5nbGVNZW1iZXJMb2FkaW5nRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB1c2Vydm0uc2luZ2xlTWVtYmVyTG9hZGluZ0Vycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHVzZXJ2bS5sb2FkVXNlclByb2ZpbGUgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBtZW1lYnJJZCA9ICRyb3V0ZVBhcmFtcy52O1xuXG4gICAgICAgICAgICB1c2VyY29udHJvbGxlclxuICAgICAgICAgICAgICAgIC5zaG93TWVtYmVyUHJvZmlsZShtZW1lYnJJZClcbiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2Vydm0ucHJvZmlsZUxvYWRpbmdFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2Vydm0ucHJvZmlsZUxvYWRpbmdFcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2Vydm0ucHJvZmlsZUxvYWRpbmdFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcnZtLm1lbWJlclByb2ZpbGUgPSByZXNwb25zZS5kYXRhLnByb2ZpbGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICB1c2Vydm0ucHJvZmlsZUxvYWRpbmdFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5wcm9maWxlTG9hZGluZ0Vycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHVzZXJ2bS5sb2FkVXNlckJyYW5jaCA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1lbWVicklkID0gJHJvdXRlUGFyYW1zLnY7XG5cbiAgICAgICAgICAgIHVzZXJjb250cm9sbGVyXG4gICAgICAgICAgICAgICAgLnNob3dNZW1iZXJCcmFuY2gobWVtZWJySWQpXG4gICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcnZtLmJyYW5jaExvYWRpbmdFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2Vydm0uYnJhbmNoTG9hZGluZ0Vycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5icmFuY2hMb2FkaW5nRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5tZW1iZXJCcmFuY2ggPSByZXNwb25zZS5kYXRhLmJyYW5jaDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5icmFuY2hMb2FkaW5nRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB1c2Vydm0uYnJhbmNoTG9hZGluZ0Vycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHVzZXJ2bS5sb2FkQmFua1RlbGxlciA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1lbWVicklkID0gJHJvdXRlUGFyYW1zLnY7XG5cbiAgICAgICAgICAgIGFjY291bnRcbiAgICAgICAgICAgICAgICAuZ2V0QmFua1RlbGxlcihtZW1lYnJJZClcbiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2Vydm0uYmFua1RlbGxlckxvYWRpbmdFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2Vydm0uYmFua1RlbGxlckxvYWRpbmdFcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2Vydm0uYmFua1RlbGxlckxvYWRpbmdFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcnZtLm1lbWJlcmJhbmtUZWxsZXIgPSByZXNwb25zZS5kYXRhLmJhbmtUZWxsZXI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICB1c2Vydm0uYmFua1RlbGxlckxvYWRpbmdFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5iYW5rVGVsbGVyTG9hZGluZ0Vycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgIH1cblxuXG59KSgpOyIsIi8qXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBzZXR0aW5nIHVwIHN0YWZmIGNvbnRyb2xsZXIgZm9yIHRoZSBhcHBcbnwgQGF1dGhvcjogamFoaWQgaGFxdWUgPGphaGlkLmhhcXVlQHlhaG9vLmNvbT5cbnwgQGNvcHlyaWdodDogbmJhLXNscCwgMjAxOFxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbmJhc2xwJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ3N0YWZmQ3RybCcsIHN0YWZmQ3RybCk7XG5cbiAgICBzdGFmZkN0cmwuJGluamVjdCA9IFsnYXV0aGVudGljYXRpb24nLCAnJGxvY2F0aW9uJ107XG5cbiAgICBmdW5jdGlvbiBzdGFmZkN0cmwoYXV0aGVudGljYXRpb24sICRsb2NhdGlvbikgeyAgICBcdFxuICAgICAgICBjb25zdCBzdm0gPSB0aGlzO1xuICAgICAgIFxuICAgICAgICBpZiAoYXV0aGVudGljYXRpb24uaXNMb2dnZWRJbigpKSB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChhdXRoZW50aWNhdGlvbi5jdXJyZW50VXNlcigpLmFjY291bnRUeXBlID09PSAnYWRtaW4nKSB7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvd2VsY29tZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9zaWduaW4nKTtcbiAgICAgICAgfVxuICAgIH1cblxufSkoKTsiLCIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCBzeXN0ZW0gc2VydmljZSBmb3IgdGhlIGFwcFxufCBAYXV0aG9yOiBqYWhpZCBoYXF1ZSA8amFoaWQuaGFxdWVAeWFob28uY29tPlxufCBAY29weXJpZ2h0OiBuYWItc2xwLCAyMDE4XG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4oZnVuY3Rpb24gKCkge1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCduYmFzbHAnKVxuICAgICAgICAuc2VydmljZSgnc3lzdGVtU2VydmljZScsIHN5c3RlbVNlcnZpY2UpO1xuICAgICAgICBcbiAgICBzeXN0ZW1TZXJ2aWNlLiRpbmplY3QgPSBbJyRodHRwJ107XG5cbiAgICBmdW5jdGlvbiBzeXN0ZW1TZXJ2aWNlKCRodHRwKSB7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBzZW5kQ29udGFjdE1lc3NhZ2UgPSAobWVzc2FnZSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwXG4gICAgICAgICAgICAgICAgLnBvc3QoJy9hcGkvc2VuZG1lc3NhZ2UnLCBtZXNzYWdlKVxuICAgICAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBoYW5kbGVTdWNjZXNzID0gKHJlc3BvbnNlKSA9PiByZXNwb25zZTtcblxuICAgICAgICBjb25zdCBoYW5kbGVFcnJvciA9IChyZXNwb25zZSkgPT4gcmVzcG9uc2U7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNlbmRDb250YWN0TWVzc2FnZTogc2VuZENvbnRhY3RNZXNzYWdlLFxuICAgICAgICB9O1xuICAgIH1cblxufSkoKTsiLCIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCBuYXZpZ2F0aW9uIGRpcmVjdGl2ZSBmb3IgdGhlIGFwcFxufCBAYXV0aG9yOiBqYWhpZCBoYXF1ZSA8amFoaWQuaGFxdWVAeWFob28uY29tPlxufCBAY29weXJpZ2h0OiBuYmFzbHAsIDIwMTdcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbihmdW5jdGlvbiAoKSB7XG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCduYmFzbHAnKVxuICAgICAgICAuZGlyZWN0aXZlKCdzaXRlTmF2Jywgc2l0ZU5hdik7XG5cbiAgICBmdW5jdGlvbiBzaXRlTmF2KCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbW1vbi9kaXJlY3RpdmVzL25hdi9zaXRlLW5hdi50ZW1wbGF0ZS5odG1sJyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICduYXZDdHJsIGFzIG52bScsXG4gICAgICAgIH07XG4gICAgfVxufSkoKTtcbiIsIi8qXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBzZXR0aW5nIHVwIGNvbnRyb2xsZXIgZm9yIG5hdmlnYXRpb25cbnwgQGF1dGhvcjogamFoaWQgaGFxdWUgPGphaGlkLmhhcXVlQHlhaG9vLmNvbT5cbnwgQGNvcHlyaWdodDogbmJhc2xwLCAyMDE3XG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4oZnVuY3Rpb24gKCkge1xuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbmJhc2xwJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ25hdkN0cmwnLCBuYXZDdHJsKTtcblxuICAgIG5hdkN0cmwuJGluamVjdCA9IFsnYXV0aGVudGljYXRpb24nLCAnJGxvY2F0aW9uJ107XG5cbiAgICBmdW5jdGlvbiBuYXZDdHJsKGF1dGhlbnRpY2F0aW9uLCAkbG9jYXRpb24pIHtcbiAgICAgICAgY29uc3QgbnZtID0gdGhpcztcblxuICAgICAgICBpZiAoYXV0aGVudGljYXRpb24uaXNMb2dnZWRJbigpKSB7XG4gICAgICAgICAgICBudm0ubG9nZ2VkSW5VcmkgPSB0cnVlO1xuICAgICAgICAgICAgbnZtLmxvZ2dlZEluTmFtZSA9IGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkubmFtZTtcbiAgICAgICAgICAgIG52bS5jdXJyZW50QWNjb3VudFR5cGUgPSBhdXRoZW50aWNhdGlvbi5jdXJyZW50VXNlcigpLmFjY291bnRUeXBlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbnZtLmxvZ2dlZEluVXJpID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBudm0ubG9nb3V0ID0gKCkgPT4ge1xuICAgICAgICAgICAgYXV0aGVudGljYXRpb24uTG9nb3V0KCk7XG4gICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL3NpZ25pbicpO1xuICAgICAgICB9O1xuICAgIH1cbn0pKCk7XG4iLCIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCBmb290ZXIgZGlyZWN0aXZlIGZvciBhcHBsaWNhdGlvblxufCBAYXV0aG9yOiBqYWhpZCBoYXF1ZSA8amFoaWQuaGFxdWVAeWFob28uY29tPlxufCBAY29weXJpZ2h0OiBuYmFzbHAsIDIwMTdcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbihmdW5jdGlvbiAoKSB7XG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCduYmFzbHAnKVxuICAgICAgICAuZGlyZWN0aXZlKCdzaXRlRm9vdGVyJywgc2l0ZUZvb3Rlcik7XG4gICAgZnVuY3Rpb24gc2l0ZUZvb3RlcigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21tb24vZGlyZWN0aXZlcy9mb290ZXIvZm9vdGVyLnRlbXBsYXRlLmh0bWwnLFxuICAgICAgICB9O1xuICAgIH1cbn0pKCk7XG4iLCIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCBmaWxlIHVwbG9hZCBkaXJlY3RpdmVcbnwgQGF1dGhvcjogamFoaWQgaGFxdWUgPGphaGlkLmhhcXVlQHlhaG9vLmNvbT5cbnwgQGNvcHlyaWdodDogbmNsaGFsYWwsIDIwMTdcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qL1xuKGZ1bmN0aW9uKCl7XG5cdGFuZ3VsYXJcblx0XHQubW9kdWxlKCduYmFzbHAnKVxuXHRcdC5kaXJlY3RpdmUoJ2ZpbGVNb2RlbCcsIGZpbGVNb2RlbCk7XG5cblx0ZmlsZU1vZGVsLiRpbmplY3QgPSBbJyRwYXJzZSddO1xuXG5cdGZ1bmN0aW9uIGZpbGVNb2RlbCgkcGFyc2Upe1xuXHRcdHJldHVybiB7XG4gICAgICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsICRlbGVtZW50LCBhdHRycykge1xuICAgICAgICAgICAgdmFyIHBhcnNlZEZpbGUgPSAkcGFyc2UoYXR0cnMuZmlsZU1vZGVsKTtcbiAgICAgICAgICAgIHZhciBwYXJzZWRGaWxlU2V0dGVyID0gcGFyc2VkRmlsZS5hc3NpZ247XG4gICAgICAgICAgICAkZWxlbWVudC5vbignY2hhbmdlJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgcGFyc2VkRmlsZVNldHRlcihzY29wZSwgJGVsZW1lbnRbMF0uZmlsZXNbMF0pO1xuICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgIH0sXG4gICAgfTtcblx0fVxufSkoKTtcbiIsIi8qXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBzZXR0aW5nIHVwIHNpZGViYXIgZGlyZWN0aXZlIGZvciB0aGUgYXBwXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5iYS1zbHAsIDIwMThcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbihmdW5jdGlvbiAoKSB7XG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCduYmFzbHAnKVxuICAgICAgICAuZGlyZWN0aXZlKCdzaWRlQmFyJywgc2lkZUJhcik7XG5cbiAgICBmdW5jdGlvbiBzaWRlQmFyKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbW1vbi9kaXJlY3RpdmVzL3NpZGViYXIvc2lkZWJhci50ZW1wbGF0ZS5odG1sJyxcbiAgICAgICAgfTtcbiAgICB9XG59KSgpOyIsIi8qXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBzZXR0aW5nIHVwIGNvbnRyb2xsZXIgZm9yIHdlbGNvbWUgcGFnZVxufCBAYXV0aG9yOiBqYWhpZCBoYXF1ZSA8amFoaWQuaGFxdWVAeWFob28uY29tPlxufCBAY29weXJpZ2h0OiBuYmFzbHAsIDIwMTdcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbihmdW5jdGlvbiAoKSB7XG4gICAgXG4gICAgYW5ndWxhciBcbiAgICAgICAgLm1vZHVsZSgnbmJhc2xwJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ3dlbGNvbWVDdHJsJywgd2VsY29tZUN0cmwpO1xuXG4gICAgd2VsY29tZUN0cmwuJGluamVjdCA9IFsnYXV0aGVudGljYXRpb24nLCAnJGxvY2F0aW9uJ107XG5cbiAgICBmdW5jdGlvbiB3ZWxjb21lQ3RybChhdXRoZW50aWNhdGlvbiwgJGxvY2F0aW9uKSB7XG4gICAgICAgIGNvbnN0IHd2bSA9IHRoaXM7XG5cbiAgICAgICAgXG4gICAgfVxuXG59KSgpO1xuIiwiLypcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG58IHNldHRpbmcgdXAgY29tbWl0dGVlcyBmb3IgdGhlIGFwcFxufCBAYXV0aG9yOiBqYWhpZCBoYXF1ZSA8amFoaWQuaGFxdWVAeWFob28uY29tPlxufCBAY29weXJpZ2h0OiBuYmEtc2xwLCAyMDE4XG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4oZnVuY3Rpb24gKCkge1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCduYmFzbHAnKVxuICAgICAgICAuY29udHJvbGxlcignY29tbWl0dGVlc0N0cmwnLCBjb21taXR0ZWVzQ3RybCk7XG5cbiAgICBjb21taXR0ZWVzQ3RybC4kaW5qZWN0ID0gWydzaXRlY29udHJvbGxlciddO1xuXG4gICAgZnVuY3Rpb24gY29tbWl0dGVlc0N0cmwoc2l0ZWNvbnRyb2xsZXIpIHtcbiAgICAgICAgY29uc3QgY3ZtID0gdGhpcztcblxuICAgICAgICBjdm0ubG9hZENvbW1pdHRlZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHNpdGVjb250cm9sbGVyXG4gICAgICAgICAgICAgICAgLnNob3dBbGxDb21taXR0ZWUoKVx0XG4gICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3ZtLmNvbW1pdHRlZUxvYWRpbmdFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdm0uY29tbWl0dGVlTG9hZGluZ0Vycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN2bS5jb21taXR0ZWVMb2FkaW5nRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN2bS5jb21taXR0ZWVzID0gcmVzcG9uc2UuZGF0YS5jb21taXR0ZWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjdm0uY29tbWl0dGVlTG9hZGluZ0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgY3ZtLmNvbW1pdHRlZUxvYWRpbmdFcnJvck1zZyA9IGVycjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxufSkoKTsiLCIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCBjb3VuY2lsbWVtYmVycyBjb250cm9sbGVyIGZvciB0aGUgYXBwXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5iYS1zbHAsIDIwMThcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbihmdW5jdGlvbiAoKSB7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25iYXNscCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdjb3VuY2lsQ3RybCcsIGNvdW5jaWxDdHJsKTtcblxuICAgIGNvdW5jaWxDdHJsLiRpbmplY3QgPSBbJ3NpdGVjb250cm9sbGVyJ107XG5cbiAgICBmdW5jdGlvbiBjb3VuY2lsQ3RybChzaXRlY29udHJvbGxlcikge1xuICAgICAgICBjb25zdCBjbHZtID0gdGhpcztcblxuICAgICAgICBjbHZtLmxvYWRDb3VuY2lsTWVtYmVycyA9ICgpID0+IHtcbiAgICAgICAgICAgIHNpdGVjb250cm9sbGVyXG4gICAgICAgICAgICAgICAgLnNob3dDb3VuY2lsTWVtYmVyKClcbiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsdm0uY29tbWl0dGVlTG9hZGluZ0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsdm0uY29tbWl0dGVlTG9hZGluZ0Vycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsdm0uY29tbWl0dGVlTG9hZGluZ0Vycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbHZtLmNvdW5jaWxzID0gcmVzcG9uc2UuZGF0YS5kYXRhO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY2x2bS5jb21taXR0ZWVMb2FkaW5nRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBjbHZtLmNvbW1pdHRlZUxvYWRpbmdFcnJvck1zZyA9IGVycjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICB9XG5cbn0pKCk7IiwiLypcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG58IHNldHRpbmcgdXAgZXZlbnQgY29udHJvbGxlciBmb3IgdGhlIGFwcFxufCBAYXV0aG9yOiBqYWhpZCBoYXF1ZSA8amFoaWQuaGFxdWVAeWFob28uY29tPlxufCBAY29weXJpZ2h0OiBuYmEtc2xwLCAyMDE4XG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4oZnVuY3Rpb24gKCkge1xuICAgIFxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbmJhc2xwJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ2V2ZW50c0N0cmwnLCBldmVudHNDdHJsKTtcblxuICAgIGV2ZW50c0N0cmwuJGluamVjdCA9IFsnc2l0ZWNvbnRyb2xsZXInXTtcblxuICAgIGZ1bmN0aW9uIGV2ZW50c0N0cmwoc2l0ZWNvbnRyb2xsZXIpIHtcblxuICAgICAgICBjb25zdCBldm0gPSB0aGlzO1xuXG4gICAgICAgIGV2bS5zaG93RXZlbnRzID0gKCkgPT4ge1xuICAgICAgICAgICAgc2l0ZWNvbnRyb2xsZXJcbiAgICAgICAgICAgICAgICAuc2hvd0V2ZW50KClcbiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBldm0uZXZlbnRMb2FkRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZtLmV2ZW50TG9hZEVycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2bS5ldmVudExvYWRFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZtLmV2ZW50cyA9IHJlc3BvbnNlLmRhdGEuZXZlbnRzO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZtLmV2ZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZtLm5vRXZlbnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2bS5ub0V2ZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGV2bS5ldmVudExvYWRFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGV2bS5ldmVudExvYWRFcnJvck1zZyA9IGVycjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICB9XG5cbn0pKCk7IiwiLypcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG58IHNldHRpbmcgdXAgYWJvdXQgdXMgY29udHJvbGxlciBmb3IgYXBwXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5iYS1zbHAsIDIwMThcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbihmdW5jdGlvbiAoKSB7XG4gICAgXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCduYmFzbHAnKVxuICAgICAgICAuY29udHJvbGxlcignYWJvdXR1c0N0cmwnLCBhYm91dHVzQ3RybCk7XG5cbiAgICBmdW5jdGlvbiBhYm91dHVzQ3RybCgpIHtcbiAgICAgICAgY29uc3QgYWJ2bSA9IHRoaXM7XG4gICAgfVxuIFxufSkoKTsiLCIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCBjb250YWN0IGNvbnRyb2xsZXIgZm9yIHRoZSBhcHBcbnwgQGF1dGhvcjogamFoaWQgaGFxdWUgPGphaGlkLmhhcXVlQHlhaG9vLmNvbT5cbnwgQGNvcHlyaWdodDogbmJhLXNscCwgMjAxOFxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcbiAgICBcbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25iYXNscCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdjb250YWN0dXNDdHJsJywgY29udGFjdHVzQ3RybCk7XG5cbiAgICBjb250YWN0dXNDdHJsLiRpbmplY3QgPSBbJ3N5c3RlbVNlcnZpY2UnXTtcblxuICAgIGZ1bmN0aW9uIGNvbnRhY3R1c0N0cmwoc3lzdGVtU2VydmljZSkge1xuICAgICAgICBjb25zdCBjdm0gPSB0aGlzO1xuXG4gICAgICAgIGN2bS5jb250YWN0ID0ge1xuICAgICAgICAgICAgbmFtZTogJycsXG4gICAgICAgICAgICBlbWFpbDogJycsXG4gICAgICAgICAgICBtZXNzYWdlOiAnJyxcbiAgICAgICAgfTtcblxuICAgICAgICBjdm0uY29udGFjdFVzID0gKCkgPT4ge1xuICAgICAgICAgICAgc3lzdGVtU2VydmljZVxuICAgICAgICAgICAgICAgIC5zZW5kQ29udGFjdE1lc3NhZ2UoY3ZtLmNvbnRhY3QpXG4gICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3ZtLnNlbmRNZXNzYWdlRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3ZtLnNlbmRNZXNzYWdlRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3ZtLnNlbmRNZXNzYWdlU3VjY2VzcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdm0uc2VuZE1lc3NhZ2VTdWNjZXNzTXNnID0gJ1dlIGhhdmUgcmVjZWl2ZWQgeW91ciBtZXNzYWdlLiBXZSB3aWxsIGJlIGluIHRvdWNoIHdpdGggeW91IHNvb24nO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY3ZtLnNlbmRNZXNzYWdlRXJyb3IgPSB0cnVlO1x0XG4gICAgICAgICAgICAgICAgICAgIGN2bS5zZW5kTWVzc2FnZUVycm9yTXNnID0gZXJyO1x0XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfVxuXG59KSgpOyIsIi8qXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBzZXR0aW5nIHVwIHNpZ251cCBjb250cm9sbGVyIGZvciB0aGUgYXBwXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5iYXNscCwgMjAxN1xufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25iYXNscCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdzaWdudXBDdHJsJywgc2lnbnVwQ3RybCk7XG5cbiAgICBzaWdudXBDdHJsLiRpbmplY3QgPSBbJ2F1dGhlbnRpY2F0aW9uJywgJyRsb2NhdGlvbiddO1xuXG4gICAgZnVuY3Rpb24gc2lnbnVwQ3RybChhdXRoZW50aWNhdGlvbiwgJGxvY2F0aW9uKSB7XG4gICAgICAgIGNvbnN0IHJlZ3ZtID0gdGhpcztcblxuICAgICAgICAvLyB1c2VyIG9iamVjdC5cbiAgICAgICAgcmVndm0udXNlciA9IHtcbiAgICAgICAgICAgIGZpcnN0TmFtZTogJycsXG4gICAgICAgICAgICBsYXN0TmFtZTogJycsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJycsXG4gICAgICAgICAgICBlbWFpbDogJycsXG4gICAgICAgICAgICBwYXNzd29yZDogJycsXG4gICAgICAgICAgICBjb25maXJtUGFzc3dvcmQ6ICcnLFxuICAgICAgICB9O1xuXG4gICAgICAgIHJlZ3ZtLnJlZ2lzdGVyID0gKCkgPT4ge1xuICAgICAgICAgICAgYXV0aGVudGljYXRpb25cbiAgICAgICAgICAgICAgICAuc2lnblVwKHJlZ3ZtLnVzZXIpXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWd2bS5SZWdpc3RyYXRpb25FcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWd2bS5SZWdpc3RyYXRpb25FcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWd2bS5SZWdpc3RyYXRpb25FcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy93ZWxjb21lJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ3ZtLlJlZ2lzdHJhdGlvbkVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ3ZtLlJlZ2lzdHJhdGlvbkVycm9yTXNnID0gZXJyLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoYXV0aGVudGljYXRpb24uaXNMb2dnZWRJbigpKSB7XG4gICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL3dlbGNvbWUnKTtcbiAgICAgICAgfVxuICAgIH1cbn0pKCk7XG4iLCIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCBjb250cm9sbGVyIGZvciBsb2dpbiBwYWdlXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5iYXNscCwgMjAxN1xufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25iYXNscCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdzaWduaW5DdHJsJywgc2lnbmluQ3RybCk7XG5cbiAgICBzaWduaW5DdHJsLiRpbmplY3QgPSBbJ2F1dGhlbnRpY2F0aW9uJywgJyRsb2NhdGlvbiddO1xuXG4gICAgZnVuY3Rpb24gc2lnbmluQ3RybChhdXRoZW50aWNhdGlvbiwgJGxvY2F0aW9uKSB7XG4gICAgICAgIGNvbnN0IGx2bSA9IHRoaXM7XG5cbiAgICAgICAgbHZtLnVzZXIgPSB7XG4gICAgICAgICAgICBlbWFpbDogJycsXG4gICAgICAgICAgICBwYXNzd29yZDogJycsXG4gICAgICAgIH07IFxuXG4gICAgICAgIGlmIChhdXRoZW50aWNhdGlvbi5pc0xvZ2dlZEluKCkpIHtcbiAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvd2VsY29tZScpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbHZtLmxvZ2luID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghbHZtLnVzZXIuZW1haWwgfHwgIWx2bS51c2VyLnBhc3N3b3JkKSB7XG4gICAgICAgICAgICAgICAgICAgIGx2bS5sb2dpbkVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgbHZtLmxvZ2luRXJyb3JNc2cgPSBgRXJyb3IhIGFsbCAqIGZpZWxkcyBhcmUgcmVxdWlyZWRgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbHZtLmxvZ2luRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgbHZtLmRvTG9naW4oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBsdm0uZG9Mb2dpbiA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGlvblxuICAgICAgICAgICAgICAgICAgICAuc2lnbkluKGx2bS51c2VyKVxuICAgICAgICAgICAgICAgICAgICAuZXJyb3IoKGVycikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbHZtLmxvZ2luRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgbHZtLmxvZ2luRXJyb3JNc2cgPSBlcnIuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvd2VsY29tZScpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbn0pKCk7XG4iLCIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCBjb250cm9sbGVyIGZvciBwcm9maWxlIHBhZ2VcbnwgQGF1dGhvcjogamFoaWQgaGFxdWUgPGphaGlkLmhhcXVlQHlhaG9vLmNvbT5cbnwgQGNvcHlyaWdodDogbmJhLXNscCwgMjAxN1xufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbmJhc2xwJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ3Byb2ZpbGVDdHJsJywgcHJvZmlsZUN0cmwpO1xuXG4gICAgcHJvZmlsZUN0cmwuJGluamVjdCA9IFsnJHNjb3BlJywgJ2F1dGhlbnRpY2F0aW9uJywgJyRsb2NhdGlvbicsICdhY2NvdW50JywgJyRyb3V0ZSddO1xuXG4gICAgZnVuY3Rpb24gcHJvZmlsZUN0cmwoJHNjb3BlLCBhdXRoZW50aWNhdGlvbiwgJGxvY2F0aW9uLCBhY2NvdW50LCAkcm91dGUpIHtcblxuICAgICAgICBjb25zdCBwcm92bSA9IHRoaXM7XG5cbiAgICAgICAgcHJvdm0ucmVzZXRwYXNzd29yZCA9IHtcbiAgICAgICAgICAgIHBhc3N3b3JkOiAnJyxcbiAgICAgICAgICAgIHJlcGVhdF9wYXNzd29yZDogJycsXG4gICAgICAgICAgICBuZXdfcGFzc3dvcmQ6ICcnLFxuICAgICAgICB9O1xuXG4gICAgICAgIHByb3ZtLnJlc2V0UGFzc3dvcmQgPSAoKSA9PiB7XG4gICAgICAgICAgICBhY2NvdW50XG4gICAgICAgICAgICAgICAgLnJlc2V0UGFzc3dvcmQoYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5lbWFpbCwgcHJvdm0ucmVzZXRwYXNzd29yZClcbiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5yZXNldFBhc3N3b3JkRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0ucmVzZXRQYXNzd29yZEVycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnJlc2V0UGFzc3dvcmRFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0ucmVzZXRTdWNjZXNzID0gdHJ1ZTsgXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGlvbi5Mb2dvdXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm91dGUucmVsb2FkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAyMDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcHJvdm0ucmVzZXRQYXNzd29yZEVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcHJvdm0ucmVzZXRQYXNzd29yZEVycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIGZ1bmN0aW9uIHN0YXR1c1VwZGF0ZXIodXBkYXRlT2JqZWN0KSB7XG5cbiAgICAgICAgICAgIC8vIGNhbGxpbmcgc2VydmljZSBmdW5jdGlvbi5cbiAgICAgICAgICAgIGFjY291bnRcbiAgICAgICAgICAgICAgICAudXBkYXRlVXNlclN0YXR1cyh1cGRhdGVPYmplY3QpXG4gICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS51cGRhdGVkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5zdGF0dXNVcGRhdGVFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgJHJvdXRlLnJlbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYmFzaWNBY2NvdW50SW5mb0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJhc2ljQWNjb3VudEluZm9FcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICBwcm92bS5zdGF0dXNVcGRhdGVFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHByb3ZtLmJhc2ljQWNjb3VudEluZm9FcnJvck1zZyA9IGVycjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhdXRoZW50aWNhdGlvbi5pc0xvZ2dlZEluKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgcHJvdm0uY3VycmVudEFjY291bnRUeXBlID0gYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5hY2NvdW50VHlwZTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gY2hlY2tpbmcgYWNjb3VudCB0eXBlXG4gICAgICAgICAgICBpZiAoYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5hY2NvdW50VHlwZSA9PT0gJ2N1c3RvbWVyJykge1xuXG4gICAgICAgICAgICAgICAgcHJvdm0ucHJvZmlsZVN0YXR1cyA9IGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkuYWNjb3VudFN0YXR1cztcblxuICAgICAgICAgICAgICAgIHByb3ZtLmNvZGVSZWFkeSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgcHJvdm0uYmFzaWNQcm9maWxlRWRpdE9uID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcHJvdm0uYnJhbmNoSW5mb0VkaXRPbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHByb3ZtLnNlbmRBY3RpdmF0aW9uQ29kZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcHJvdm0uY29kZVJlYWR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgLmNyZWF0ZUFjdGl2YXRpb25Db2RlKGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkuZW1haWwpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYWN0aXZhdGlvbkNvZGVFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmFjdGl2YXRpb25Db2RlRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZFN0YXR1cyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZV9hdDogJ3Byb2ZpbGVBY3RpdmF0aW9uTWFpbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5lbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzVXBkYXRlcih1cGRhdGVkU3RhdHVzKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5jb2RlUmVhZHkgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5hY3RpdmF0aW9uQ29kZUVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmFjdGl2YXRpb25Db2RlRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmFjdGl2YXRpb25Db2RlRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLy8gZ2V0IHVzZXIgYWNjb3VudCBzdGF0dWVzIFxuICAgICAgICAgICAgICAgIHByb3ZtLmdldFByb2ZpbGVTdGF0dXNlcyA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgLmdldEFjY291bnRTdGF0dXNlcyhhdXRoZW50aWNhdGlvbi5jdXJyZW50VXNlcigpLmVtYWlsKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnN0YXR1c0xvYWRFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnN0YXR1c0xvYWRFcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5zdGF0dXNMb2FkRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0udXNlclN0YXR1c2VzID0gcmVzcG9uc2UuZGF0YS5zdGF0dXNlcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uc3RhdHVzTG9hZEVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5zdGF0dXNMb2FkRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLy8gc2F2aW5nIGJhc2ljIHByb2ZpbGUgaW5mb1xuICAgICAgICAgICAgICAgIHByb3ZtLmJhc2ljUHJvZmlsZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgd2hvczogYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5lbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgdXNlcklkOiBhdXRoZW50aWNhdGlvbi5jdXJyZW50VXNlcigpLnVzZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgZm9ybWVyTmFtZTogJycsXG4gICAgICAgICAgICAgICAgICAgIHNleDogJycsXG4gICAgICAgICAgICAgICAgICAgIHRlbGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICBhZGRyZXNzOiAnJyxcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgcHJvdm0uc2F2ZUJhc2ljSW5mbyA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgLnNhdmVCYXNpY0luZm8ocHJvdm0uYmFzaWNQcm9maWxlKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYmFzaWNBY2NvdW50SW5mb0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYmFzaWNBY2NvdW50SW5mb0Vycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkU3RhdHVzID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlX2F0OiAnYmFzaWNfaW5mbycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5lbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjYWxsaW5nIHNlcnZpY2UgZnVuY3Rpb24uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC51cGRhdGVVc2VyU3RhdHVzKHVwZGF0ZWRTdGF0dXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEudXBkYXRlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5zdGF0dXNVcGRhdGVFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm91dGUucmVsb2FkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5iYXNpY0FjY291bnRJbmZvRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5iYXNpY0FjY291bnRJbmZvRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5zdGF0dXNVcGRhdGVFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYmFzaWNBY2NvdW50SW5mb0Vycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBwcm92bS5icmFuY2ggPSB7XG4gICAgICAgICAgICAgICAgICAgIHllYXI6ICcnLFxuICAgICAgICAgICAgICAgICAgICBicmFuY2g6ICcnLFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvLyBhZGRpbmcgYnJhbmNoIGluZm9cbiAgICAgICAgICAgICAgICBwcm92bS5zYXZlQmF0Y2hJbmZvID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBhY2NvdW50XG4gICAgICAgICAgICAgICAgICAgICAgICAuc2F2ZUJyYW5jaEluZm8oYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5lbWFpbCwgcHJvdm0uYnJhbmNoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJyYW5jaEluZm9FcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJyYW5jaEluZm9FcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5icmFuY2hJbmZvRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRTdGF0dXMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVfYXQ6ICdicmFuY2gnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkuZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2FsbGluZyBzZXJ2aWNlIGZ1bmN0aW9uLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudXBkYXRlVXNlclN0YXR1cyh1cGRhdGVkU3RhdHVzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnVwZGF0ZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYnJhbmNoSW5mb0Vycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb3V0ZS5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJyYW5jaEluZm9FcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJyYW5jaEluZm9FcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJyYW5jaEluZm9FcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYnJhbmNoSW5mb0Vycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJyYW5jaEluZm9FcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYnJhbmNoSW5mb0Vycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8vIHNob3cgYmFzaWMgaW5mb1xuICAgICAgICAgICAgICAgIHByb3ZtLmxvYWRCYXNpY0luZm8gPSAoY29sbGVjdGlvbk5hbWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgLmxvYWRVc2VySW5mbyhjb2xsZWN0aW9uTmFtZSwgYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5lbWFpbClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS51c2VyQmFzaWNJbmZvTG9hZGluZ0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0udXNlckJhc2ljSW5mb0xvYWRpbmdFcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS51c2VyQmFzaWNJbmZvTG9hZGluZ0Vycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJhc2ljSW5mbyA9IHJlc3BvbnNlLmRhdGEudXNlckluZm87XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnVzZXJCYXNpY0luZm9Mb2FkaW5nRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnVzZXJCYXNpY0luZm9Mb2FkaW5nRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLy8gZWRpdCBiYXNpYyBpbmZvXG4gICAgICAgICAgICAgICAgcHJvdm0uZWRpdEJhc2ljSW5mbyA9ICh1c2VySWQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcHJvdm0uYmFzaWNQcm9maWxlRWRpdE9uID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICBwcm92bS5lZGl0QmFzaWMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBwcm92bS5iYXNpY0luZm8uZm9ybWVyTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNleDogcHJvdm0uYmFzaWNJbmZvLnNleCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZHJlc3M6IHByb3ZtLmJhc2ljSW5mby5hZGRyZXNzLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGVsZTogcHJvdm0uYmFzaWNJbmZvLnRlbGVwaG9uZSxcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICBwcm92bS5TYXZlRWRpdEJhc2ljSW5mbyA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZWRpdEJhc2ljSW5mbyh1c2VySWQsIHByb3ZtLmVkaXRCYXNpYylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5lZGl0QmFzaWNJbmZvRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uZWRpdEJhc2ljSW5mb0Vycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmVkaXRCYXNpY0luZm9FcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvdXRlLnJlbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uZWRpdEJhc2ljSW5mb0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uZWRpdEJhc2ljSW5mb0Vycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBwcm92bS5jYW5jbGVCYXNpY0VkaXQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHByb3ZtLmJhc2ljUHJvZmlsZUVkaXRPbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBwcm92bS5nZXRDb21taXR0ZWUgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGFjY291bnRcbiAgICAgICAgICAgICAgICAgICAgICAgIC5nZXRDb21taXR0ZWUoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmNvbW1pdHRlZXMgPSByZXNwb25zZS5kYXRhLmNvbW1pdHRlZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8vIHNob3cgYnJhbmNoIGluZm9cbiAgICAgICAgICAgICAgICBwcm92bS5sb2FkVXNlckJyYW5jaCA9IChjb2xsZWN0aW9uTmFtZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBhY2NvdW50XG4gICAgICAgICAgICAgICAgICAgICAgICAubG9hZFVzZXJJbmZvKGNvbGxlY3Rpb25OYW1lLCBhdXRoZW50aWNhdGlvbi5jdXJyZW50VXNlcigpLmVtYWlsKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnVzZXJJbmZvTG9hZGluZ0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0udXNlckluZm9Mb2FkaW5nRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0udXNlckluZm9Mb2FkaW5nRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYnJhbmNoSW5mbyA9IHJlc3BvbnNlLmRhdGEudXNlckluZm87XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnVzZXJJbmZvTG9hZGluZ0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS51c2VySW5mb0xvYWRpbmdFcnJvck1zZyA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBlZGl0IGJyYW5jaCBpbmZvXG4gICAgICAgICAgICAgICAgcHJvdm0uZWRpdEJyYW5jaEluZm8gPSAodXNlcklkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHByb3ZtLmJyYW5jaEluZm9FZGl0T24gPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgIHByb3ZtLmVkaXRCcmFuY2ggPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYXJ5ZWFyOiBwcm92bS5icmFuY2hJbmZvLmJhclllYXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBicmFuY2g6IHByb3ZtLmJyYW5jaEluZm8ubmJhQnJhbmNoLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAvLyBoYW5kbGUgZm9ybSBzdWJtaXNzaW9uIFxuICAgICAgICAgICAgICAgICAgICBwcm92bS5zYXZlRWRpdEJyYW5jaEluZm8gPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmVkaXRCcmFuY2hJbmZvKHVzZXJJZCwgcHJvdm0uZWRpdEJyYW5jaClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5lZGl0QnJhbmNoSW5mb0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmVkaXRCcmFuY2hJbmZvRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uZWRpdEJyYW5jaEluZm9FcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvdXRlLnJlbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uZWRpdEJyYW5jaEluZm9FcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmVkaXRCcmFuY2hJbmZvRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8vIGNhbmNsZSBicmFuY2ggaW5mbyBlZGl0LlxuICAgICAgICAgICAgICAgIHByb3ZtLmNhbmNlbEVkaXRCcmFuY2hJbmZvID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBwcm92bS5icmFuY2hJbmZvRWRpdE9uID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgICAgICB8IGZvbGxvd2luZyBmdW5jdGlvbiB3aWxsIGFjdGl2ZSB0aGUgcHJvZmlsZSBcbiAgICAgICAgICAgICAgICB8IGJhc2VkIG9uIGdpdmVuIGNvZGVcbiAgICAgICAgICAgICAgICB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgcHJvdm0uYWN0aXZhdGlvbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogJycsXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHByb3ZtLmFjdGl2ZVByb2ZpbGUgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGFjY291bnRcbiAgICAgICAgICAgICAgICAgICAgICAgIC52YWxpZGF0ZUFjdGl2YXRpb25Db2RlKGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkuZW1haWwsIHByb3ZtLmFjdGl2YXRpb24uY29kZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5BY3RpdmF0aW9uRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5BY3RpdmF0aW9uRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXNwb25zZS5kYXRhLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYWN0aXZhdGlvblN1Y2Nlc3MgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNhbGxpbmcgdGhlIGxvZ291dCBmdW5jdGlvbi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGlvbi5Mb2dvdXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb3V0ZS5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMzAwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLkFjdGl2YXRpb25FcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uQWN0aXZhdGlvbkVycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgICAgICB8IEZvbGxvd2luZyBmdW5jdGlvbiB3aWxsIGhhbmRsZSBiYW5rIHRlbGxlciBcbiAgICAgICAgICAgICAgICB8IHVwbG9hZFxuICAgICAgICAgICAgICAgIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBwcm92bS5iYW5rVGVsbGVySW5mbyA9IHtcbiAgICAgICAgICAgICAgICAgICAgcHJlZmVycmVkQ29tbWl0dGVlOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgYWRkaXRpb25hbF9jb21taXR0ZWU6ICcnLFxuICAgICAgICAgICAgICAgICAgICBiYW5rOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgYnJhbmNoOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgZGVwb3NpdG9yOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgZGVwb3NpdG9yX3RlbDogJycsXG4gICAgICAgICAgICAgICAgICAgIHRlbGxlcm5vOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiAnJyxcbiAgICAgICAgICAgICAgICAgICAgZGF0ZWRlcG9zaXQ6ICcnLFxuICAgICAgICAgICAgICAgICAgICB1c2VySWQ6IGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkuYWNjb3VudElkLFxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgcHJvdm0uc2F2ZUJhbmtUZWxsZXJJbmZvID0gKCkgPT4geyBcblxuICAgICAgICAgICAgICAgICAgICBhY2NvdW50XG4gICAgICAgICAgICAgICAgICAgICAgICAudXBsb2FkVGVsbGVyRG9jcyhhdXRoZW50aWNhdGlvbi5jdXJyZW50VXNlcigpLmVtYWlsLCBwcm92bS5iYW5rVGVsbGVySW5mbylcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5zYXZlVGVsbGVyRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5zYXZlVGVsbGVyRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uc2F2ZVRlbGxlckVycm9yID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm93IHVwZGF0ZSB1c2VyIHN0YXR1cyBmb3IgYmFuayB0ZWxsZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZFN0YXR1cyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZV9hdDogJ2Jhbmt0ZWxsZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkuZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2FsbGluZyBzZXJ2aWNlIGZ1bmN0aW9uLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudXBkYXRlVXNlclN0YXR1cyh1cGRhdGVkU3RhdHVzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnVwZGF0ZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYnJhbmNoSW5mb0Vycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb3V0ZS5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJyYW5jaEluZm9FcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJyYW5jaEluZm9FcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJyYW5jaEluZm9FcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYnJhbmNoSW5mb0Vycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnNhdmVUZWxsZXJFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uc2F2ZVRlbGxlckVycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgICAgICB8IEZvbGxvd2luZyBmdW5jdGlvbiB3aWxsIGdldCBsYXRlc3QgYmFuayB0ZWxsZXJcbiAgICAgICAgICAgICAgICB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgcHJvdm0uZ2V0Q3VycmVudEJhbmtUZWxsZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGFjY291bnRcbiAgICAgICAgICAgICAgICAgICAgICAgIC5nZXRCYW5rVGVsbGVyKGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkuZW1haWwpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3RlbGxlcicsIHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5iYW5rVGVsbGVyTG9hZGluZ0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYmFua1RlbGxlckxvYWRpbmdFcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5iYW5rVGVsbGVyTG9hZGluZ0Vycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnVzZXJCYW5rVGVsbGVyID0gcmVzcG9uc2UuZGF0YS5iYW5rVGVsbGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5iYW5rVGVsbGVyTG9hZGluZ0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5iYW5rVGVsbGVyTG9hZGluZ0Vycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5hY2NvdW50VHlwZSA9PT0gJ2FkbWluJykge1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL3NpZ25pbicpO1xuICAgICAgICB9XG4gICAgfVxuXG59KSgpO1xuIiwiLypcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG58IHNldHRpbmcgdXAgaGVscCBjb250cm9sbGVyIGZvciB0aGUgYXBwXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5iYS1zbHAsIDIwMThcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qL1xuXG4oZnVuY3Rpb24gKCkge1xuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbmJhc2xwJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ2hlbHBDdHJsJywgaGVscEN0cmwpO1xuXG4gICAgaGVscEN0cmwuJGluamVjdCA9IFsnYXV0aGVudGljYXRpb24nLCAnJHJvdXRlJ107XG5cbiAgICBmdW5jdGlvbiBoZWxwQ3RybChhdXRoZW50aWNhdGlvbiwgJHJvdXRlKSB7XG4gICAgICAgIGNvbnN0IGh2bSA9IHRoaXM7XG5cbiAgICAgICAgaHZtLmNoZWNrVXNlckZvcm0gPSB0cnVlO1xuICAgICAgICBodm0uUGFzc3dvcmRyZXNldEZvcm0gPSBmYWxzZTtcbiAgICAgICAgaHZtLnZlcmlmeUFqYXhMb2FkZXIgPSBmYWxzZTtcbiAgICAgICAgaHZtLnNob3dQYXNzUmVzZXRGb3JtID0gZmFsc2U7XG5cbiAgICAgICAgLy8gY2hlY2tpbmcgdGhlIHJvdXRlIHVybFxuICAgICAgICBodm0uY2hlY2tpbmdSb3V0ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICgkcm91dGUuY3VycmVudC5wYXJhbXMgJiYgJHJvdXRlLmN1cnJlbnQucGFyYW1zLnYgPT09ICdmb3Jnb3RfcGFzc3dvcmQnKSB7XG4gICAgICAgICAgICAgICAgaHZtLlBhc3N3b3JkcmVzZXRGb3JtID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaHZtLnVzZXIgPSB7XG4gICAgICAgICAgICAgICAgICAgIGVtYWlsOiAnJyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIC8vIGNoZWNraW5nIHVzZXIuXG4gICAgICAgICAgICAgICAgaHZtLmNoZWNrVXNlciA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIC5jaGVja1VzZXIoaHZtLnVzZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHZtLnVzZXJDaGVja2luZ0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHZtLnVzZXJDaGVja2luZ0Vycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5zZWN1cml0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodm0udXNlckNoZWNraW5nRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodm0udXNlckNoZWNraW5nRXJyb3JNc2cgPSBgSWYgeW91IGhhdmUgYWNjb3VudCB3aXRoIHVzLCB3ZSBoYXZlIHNlbnQgeW91IHBhc3N3b3JkIHJlc2V0IGxpbmtgO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHZtLnVzZXJDaGVja2luZ0Vycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh2bS51c2VyQ2hlY2tpbmdFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaHZtLnVzZXJDaGVja2luZ0Vycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCRyb3V0ZS5jdXJyZW50LnBhcmFtcyAmJiAkcm91dGUuY3VycmVudC5wYXJhbXMuciAmJiAkcm91dGUuY3VycmVudC5wYXJhbXMudSkge1xuXG4gICAgICAgICAgICAgICAgaHZtLlBhc3N3b3JkcmVzZXRGb3JtID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBodm0uY2hlY2tVc2VyRm9ybSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgaHZtLnZlcmlmeUFqYXhMb2FkZXIgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaHZtLnZhcmlmeVVzZXJEZXRhaWxzKCk7XG5cbiAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAgICAgfCBjaGFuZ2UgcGFzc3dvcmQgZm9ybSBzdWJtaXRcbiAgICAgICAgICAgICAgICB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgaHZtLmNoYW5nZVBhc3N3b3JkSW5mbyA9IHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiAkcm91dGUuY3VycmVudC5wYXJhbXMucixcbiAgICAgICAgICAgICAgICAgICAgdXNlcjogJHJvdXRlLmN1cnJlbnQucGFyYW1zLnUsXG4gICAgICAgICAgICAgICAgICAgIG5ld3Bhc3N3b3JkOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgcmVwZWF0cGFzc3dvcmQ6ICcnLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaHZtLmNoYW5nZVBhc3N3b3JkID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgLmNoYW5nZVBhc3N3b3JkKGh2bS5jaGFuZ2VQYXNzd29yZEluZm8pXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh2bS5jaGFuZ2VQYXNzRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodm0uY2hhbmdlUGFzc0Vycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh2bS5jaGFuZ2VQYXNzRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaHZtLmNoYW5nZVBhc3NFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaHZtLmNoYW5nZVBhc3NFcnJvck1zZyA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfTtcblxuICAgICAgICBodm0udmFyaWZ5VXNlckRldGFpbHMgPSAoKSA9PiB7XG4gICAgICAgICAgICBhdXRoZW50aWNhdGlvblxuICAgICAgICAgICAgICAgIC5jb3VudFVzZXIoJHJvdXRlLmN1cnJlbnQucGFyYW1zLnUpXG4gICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaHZtLnVzZXJWZXJpZmljYXRpb25Vc2VyRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaHZtLnVzZXJWZXJpZmljYXRpb25Vc2VyRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0dXJuIG9mIGFqYXhcbiAgICAgICAgICAgICAgICAgICAgICAgIGh2bS52ZXJpZnlBamF4TG9hZGVyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBub3cgY2hlY2sgdmVyaWZ5IHRoZSBrZXlcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnZlcmlmeUtleSgkcm91dGUuY3VycmVudC5wYXJhbXMudSwgJHJvdXRlLmN1cnJlbnQucGFyYW1zLnIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHZtLnVzZXJWZXJpZmljYXRpb25Vc2VyRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHZtLnVzZXJWZXJpZmljYXRpb25Vc2VyRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHZtLnVzZXJWZXJpZmljYXRpb25Vc2VyRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh2bS5zaG93UGFzc1Jlc2V0Rm9ybSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodm0udmVyaWZ5QWpheExvYWRlciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHZtLnVzZXJWZXJpZmljYXRpb25Vc2VyRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodm0udXNlclZlcmlmaWNhdGlvblVzZXJFcnJvck1zZyA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGh2bS51c2VyVmVyaWZpY2F0aW9uVXNlckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaHZtLnVzZXJWZXJpZmljYXRpb25Vc2VyRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgIGh2bS52ZXJpZnlBamF4TG9hZGVyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfTtcblxuICAgIH1cblxufSkoKTtcbiIsIi8qXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBzZXR0aW5nIHVwIGNvbnRyb2xsZXIgZm9yIHNpdGUtY29udHJvbGwgcGFnZVxufCBAYXV0aG9yOiBqYWhpZCBoYXF1ZSA8amFoaWQuaGFxdWVAeWFob28uY29tPlxufCBAY29weXJpZ2h0OiBuYmEtc2xwLCAyMDE4XG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4oZnVuY3Rpb24gKCkge1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCduYmFzbHAnKVxuICAgICAgICAuY29udHJvbGxlcignc2l0ZWNvbnRyb2xsQ3RybCcsIHNpdGVjb250cm9sbEN0cmwpO1xuXG4gICAgc2l0ZWNvbnRyb2xsQ3RybC4kaW5qZWN0ID0gWydhdXRoZW50aWNhdGlvbicsICckbG9jYXRpb24nLCAnc2l0ZWNvbnRyb2xsZXInXTtcblxuICAgIGZ1bmN0aW9uIHNpdGVjb250cm9sbEN0cmwoYXV0aGVudGljYXRpb24sICRsb2NhdGlvbiwgc2l0ZWNvbnRyb2xsZXIpIHtcbiAgICAgICAgY29uc3QgYWRTaXRlID0gdGhpcztcblxuICAgICAgIFxuICAgICAgICBpZiAoYXV0aGVudGljYXRpb24uaXNMb2dnZWRJbigpKSB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChhdXRoZW50aWNhdGlvbi5jdXJyZW50VXNlcigpLmFjY291bnRUeXBlID09PSAnYWRtaW4nKSB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgYWRTaXRlLmNvbW1pdHRlZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJycsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAvLyBhZGQgY29tbWl0dGVlXG4gICAgICAgICAgICAgICAgYWRTaXRlLmFkZFByZWZlcnJlZENvbW1pdHRlZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2l0ZWNvbnRyb2xsZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRQcmVmZXJyZWRDb21taXR0ZWUoYWRTaXRlLmNvbW1pdHRlZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuYWRkQ29tbWl0dGVlRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuYWRkQ29tbWl0dGVlRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmFkZENvbW1pdHRlZUVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5hZGRDb21taXR0ZWVTdWNjZXNzTXNnID0gJ0NvbW1pdHRlZSBzdWNjZXNzZnVsbHkgYWRkZWQnO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNldCB0aW1lIG91dCBhbmQgY2FsbCBzaG93IGNvbW1pdHRlZSBtZXRob2QuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLnNob3dDb21taXR0ZWUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMjAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmFkZENvbW1pdHRlZUVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuYWRkQ29tbWl0dGVlRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLy8gc2hvdyBjb21taXR0ZWVcbiAgICAgICAgICAgICAgICBhZFNpdGUuc2hvd0NvbW1pdHRlZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2l0ZWNvbnRyb2xsZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zaG93QWxsQ29tbWl0dGVlKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuY29tbWl0dGVlRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuY29tbWl0dGVlRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmNvbW1pdHRlZUVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5jb21taXR0ZWVMaXN0ID0gcmVzcG9uc2UuZGF0YS5jb21taXR0ZWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5jb21taXR0ZWVFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmNvbW1pdHRlZUVycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBpbmRpdmlkdWFsIGNvbW1pdHRlZS5cbiAgICAgICAgICAgICAgICBhZFNpdGUucmVtb3ZlTGlzdCA9IChjb21taXR0ZWVJZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzaXRlY29udHJvbGxlclxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUNvbW1pdHRlZShjb21taXR0ZWVJZClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydChyZXNwb25zZS5kYXRhLmVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLnNob3dDb21taXR0ZWUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBhZFNpdGUuY291bmNpbCA9IHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJycsXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGFkU2l0ZS5hZGRDb3VuY2lsTWVtYmVyID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzaXRlY29udHJvbGxlclxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENvdW5jaWwoYWRTaXRlLmNvdW5jaWwpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmNvdW5jaWxBZGRFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5jb3VuY2lsQWRkRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5jb3VuY2lsQWRkRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuc2hvd0NvdW5jaWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmNvdW5jaWxBZGRFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmNvdW5jaWxBZGRFcnJvck1zZyA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBhZFNpdGUuc2hvd0NvdW5jaWwgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNpdGVjb250cm9sbGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2hvd0NvdW5jaWxNZW1iZXIoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5jb3VuY2lsU2hvd0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmNvdW5jaWxTaG93RXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmNvdW5jaWxTaG93RXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmNvdW5jaWxzID0gcmVzcG9uc2UuZGF0YS5kYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuY291bmNpbFNob3dFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmNvdW5jaWxTaG93RXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgYWRTaXRlLnJlbW92ZUNvdW5jaWwgPSAoY291bmNpbElkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNpdGVjb250cm9sbGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQ291bmNpbChjb3VuY2lsSWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5zaG93Q291bmNpbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAgICAgfCBmb2xsb3dpbmcgZnVuY3Rpb24gd2lsbCBhZGQgbmV3IGV2ZW50IGludG8gdGhlXG4gICAgICAgICAgICAgICAgfCBkYXRhYmFzZS5cbiAgICAgICAgICAgICAgICB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgYWRTaXRlLmV2ZW50ID0ge1xuICAgICAgICAgICAgICAgICAgICBldmVudFRpdGxlOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnREZXRhaWxzOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRTdGFydHM6ICcnLFxuICAgICAgICAgICAgICAgICAgICBldmVudEVuZHM6ICcnLFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBhZFNpdGUuYWRkRXZlbnQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBzaXRlY29udHJvbGxlclxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZEV2ZW50KGFkU2l0ZS5ldmVudClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuZXZlbnRBZGRFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5ldmVudEFkZEVycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5ldmVudEFkZEVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5ldmVudEFkZFN1Y2Nlc3MgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNldCB0aW1lIG91dCBhbmQgY2FsbCBzaG93IGNvbW1pdHRlZSBtZXRob2QuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLnNob3dFdmVudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAyMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuZXZlbnRBZGRFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmV2ZW50QWRkRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgYWRTaXRlLnNob3dFdmVudCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2l0ZWNvbnRyb2xsZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zaG93RXZlbnQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5zaG93RXZlbnRFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5zaG93RXZlbnRFcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuc2hvd0V2ZW50RXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmV2ZW50cyA9IHJlc3BvbnNlLmRhdGEuZXZlbnRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuc2hvd0V2ZW50RXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5zaG93RXZlbnRFcnJvck1zZyA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBhZFNpdGUucmVtb3ZlRXZlbnQgPSAoZXZlbnRJZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzaXRlY29udHJvbGxlclxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUV2ZW50KGV2ZW50SWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLnNob3dFdmVudEVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLnNob3dFdmVudEVycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLnNob3dFdmVudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy93ZWxjb21lJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL3NpZ25pbicpO1xuICAgICAgICB9XG4gICAgfVxuXG59KSgpOyIsIi8qXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBzZXR0aW5nIHVwIHNpdGUgb3B0IGZpbGUgZm9yIGpxdWVyeSBhbmQganNcbnwgZ2VuZXJhbCBvcGVyYXRpb25cbnwgQGF1dGhvcjogamFoaWQgaGFxdWUgPGphaGlkLmhhcXVlQHlhaG9vLmNvbT5cbnwgQGNvcHlyaWdodDogbmJhLXNscCwgMjAxOFxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbihmdW5jdGlvbiAoKSB7XG5cbiAgICAkKGRvY3VtZW50KS5yZWFkeSgoKSA9PiB7XG4gICAgICAgIFxuICAgICAgICAkKFwiI2NoZWNrVXNlclwiKS5mb2N1cygpO1xuICAgIH0pO1xufSkoKTtcbiJdfQ==
