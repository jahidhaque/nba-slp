"use strict";!function(){angular.module("nbaslp",["ngResource","ngRoute","720kb.datepicker"]).config(["$routeProvider","$locationProvider",function(e,l){e.when("/",{templateUrl:"home/welcome/welcome.view.html",controller:"welcomeCtrl",controllerAs:"wvm"}).when("/councilmembers",{templateUrl:"councilmembers/councilmembers.view.html"}).when("/signup",{templateUrl:"signup/signup.view.html",controller:"signupCtrl",controllerAs:"regvm"}).when("/signin",{templateUrl:"signin/signin.view.html",controller:"signinCtrl",controllerAs:"lvm"}).when("/profile",{templateUrl:"profile/profile.view.html",controller:"profileCtrl",controllerAs:"provm"}).when("/help",{templateUrl:"help/help.view.html",controller:"helpCtrl",controllerAs:"hvm"}).when("/sitecontroll",{templateUrl:"admin/sitecontroll/sitecontroll.view.html",controller:"sitecontrollCtrl",controllerAs:"adSite"}).when("/usercontroll",{templateUrl:"admin/usercontroll/usercontroll.view.html",controller:"usercontrollCtrl",controllerAs:"uservm"}).when("/welcome",{templateUrl:"welcome/welcome.view.html",controller:"welcomeCtrl",controllerAs:"wvm"}).when("/committees",{templateUrl:"committees/committees.view.html",controller:"committeesCtrl",controllerAs:"cvm"}).when("/events",{templateUrl:"events/events.view.html",controller:"eventsCtrl",controllerAs:"evm"}).when("/aboutus",{templateUrl:"aboutus/aboutus.view.html",controller:"aboutusCtrl",controllerAs:"abvm"}).when("/contactus",{templateUrl:"contactus/contactus.view.html",controller:"contactusCtrl",controllerAs:"cvm"}),l.html5Mode({enabled:!0})}])}();
"use strict";function authentication(n,t){var e=function(t){n.localStorage.nbaslp=t},a=function(){return n.localStorage.nbaslp},o=function(){var t=a(),e=void 0;return!!t&&(e=t.split(".")[1],e=n.atob(e),e=JSON.parse(e))};return{currentUser:function(){if(o){var t=a().split(".")[1];return t=n.atob(t),t=JSON.parse(t),{userId:t._id,email:t.email,accountStatus:t.accountStatus,accountType:t.accountType,accountId:t.userId,name:t.name}}return!1},saveToken:e,getToken:a,isLoggedIn:o,signUp:function(n){return t.post("/api/signup",n).success(function(n){e(n.token)})},signIn:function(n){return t.post("/api/signin",n).success(function(n){e(n.token)})},Logout:function(){n.localStorage.removeItem("nbaslp")}}}angular.module("nbaslp").service("authentication",authentication),authentication.$inject=["$window","$http"];
"use strict";!function(){function t(t,e){var n=function(t){return t},a=function(t){return t};return{uploadTellerDocs:function(t,c){var r=new FormData;return r.append("tellerDoc",t),e.post("/api/docupload/"+c,r,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(n).catch(a)},createActivationCode:function(t){return e.post("/api/"+t+"/generatevalidationcode").then(n).catch(a)},validateActivationCode:function(t,c){return e.post("/api/"+t+"/"+c+"/validate").then(n).catch(a)},getAccountStatuses:function(t){return e.get("/api/"+t+"/statuses").then(n).catch(a)},updateUserStatus:function(t){return e.post("/api/userstatus",t).then(n).catch(a)},saveBasicInfo:function(t){return e.post("/api/createbasicprofile",t).then(n).catch(a)},saveBranchInfo:function(t,c){return e.post("/api/"+t+"/savebranchinfo",c).then(n).catch(a)},loadUserInfo:function(t,c){return e.get("/api/"+c+"/"+t+"/userinfo").then(n).catch(a)},getCommittee:function(){return e.get("/api/showcommittee").then(n).catch(a)},saveBankTeller:function(t){return e.post("/api/savebankteller",t).then(n).catch(a)},getBankTeller:function(t){return e.get("/api/"+t+"/bankteller").then(n).catch(a)}}}angular.module("nbaslp").service("account",t),t.$inject=["$window","$http"]}();
"use strict";!function(){function t(t){var e=function(t){return t},n=function(t){return t};return{addPreferredCommittee:function(r){return t.post("/api/createcommittee",r).then(e).catch(n)},showAllCommittee:function(){return t.get("/api/showcommittee").then(e).catch(n)},removeCommittee:function(r){return t.delete("/api/"+r+"/removecommittee").then(e).catch(n)},addEvent:function(r){return t.post("/api/event",r).then(e).catch(n)},showEvent:function(){return t.get("/api/showEvent").then(e).catch(n)},removeEvent:function(r){return t.delete("/api/"+r+"/event").then(e).catch(n)}}}angular.module("nbaslp").service("sitecontroller",t),t.$inject=["$http"]}();
"use strict";!function(){function e(e){var n=function(e){return e},t=function(e){return e};return{showMembers:function(){return e.get("/api/members").then(n).catch(t)},showSingleMember:function(r){return e.get("/api/"+r+"/member").then(n).catch(t)},showMemberProfile:function(r){return e.get("/api/"+r+"/profile").then(n).catch(t)},showMemberBranch:function(r){return e.get("/api/"+r+"/branch").then(n).catch(t)}}}angular.module("nbaslp").service("usercontroller",e),e.$inject=["$http"]}();
"use strict";!function(){function r(r,e,o){var n=this;r.showMembers().then(function(r){r.data.error?(n.showMemberError=!0,n.showMemberErrorMsg=r.data.error):n.members=r.data.members}).catch(function(r){n.showMemberError=!0,n.showMemberErrorMsg=r}),n.checkRoutes=function(){o.v?n.clickedMemberName=!0:n.clickedMemberName=!1},n.loadUserInfo=function(){var e=o.v;r.showSingleMember(e).then(function(r){r.data.error?(n.singleMemberLoadingError=!0,n.singleMemberLoadingErrorMsg=r.data.error):(n.singleMemberLoadingError=!1,n.singleMember=r.data.member)}).catch(function(r){n.singleMemberLoadingError=!0,n.singleMemberLoadingErrorMsg=r})},n.loadUserProfile=function(){var e=o.v;r.showMemberProfile(e).then(function(r){r.data.error?(n.profileLoadingError=!0,n.profileLoadingErrorMsg=r.data.error):(n.profileLoadingError=!1,n.memberProfile=r.data.profile)}).catch(function(r){n.profileLoadingError=!0,n.profileLoadingErrorMsg=r})},n.loadUserBranch=function(){var e=o.v;r.showMemberBranch(e).then(function(r){r.data.error?(n.branchLoadingError=!0,n.branchLoadingErrorMsg=r.data.error):(n.branchLoadingError=!1,n.memberBranch=r.data.branch)}).catch(function(r){n.branchLoadingError=!0,n.branchLoadingErrorMsg=r})},n.loadBankTeller=function(){var r=o.v;e.getBankTeller(r).then(function(r){r.data.error?(n.bankTellerLoadingError=!0,n.bankTellerLoadingErrorMsg=r.data.error):(n.bankTellerLoadingError=!1,n.memberbankTeller=r.data.bankTeller)}).catch(function(r){n.bankTellerLoadingError=!0,n.bankTellerLoadingErrorMsg=r})}}angular.module("nbaslp").controller("usercontrollCtrl",r),r.$inject=["usercontroller","account","$routeParams"]}();
"use strict";!function(){function n(n){var t=function(n){return n},e=function(n){return n};return{sendContactMessage:function(r){return n.post("/api/sendmessage",r).then(t).catch(e)}}}angular.module("nbaslp").service("systemService",n),n.$inject=["$http"]}();
"use strict";!function(){angular.module("nbaslp").directive("siteNav",function(){return{restrict:"EA",templateUrl:"common/directives/nav/site-nav.template.html",controller:"navCtrl as nvm"}})}();
"use strict";!function(){function n(n,t){n.isLoggedIn()?(this.loggedInUri=!0,this.loggedInName=n.currentUser().name,this.currentAccountType=n.currentUser().accountType):this.loggedInUri=!1,this.logout=function(){n.Logout(),t.path("/signin")}}angular.module("nbaslp").controller("navCtrl",n),n.$inject=["authentication","$location"]}();
"use strict";!function(){angular.module("nbaslp").directive("siteFooter",function(){return{restrict:"EA",templateUrl:"common/directives/footer/footer.template.html"}})}();
"use strict";!function(){function n(n){return{restrict:"A",link:function(i,e,t){var c=n(t.fileModel).assign;e.on("change",function(){i.$apply(function(){c(i,e[0].files[0])})})}}}angular.module("nbaslp").directive("fileModel",n),n.$inject=["$parse"]}();
"use strict";!function(){angular.module("nbaslp").directive("sideBar",function(){return{restrict:"EA",templateUrl:"common/directives/sidebar/sidebar.template.html"}})}();
"use strict";!function(){angular.module("nbaslp").controller("welcomeCtrl",function(){})}();
"use strict";!function(){angular.module("nbaslp").controller("committeesCtrl",function(){})}();
"use strict";!function(){function e(e){var n=this;n.showEvents=function(){e.showEvent().then(function(e){e.data.error?(n.eventLoadError=!0,n.eventLoadErrorMsg=e.data.error):(n.eventLoadError=!1,n.events=e.data.events,n.events.length>0?n.noEvent=!1:n.noEvent=!0)}).catch(function(e){n.eventLoadError=!0,n.eventLoadErrorMsg=e})}}angular.module("nbaslp").controller("eventsCtrl",e),e.$inject=["sitecontroller"]}();
"use strict";!function(){angular.module("nbaslp").controller("aboutusCtrl",function(){})}();
"use strict";!function(){function e(e){var s=this;s.contact={name:"",email:"",message:""},s.contactUs=function(){e.sendContactMessage(s.contact).then(function(e){e.data.error?(s.sendMessageError=!0,s.sendMessageErrorMsg=e.data.error):(s.sendMessageSuccess=!0,s.sendMessageSuccessMsg="We have received your message. We will be in touch with you soon")}).catch(function(e){s.sendMessageError=!0,s.sendMessageErrorMsg=e})}}angular.module("nbaslp").controller("contactusCtrl",e),e.$inject=["systemService"]}();
"use strict";!function(){function r(r,t){var o=this;o.user={firstName:"",lastName:"",displayName:"",email:"",password:"",confirmPassword:""},o.register=function(){r.signUp(o.user).then(function(r){r.data.error?(o.RegistrationError=!0,o.RegistrationErrorMsg=r.data.error):(o.RegistrationError=!1,t.path("/welcome"))}).catch(function(r){r&&(o.RegistrationError=!0,o.RegistrationErrorMsg=r.data.error)})},r.isLoggedIn()&&t.path("/welcome")}angular.module("nbaslp").controller("signupCtrl",r),r.$inject=["authentication","$location"]}();
"use strict";!function(){function r(r,o){var n=this;n.user={email:"",password:""},r.isLoggedIn()?o.path("/welcome"):(n.login=function(){n.user.email&&n.user.password?(n.loginError=!1,n.doLogin()):(n.loginError=!0,n.loginErrorMsg="Error! all * fields are required")},n.doLogin=function(){r.signIn(n.user).error(function(r){n.loginError=!0,n.loginErrorMsg=r.error}).then(function(){o.path("/welcome")})})}angular.module("nbaslp").controller("signinCtrl",r),r.$inject=["authentication","$location"]}();
"use strict";!function(){function r(r,e,a,o,t){function n(r){o.updateUserStatus(r).then(function(r){!0===r.data.updated?(c.statusUpdateError=!1,t.reload()):(c.basicAccountInfoError=!0,c.basicAccountInfoErrorMsg=r.data.error)}).catch(function(r){c.statusUpdateError=!0,c.basicAccountInfoErrorMsg=r})}var c=this;e.isLoggedIn()?(c.currentAccountType=e.currentUser().accountType,"customer"===e.currentUser().accountType?(c.profileStatus=e.currentUser().accountStatus,c.codeReady=!1,c.sendActivationCode=function(){c.codeReady=!0,o.createActivationCode(e.currentUser().email).then(function(r){if(r.data.error)c.activationCodeError=!0,c.activationCodeErrorMsg=r.data.error;else{n({update_at:"profileActivationMail",email:e.currentUser().email,status:!0}),c.codeReady=!1,c.activationCodeError=!1}}).catch(function(r){c.activationCodeError=!0,c.activationCodeErrorMsg=r})},c.getProfileStatuses=function(){o.getAccountStatuses(e.currentUser().email).then(function(r){r.data.error?(c.statusLoadError=!0,c.statusLoadErrorMsg=r.data.error):(c.statusLoadError=!1,c.userStatuses=r.data.statuses)}).catch(function(r){c.statusLoadError=!0,c.statusLoadErrorMsg=r})},c.basicProfile={whos:e.currentUser().email,userId:e.currentUser().userId,formerName:"",sex:"",tele:"",address:""},c.saveBasicInfo=function(){o.saveBasicInfo(c.basicProfile).then(function(r){if(r.data.error)c.basicAccountInfoError=!0,c.basicAccountInfoErrorMsg=r.data.error;else{var a={update_at:"basic_info",email:e.currentUser().email,status:!0};o.updateUserStatus(a).then(function(r){!0===r.data.updated?(c.statusUpdateError=!1,t.reload()):(c.basicAccountInfoError=!0,c.basicAccountInfoErrorMsg=r.data.error)}).catch(function(r){c.statusUpdateError=!0,c.basicAccountInfoErrorMsg=r})}}).catch(function(r){})},c.branch={year:"",branch:""},c.saveBatchInfo=function(){o.saveBranchInfo(e.currentUser().email,c.branch).then(function(r){if(r.data.error)c.branchInfoError=!0,c.branchInfoErrorMsg=r.data.error;else if(r.data.success){c.branchInfoError=!1;var a={update_at:"branch",email:e.currentUser().email,status:!0};o.updateUserStatus(a).then(function(r){!0===r.data.updated?(c.branchInfoError=!1,t.reload()):(c.branchInfoError=!0,c.branchInfoErrorMsg=r.data.error)}).catch(function(r){c.branchInfoError=!0,c.branchInfoErrorMsg=r})}}).catch(function(r){c.branchInfoError=!0,c.branchInfoErrorMsg=r})},c.loadBasicInfo=function(r){o.loadUserInfo(r,e.currentUser().email).then(function(r){r.data.error?(c.userBasicInfoLoadingError=!0,c.userBasicInfoLoadingErrorMsg=r.data.error):(c.userBasicInfoLoadingError=!1,c.basicInfo=r.data.userInfo)}).catch(function(r){c.userBasicInfoLoadingError=!0,c.userBasicInfoLoadingErrorMsg=r})},c.getCommittee=function(){o.getCommittee().then(function(r){c.committees=r.data.committee}).catch(function(r){console.log(r)})},c.loadUserBranch=function(r){o.loadUserInfo(r,e.currentUser().email).then(function(r){r.data.error?(c.userInfoLoadingError=!0,c.userInfoLoadingErrorMsg=r.data.error):(c.userInfoLoadingError=!1,c.branchInfo=r.data.userInfo)}).catch(function(r){c.userInfoLoadingError=!0,c.userInfoLoadingErrorMsg=r})},c.activation={code:""},c.activeProfile=function(){o.validateActivationCode(e.currentUser().email,c.activation.code).then(function(r){r.data.error?(c.ActivationError=!0,c.ActivationErrorMsg=r.data.error):r.data.success&&(c.activationSuccess=!0,setTimeout(function(){e.Logout(),t.reload()},3e3))}).catch(function(r){c.ActivationError=!0,c.ActivationErrorMsg=r})},c.bankTellerInfo={preferredCommittee:"",additional_committee:"",whos:e.currentUser().email,userId:e.currentUser().accountId,tellerDoc:r.tellerDoc},c.saveBankTellerInfo=function(){c.bankTellerInfo.preferredCommittee&&c.bankTellerInfo.additional_committee?(console.log(c.bankTellerInfo),o.uploadTellerDocs(r.tellerDoc,e.currentUser().accountId).then(function(r){!1===r.data.success?(c.saveTellerError=!0,c.saveTellerErrorMsg=r.data.error):!0===r.data.success&&(c.bankTellerInfo.tellerDoc=r.data.docLocation,o.saveBankTeller(c.bankTellerInfo).then(function(r){if(r.data.error)c.saveTellerError=!0,c.saveTellerErrorMsg=r.data.error;else{n({update_at:"bankteller",email:e.currentUser().email,status:!0}),t.reload()}}).catch(function(r){c.saveTellerError=!0,c.saveTellerErrorMsg=r}))}).catch(function(r){c.saveTellerError=!0,c.saveTellerErrorMsg=r})):(c.saveTellerError=!0,c.saveTellerErrorMsg="All * fiends are required. Must not be empty")},c.getCurrentBankTeller=function(){o.getBankTeller(e.currentUser().email).then(function(r){r.data.error?(c.bankTellerLoadingError=!0,c.bankTellerLoadingErrorMsg=r.data.error):(c.bankTellerLoadingError=!1,c.userBankTeller=r.data.bankTeller)}).catch(function(r){c.bankTellerLoadingError=!0,c.bankTellerLoadingErrorMsg=r})}):e.currentUser().accountType):a.path("/signin")}angular.module("nbaslp").controller("profileCtrl",r),r.$inject=["$scope","authentication","$location","account","$route"]}();
"use strict";!function(){function n(n,t){}angular.module("nbaslp").controller("welcomeCtrl",n),n.$inject=["authentication","$location"]}();
"use strict";!function(){function t(t,e,r){var o=this;t.isLoggedIn()?"admin"===t.currentUser().accountType?(o.committee={name:""},o.addPreferredCommittee=function(){r.addPreferredCommittee(o.committee).then(function(t){t.data.error?(o.addCommitteeError=!0,o.addCommitteeErrorMsg=t.data.error):(o.addCommitteeError=!1,o.addCommitteeSuccessMsg="Committee successfully added",setTimeout(function(){o.showCommittee()},200))}).catch(function(t){o.addCommitteeError=!0,o.addCommitteeErrorMsg=t})},o.showCommittee=function(){r.showAllCommittee().then(function(t){t.data.error?(o.committeeError=!0,o.committeeErrorMsg=t.data.error):(o.committeeError=!1,o.committeeList=t.data.committee)}).catch(function(t){o.committeeError=!0,o.committeeErrorMsg=t})},o.removeList=function(t){r.removeCommittee(t).then(function(t){t.data.error?alert(t.data.error):setTimeout(function(){o.showCommittee()},100)}).catch(function(t){alert(t)})},o.event={eventTitle:"",eventDetails:"",eventStarts:"",eventEnds:""},o.addEvent=function(){r.addEvent(o.event).then(function(t){t.data.error?(o.eventAddError=!0,o.eventAddErrorMsg=t.data.error):t.data.success&&(o.eventAddError=!1,o.eventAddSuccess=!0,setTimeout(function(){o.showEvent()},200))}).catch(function(t){o.eventAddError=!0,o.eventAddErrorMsg=t})},o.showEvent=function(){r.showEvent().then(function(t){t.data.error?(o.showEventError=!0,o.showEventErrorMsg=t.data.error):t.data.success&&(o.showEventError=!1,o.events=t.data.events)}).catch(function(t){o.showEventError=!0,o.showEventErrorMsg=t})},o.removeEvent=function(t){r.removeEvent(t).then(function(t){t.data.error?(o.showEventError=!0,o.showEventErrorMsg=t.data.error):t.data.success&&setTimeout(function(){o.showEvent()},100)}).catch(function(t){console.log(t)})}):e.path("/welcome"):e.path("/signin")}angular.module("nbaslp").controller("sitecontrollCtrl",t),t.$inject=["authentication","$location","sitecontroller"]}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImF1dGhlbnRpY2F0aW9uLnNlcnZpY2UuanMiLCJhY2NvdW50LnNlcnZpY2UuanMiLCJzaXRlLWNvbnRyb2xsZXIuc2VydmljZS5qcyIsInVzZXItY29udHJvbGxlci5zZXJ2aWNlLmpzIiwidXNlcmNvbnRyb2xsLmNvbnRyb2xsZXIuanMiLCJzeXN0ZW0uc2VydmljZS5qcyIsIm5hdi5kaXJlY3RpdmUuanMiLCJuYXYuY29udHJvbGxlci5qcyIsImZvb3Rlci5kaXJlY3RpdmUuanMiLCJmaWxlTW9kZWwuZGlyZWN0aXZlLmpzIiwic2lkZWJhci5kaXJlY3RpdmUuanMiLCJ3ZWxjb21lLmNvbnRyb2xsZXIuanMiLCJjb21taXR0ZWVzLmNvbnRyb2xsZXIuanMiLCJldmVudHMuY29udHJvbGxlci5qcyIsImFib3V0dXMuY29udHJvbGxlci5qcyIsImNvbnRhY3R1cy5jb250cm9sbGVyLmpzIiwic2lnbnVwLmNvbnRyb2xsZXIuanMiLCJzaWduaW4uY29udHJvbGxlci5qcyIsInByb2ZpbGUuY29udHJvbGxlci5qcyIsInNpdGVjb250cm9sbC5jb250cm9sbGVyLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJjb25maWciLCJ0ZW1wbGF0ZVVybCIsIiRsb2NhdGlvblByb3ZpZGVyIiwiY29udHJvbGxlciIsImNvbnRyb2xsZXJBcyIsIndoZW4iLCJodG1sNU1vZGUiLCJlbmFibGVkIiwic2F2ZVRva2VuIiwiJHdpbmRvdyIsInRva2VuIiwibG9jYWxTdG9yYWdlIiwiZ2V0VG9rZW4iLCJpc0xvZ2dlZEluIiwicGF5bG9hZCIsIkpTT04iLCJwYXJzZSIsImF0b2IiLCJjdXJyZW50VXNlciIsInNwbGl0IiwiYWNjb3VudFN0YXR1cyIsInVzZXJJZCIsIl9pZCIsImFjY291bnRUeXBlIiwiYWNjb3VudElkIiwibmFtZSIsIkxvZ291dCIsInNpZ25VcCIsInVzZXIiLCIkaHR0cCIsInBvc3QiLCJzdWNjZXNzIiwiZGF0YSIsInNpZ25JbiIsImhhbmRsZVN1Y2Nlc3MiLCJyZW1vdmVJdGVtIiwiYXV0aGVudGljYXRpb24iLCJjcmVhdGVBY3RpdmF0aW9uQ29kZSIsInJlc3BvbnNlIiwiaGFuZGxlRXJyb3IiLCJ1cGxvYWRUZWxsZXJEb2NzIiwiZmlsZSIsImxvYWRVc2VySW5mbyIsImZkIiwiYXBwZW5kIiwiaWRlbnRpdHkiLCJoZWFkZXJzIiwiQ29udGVudC1UeXBlIiwidW5kZWZpbmVkIiwiY2F0Y2giLCJ2YWxpZGF0ZUFjdGl2YXRpb25Db2RlIiwidGhlbiIsImNvZGUiLCJnZXRDb21taXR0ZWUiLCJnZXRBY2NvdW50U3RhdHVzZXMiLCJnZXQiLCJzYXZlQmFzaWNJbmZvIiwidXBkYXRlVXNlclN0YXR1cyIsInRyYW5zZm9ybVJlcXVlc3QiLCJzYXZlQmFua1RlbGxlciIsInNhdmVCcmFuY2hJbmZvIiwiY29sbGVjdGlvbk5hbWUiLCJ0ZWxsZXIiLCJnZXRCYW5rVGVsbGVyIiwiYWNjb3VudCIsIiRpbmplY3QiLCJhZGRQcmVmZXJyZWRDb21taXR0ZWUiLCJzaG93QWxsQ29tbWl0dGVlIiwiYWRkRXZlbnQiLCJyZW1vdmVDb21taXR0ZWUiLCJzaG93RXZlbnQiLCJkZWxldGUiLCJjb21taXR0ZWVJZCIsInJlbW92ZUV2ZW50IiwiZXZlbnQiLCJldmVudElkIiwic2l0ZWNvbnRyb2xsZXIiLCJzaG93TWVtYmVycyIsInNob3dTaW5nbGVNZW1iZXIiLCJtZW1iZXJJZCIsInNob3dNZW1iZXJCcmFuY2giLCJzaG93TWVtYmVyUHJvZmlsZSIsInVzZXJjb250cm9sbGVyIiwidXNlcnZtIiwiJHJvdXRlUGFyYW1zIiwibWVtYmVycyIsInNob3dNZW1iZXJFcnJvciIsInNob3dNZW1iZXJFcnJvck1zZyIsImVycm9yIiwiY2hlY2tSb3V0ZXMiLCJjbGlja2VkTWVtYmVyTmFtZSIsImVyciIsInYiLCJzaW5nbGVNZW1iZXIiLCJtZW1lYnJJZCIsInNpbmdsZU1lbWJlckxvYWRpbmdFcnJvck1zZyIsInNpbmdsZU1lbWJlckxvYWRpbmdFcnJvciIsImxvYWRVc2VyUHJvZmlsZSIsIm1lbWJlciIsInByb2ZpbGVMb2FkaW5nRXJyb3IiLCJtZW1iZXJQcm9maWxlIiwicHJvZmlsZSIsInByb2ZpbGVMb2FkaW5nRXJyb3JNc2ciLCJsb2FkVXNlckJyYW5jaCIsImJyYW5jaExvYWRpbmdFcnJvciIsImJyYW5jaExvYWRpbmdFcnJvck1zZyIsImxvYWRCYW5rVGVsbGVyIiwiYmFua1RlbGxlckxvYWRpbmdFcnJvck1zZyIsImJhbmtUZWxsZXJMb2FkaW5nRXJyb3IiLCJicmFuY2giLCJtZW1iZXJiYW5rVGVsbGVyIiwiYmFua1RlbGxlciIsInVzZXJjb250cm9sbEN0cmwiLCJzZW5kQ29udGFjdE1lc3NhZ2UiLCJtZXNzYWdlIiwic3lzdGVtU2VydmljZSIsImRpcmVjdGl2ZSIsInNpdGVOYXYiLCJyZXN0cmljdCIsIm5hdkN0cmwiLCIkbG9jYXRpb24iLCJudm0iLCJsb2dnZWRJbk5hbWUiLCJjdXJyZW50QWNjb3VudFR5cGUiLCJsb2dnZWRJblVyaSIsImxvZ291dCIsInBhdGgiLCJzaXRlRm9vdGVyIiwiZmlsZU1vZGVsIiwibGluayIsInNjb3BlIiwiJGVsZW1lbnQiLCJwYXJzZWRGaWxlU2V0dGVyIiwiJHBhcnNlIiwiYXR0cnMiLCJhc3NpZ24iLCJvbiIsIiRhcHBseSIsImZpbGVzIiwic2lkZUJhciIsImNvbW1pdHRlZXNDdHJsIiwiZXZtIiwic2hvd0V2ZW50cyIsImV2ZW50TG9hZEVycm9yIiwiZXZlbnRzIiwiZXZlbnRMb2FkRXJyb3JNc2ciLCJub0V2ZW50IiwibGVuZ3RoIiwiZXZlbnRzQ3RybCIsImFib3V0dXNDdHJsIiwiY29udGFjdHVzQ3RybCIsImN2bSIsImNvbnRhY3QiLCJ0aGlzIiwiZW1haWwiLCJjb250YWN0VXMiLCJzZW5kTWVzc2FnZUVycm9yTXNnIiwic2VuZE1lc3NhZ2VTdWNjZXNzIiwic2VuZE1lc3NhZ2VTdWNjZXNzTXNnIiwic2VuZE1lc3NhZ2VFcnJvciIsInNpZ251cEN0cmwiLCJyZWd2bSIsImxhc3ROYW1lIiwiZGlzcGxheU5hbWUiLCJwYXNzd29yZCIsImNvbmZpcm1QYXNzd29yZCIsInJlZ2lzdGVyIiwiUmVnaXN0cmF0aW9uRXJyb3JNc2ciLCJSZWdpc3RyYXRpb25FcnJvciIsInNpZ25pbkN0cmwiLCJsdm0iLCJsb2dpbkVycm9yTXNnIiwibG9naW5FcnJvciIsImRvTG9naW4iLCJwcm92bSIsIiRzY29wZSIsIiRyb3V0ZSIsInN0YXR1c1VwZGF0ZXIiLCJ1cGRhdGVPYmplY3QiLCJiYXNpY0FjY291bnRJbmZvRXJyb3IiLCJiYXNpY0FjY291bnRJbmZvRXJyb3JNc2ciLCJyZWxvYWQiLCJzdGF0dXNVcGRhdGVFcnJvciIsImNvZGVSZWFkeSIsInByb2ZpbGVTdGF0dXMiLCJhY3RpdmF0aW9uQ29kZUVycm9yTXNnIiwic2VuZEFjdGl2YXRpb25Db2RlIiwidXBkYXRlZFN0YXR1cyIsInVwZGF0ZV9hdCIsInN0YXR1cyIsImFjdGl2YXRpb25Db2RlRXJyb3IiLCJzdGF0dXNMb2FkRXJyb3IiLCJzdGF0dXNMb2FkRXJyb3JNc2ciLCJiYXNpY1Byb2ZpbGUiLCJ1c2VyU3RhdHVzZXMiLCJzdGF0dXNlcyIsIndob3MiLCJ0ZWxlIiwiYWRkcmVzcyIsInVwZGF0ZWQiLCJicmFuY2hJbmZvRXJyb3JNc2ciLCJicmFuY2hJbmZvRXJyb3IiLCJ1c2VyQmFzaWNJbmZvTG9hZGluZ0Vycm9yIiwidXNlckJhc2ljSW5mb0xvYWRpbmdFcnJvck1zZyIsInVzZXJJbmZvTG9hZGluZ0Vycm9yIiwidXNlckluZm9Mb2FkaW5nRXJyb3JNc2ciLCJsb2FkQmFzaWNJbmZvIiwiYmFzaWNJbmZvIiwidXNlckluZm8iLCJBY3RpdmF0aW9uRXJyb3IiLCJjb21taXR0ZWVzIiwiY29tbWl0dGVlIiwic2V0VGltZW91dCIsImJyYW5jaEluZm8iLCJhZGRpdGlvbmFsX2NvbW1pdHRlZSIsImFjdGl2YXRpb24iLCJjb25zb2xlIiwiYWN0aXZlUHJvZmlsZSIsInNhdmVUZWxsZXJFcnJvck1zZyIsImJhbmtUZWxsZXJJbmZvIiwic2F2ZVRlbGxlckVycm9yIiwiQWN0aXZhdGlvbkVycm9yTXNnIiwicHJlZmVycmVkQ29tbWl0dGVlIiwidGVsbGVyRG9jIiwibG9nIiwiZG9jTG9jYXRpb24iLCJnZXRDdXJyZW50QmFua1RlbGxlciIsInVzZXJCYW5rVGVsbGVyIiwicHJvZmlsZUN0cmwiLCJ3ZWxjb21lQ3RybCIsInNpdGVjb250cm9sbEN0cmwiLCJhZFNpdGUiLCJhZGRDb21taXR0ZWVFcnJvciIsImFkZENvbW1pdHRlZVN1Y2Nlc3NNc2ciLCJhZGRDb21taXR0ZWVFcnJvck1zZyIsInNob3dDb21taXR0ZWUiLCJjb21taXR0ZWVMaXN0IiwiY29tbWl0dGVlRXJyb3JNc2ciLCJjb21taXR0ZWVFcnJvciIsInJlbW92ZUxpc3QiLCJhbGVydCIsImV2ZW50RW5kcyIsImV2ZW50VGl0bGUiLCJldmVudERldGFpbHMiLCJldmVudEFkZEVycm9yIiwic2hvd0V2ZW50RXJyb3IiLCJzaG93RXZlbnRFcnJvck1zZyIsImV2ZW50QWRkRXJyb3JNc2ciXSwibWFwcGluZ3MiOiJBQVFBLGNBRUEsV0FDSUEsUUFDS0MsT0FBTyxVQUFXLGFBQWMsVUFBVyxxQkFHaERDLFFBQVNBLGlCQUFULG9CQUdZQyxTQUFBQSxFQUFhQyxHQUNiQyxFQUNBQyxLQUFBQSxLQUVFSCxZQUFBLGlDQUNGQSxXQUFhLGNBRVhHLGFBQVcsUUFFYkQsS0FBQUEsbUJBQ0FDLFlBQWMsNENBR2RILEtBQUFBLFdBQ0FFLFlBQVksMEJBQ1pDLFdBQWMsYUFFWkEsYUFBWSxVQUVkRCxLQUFBQSxXQUNBQyxZQUFjLDBCQUVaRCxXQUFTLGFBQ1hGLGFBQWEsUUFFYkcsS0FBQUEsWUFFRUgsWUFBQSw0QkFDRkEsV0FBYSxjQUNiRSxhQUFZLFVBR2ZFLEtBQUssU0FDRkosWUFBYSxzQkFDYkUsV0FBWSxXQUNaQyxhQUFjLFFBR2RILEtBQUFBLGlCQUNBRSxZQUFZLDRDQUNaQyxXQUFjLG1CQUVaQSxhQTVDVixXQThDUUQsS0FBQUEsaUJBQ0FDLFlBQWMsNENBRVpELFdBQVcsbUJBQ2JG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ZSxlQUFvQmhOLEVBRTFCaU0sRUFBSWpNLGlCQUFKLEVBR0o4SyxXQUFBLFdBRUVtQixFQUFBakssYUFDSStLLFFBZG5CcE0sTUFBQSxTQUFBMEMsR0FMWTRJLEVBQU9hLGVBQWdCLEVBd0I1QjNLLEVBQVA4SyxpQkFBcUI1SixLQU1MNEksRUFBQUEsVUFBT2UsV0FDVjFLLEVBRUd3SSxZQUNJbUIsS0FBQUEsU0FBQUEsR0FDRGpNLEVBRkhOLEtBQUF3RCxPQUdIK0ksRUFBQWMsZ0JBQUEsRUFFRWQsRUFBQWUsa0JBQU9oTixFQUFBTixLQUFBd0QsT0FibEJsRCxFQUFBTixLQUFBRCxVQURKd00sRUFBQWMsZ0JBQUEsRUFvQkNkLEVBQUF2RixPQUFBMUcsRUFBQU4sS0FBQWdILFVBSUovRixNQUFBLFNBQUEwQyxHQUNjNEksRUFBQWMsZ0JBQWYsRUFDSGQsRUFBQWUsa0JBQUEzSixLQTFCTzRJLEVBQU85SixZQUFjLFNBQUNFLEdBQ2xCQyxFQUNLSCxZQUFZRSxHQUNaeEIsS0FBSyxTQUFBYixHQUNFQSxFQUFTTixLQUFLd0QsT0FDZCtJLEVBQU9jLGdCQUFpQixFQUN4QmQsRUFBT2Usa0JBQW9CaE4sRUFBU04sS0FBS3dELE9BRXBDbEQsRUFBU04sS0FBS0QsU0FDbkJxTCxXQUFXLFdBQ1BtQixFQUFPakssYUFDUixPQUdWckIsTUFBTSxTQUFBMEMsR0FDSDZILFFBQVFRLElBQUlySSxPQU14QjZCLEVBQVVNLEtBQUssWUFJbkJOLEVBQVVNLEtBQUssV0FuS3ZCaEksUUFDS0MsT0FBTyxVQUdadU8sV0FBQUEsbUJBQTRCQSxHQUU1QkEsRUFBU0EsU0FBaUJsTSxpQkFBZ0JvRixZQUFXNUMsa0JBUnpEIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCBlbnRyeSBwb2ludCBmb3IgYW5ndWxhciBmcm9udC1lbmRcbnwgQGF1dGhvcjogamFoaWQgaGFxdWUgPGphaGlkLmhhcXVlQHlhaG9vLmNvbT5cbnwgQGNvcHlyaWdodDogbmJhLXNscCwgMjAxN1xufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25iYXNscCcsIFsnbmdSZXNvdXJjZScsICduZ1JvdXRlJywgJzcyMGtiLmRhdGVwaWNrZXInXSlcbiAgICAgICAgLmNvbmZpZyhbJyRyb3V0ZVByb3ZpZGVyJywgJyRsb2NhdGlvblByb3ZpZGVyJywgY29uZmlnXSk7XG5cbiAgICBmdW5jdGlvbiBjb25maWcoJHJvdXRlUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyKSB7XG4gICAgICAgICRyb3V0ZVByb3ZpZGVyXG4gICAgICAgICAgICAud2hlbignLycsIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2hvbWUvd2VsY29tZS93ZWxjb21lLnZpZXcuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3dlbGNvbWVDdHJsJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICd3dm0nLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC53aGVuKCcvY291bmNpbG1lbWJlcnMnLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb3VuY2lsbWVtYmVycy9jb3VuY2lsbWVtYmVycy52aWV3Lmh0bWwnLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC53aGVuKCcvc2lnbnVwJywge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnc2lnbnVwL3NpZ251cC52aWV3Lmh0bWwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdzaWdudXBDdHJsJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdyZWd2bScsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLndoZW4oJy9zaWduaW4nLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdzaWduaW4vc2lnbmluLnZpZXcuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3NpZ25pbkN0cmwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2x2bScsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLndoZW4oJy9wcm9maWxlJywge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncHJvZmlsZS9wcm9maWxlLnZpZXcuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3Byb2ZpbGVDdHJsJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdwcm92bScsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLndoZW4oJy9oZWxwJywge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnaGVscC9oZWxwLnZpZXcuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2hlbHBDdHJsJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdodm0nLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC53aGVuKCcvc2l0ZWNvbnRyb2xsJywge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnYWRtaW4vc2l0ZWNvbnRyb2xsL3NpdGVjb250cm9sbC52aWV3Lmh0bWwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdzaXRlY29udHJvbGxDdHJsJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdhZFNpdGUnLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC53aGVuKCcvdXNlcmNvbnRyb2xsJywge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnYWRtaW4vdXNlcmNvbnRyb2xsL3VzZXJjb250cm9sbC52aWV3Lmh0bWwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd1c2VyY29udHJvbGxDdHJsJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICd1c2Vydm0nLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC53aGVuKCcvd2VsY29tZScsIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3dlbGNvbWUvd2VsY29tZS52aWV3Lmh0bWwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd3ZWxjb21lQ3RybCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnd3ZtJyxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAud2hlbignL2NvbW1pdHRlZXMnLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21taXR0ZWVzL2NvbW1pdHRlZXMudmlldy5odG1sJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnY29tbWl0dGVlc0N0cmwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2N2bScsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLndoZW4oJy9ldmVudHMnLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdldmVudHMvZXZlbnRzLnZpZXcuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2V2ZW50c0N0cmwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2V2bScsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLndoZW4oJy9hYm91dHVzJywge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnYWJvdXR1cy9hYm91dHVzLnZpZXcuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2Fib3V0dXNDdHJsJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdhYnZtJyxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAud2hlbignL2NvbnRhY3R1cycsIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbnRhY3R1cy9jb250YWN0dXMudmlldy5odG1sJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnY29udGFjdHVzQ3RybCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnY3ZtJyxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh7XG4gICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICB9XG59KSgpO1xuIiwiLypcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG58IHNldHRpbmcgdXAgYXV0aGVudGljYXRpb24gc2VydmljZSBcbnwgQGF1dGhvcjogamFoaWQgaGFxdWUgPGphaGlkLmhhcXVlQHlhaG9vLmNvbT5cbnwgQGNvcHlyaWdodDogbmJhLXNscCwgMjAxN1xufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ25iYXNscCcpXG4gICAgLnNlcnZpY2UoJ2F1dGhlbnRpY2F0aW9uJywgYXV0aGVudGljYXRpb24pO1xuXG5hdXRoZW50aWNhdGlvbi4kaW5qZWN0ID0gWyckd2luZG93JywgJyRodHRwJ107XG5cbmZ1bmN0aW9uIGF1dGhlbnRpY2F0aW9uKCR3aW5kb3csICRodHRwKSB7XG4vLyBzYXZpbmcgdG9rZW4uXG4gICAgY29uc3Qgc2F2ZVRva2VuID1cdGZ1bmN0aW9uICh0b2tlbikge1xuICAgICAgICAkd2luZG93LmxvY2FsU3RvcmFnZVsnbmJhc2xwJ10gPSB0b2tlbjtcbiAgICB9O1xuXG4gICAgY29uc3QgZ2V0VG9rZW4gPVx0ZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gJHdpbmRvdy5sb2NhbFN0b3JhZ2VbJ25iYXNscCddO1xuICAgIH07XG5cbiAgICBjb25zdCBpc0xvZ2dlZEluID0gKCkgPT4ge1xuICAgICAgICBjb25zdCB0b2tlbiA9IGdldFRva2VuKCk7XG4gICAgICAgIGxldCBwYXlsb2FkO1xuXG4gICAgICAgIGlmICh0b2tlbikge1xuICAgICAgICAgICAgcGF5bG9hZCA9IHRva2VuLnNwbGl0KCcuJylbMV07XG4gICAgICAgICAgICBwYXlsb2FkID0gJHdpbmRvdy5hdG9iKHBheWxvYWQpO1xuICAgICAgICAgICAgcGF5bG9hZCA9IEpTT04ucGFyc2UocGF5bG9hZCk7XG4gICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBjdXJyZW50VXNlciA9ICgpID0+IHtcbiAgICAgICAgaWYgKGlzTG9nZ2VkSW4pIHtcbiAgICAgICAgICAgIGNvbnN0IHRva2VuID0gZ2V0VG9rZW4oKTtcbiAgICAgICAgICAgIGxldCBwYXlsb2FkID0gdG9rZW4uc3BsaXQoJy4nKVsxXTtcbiAgICAgICAgICAgIHBheWxvYWQgPSAkd2luZG93LmF0b2IocGF5bG9hZCk7XG4gICAgICAgICAgICBwYXlsb2FkID0gSlNPTi5wYXJzZShwYXlsb2FkKTtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1c2VySWQ6IHBheWxvYWQuX2lkLFxuICAgICAgICAgICAgICAgIGVtYWlsOiBwYXlsb2FkLmVtYWlsLFxuICAgICAgICAgICAgICAgIGFjY291bnRTdGF0dXM6IHBheWxvYWQuYWNjb3VudFN0YXR1cyxcbiAgICAgICAgICAgICAgICBhY2NvdW50VHlwZTogcGF5bG9hZC5hY2NvdW50VHlwZSxcbiAgICAgICAgICAgICAgICBhY2NvdW50SWQ6IHBheWxvYWQudXNlcklkLFxuICAgICAgICAgICAgICAgIG5hbWU6IHBheWxvYWQubmFtZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgTG9nb3V0ID0gKCkgPT4ge1xuICAgICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCduYmFzbHAnKTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2lnblVwID0gKHVzZXIpID0+IHtcbiAgICAgICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvc2lnbnVwJywgdXNlcikuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgc2F2ZVRva2VuKGRhdGEudG9rZW4pO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2lnbkluID0gKHVzZXIpID0+IHtcbiAgICAgICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvc2lnbmluJywgdXNlcikuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgc2F2ZVRva2VuKGRhdGEudG9rZW4pO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlU3VjY2VzcyA9IChyZXNwb25zZSkgPT4gcmVzcG9uc2U7XG5cbiAgICBjb25zdCBoYW5kbGVFcnJvciA9IChyZXNwb25zZSkgPT4gcmVzcG9uc2U7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBjdXJyZW50VXNlcjogY3VycmVudFVzZXIsXG4gICAgICAgIHNhdmVUb2tlbjogc2F2ZVRva2VuLFxuICAgICAgICBnZXRUb2tlbjogZ2V0VG9rZW4sXG4gICAgICAgIGlzTG9nZ2VkSW46IGlzTG9nZ2VkSW4sXG4gICAgICAgIHNpZ25VcDogc2lnblVwLFxuICAgICAgICBzaWduSW46IHNpZ25JbixcbiAgICAgICAgTG9nb3V0OiBMb2dvdXQsXG4gICAgfTtcbn1cblxuIiwiLypcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG58IHNldHRpbmcgdXAgYWNjb3VudCBzZXJ2aWNlIGZvciBhcHBcbnwgQGF1dGhvcjogamFoaWQgaGFxdWUgPGphaGlkLmhhcXVlQHlhaG9vLmNvbT5cbnwgQGNvcHlyaWdodDogbmJhLXNscCwgMjAxN1xufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25iYXNscCcpXG4gICAgICAgIC5zZXJ2aWNlKCdhY2NvdW50JywgYWNjb3VudCk7XG5cbiAgICBhY2NvdW50LiRpbmplY3QgPSBbJyR3aW5kb3cnLCAnJGh0dHAnXTtcblxuICAgIGZ1bmN0aW9uIGFjY291bnQoJHdpbmRvdywgJGh0dHApIHtcblxuICAgICAgICBjb25zdCBjcmVhdGVBY3RpdmF0aW9uQ29kZSA9ICh1c2VySWQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cCBcbiAgICAgICAgICAgICAgICAucG9zdCgnL2FwaS8nICsgdXNlcklkICsgJy9nZW5lcmF0ZXZhbGlkYXRpb25jb2RlJylcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgdmFsaWRhdGVBY3RpdmF0aW9uQ29kZSA9ICh1c2VySWQsIGNvZGUpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cCBcbiAgICAgICAgICAgICAgICAucG9zdCgnL2FwaS8nICsgdXNlcklkICsgJy8nICsgY29kZSArICcvdmFsaWRhdGUnKVxuICAgICAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBnZXRBY2NvdW50U3RhdHVzZXMgPSAodXNlcklkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAgXG4gICAgICAgICAgICAgICAgLmdldCgnL2FwaS8nICsgdXNlcklkICsgJy9zdGF0dXNlcycpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGdldENvbW1pdHRlZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cFxuICAgICAgICAgICAgICAgIC5nZXQoJy9hcGkvc2hvd2NvbW1pdHRlZScpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHVwZGF0ZVVzZXJTdGF0dXMgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwXG4gICAgICAgICAgICAgICAgLnBvc3QoJy9hcGkvdXNlcnN0YXR1cycsIGRhdGEpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHNhdmVCYXNpY0luZm8gPSAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwIFxuICAgICAgICAgICAgICAgIC5wb3N0KCcvYXBpL2NyZWF0ZWJhc2ljcHJvZmlsZScsIGRhdGEpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHNhdmVCcmFuY2hJbmZvID0gKHVzZXJJZCwgZGF0YSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwXG4gICAgICAgICAgICAgICAgLnBvc3QoJy9hcGkvJyArIHVzZXJJZCArICcvc2F2ZWJyYW5jaGluZm8nLCBkYXRhKVxuICAgICAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCB1cGxvYWRUZWxsZXJEb2NzID0gKGZpbGUsIHVzZXJJZCkgPT4ge1xuICAgICAgICAgICAgdmFyIGZkID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgICAgICAgICBmZC5hcHBlbmQoJ3RlbGxlckRvYycsIGZpbGUpO1xuXG4gICAgICAgICAgICByZXR1cm4gJGh0dHBcbiAgICAgICAgICAgICAgICAucG9zdCgnL2FwaS9kb2N1cGxvYWQvJyArIHVzZXJJZCwgZmQsIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtUmVxdWVzdDogYW5ndWxhci5pZGVudGl0eSxcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogdW5kZWZpbmVkIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBzYXZlQmFua1RlbGxlciA9ICh0ZWxsZXIpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cFxuICAgICAgICAgICAgICAgIC5wb3N0KCcvYXBpL3NhdmViYW5rdGVsbGVyJywgdGVsbGVyKVxuICAgICAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBnZXRCYW5rVGVsbGVyID0gKHVzZXJJZCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwIFxuICAgICAgICAgICAgICAgIC5nZXQoJy9hcGkvJyArIHVzZXJJZCArICcvYmFua3RlbGxlcicpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qXG4gICAgICAgIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIHwgRm9sbG93aW5nIGZ1bmN0aW9uIHdpbGwgbG9hZCBhbGwgZGF0YSBmb3IgdXNlclxuICAgICAgICB8IGJhc2VkIG9uIGdpdmVuIHVzZXJFbWFpbCBhbmQgY29sbGVjdGlvbiBuYW1lXG4gICAgICAgIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICovXG4gICAgICAgIGNvbnN0IGxvYWRVc2VySW5mbyA9IChjb2xsZWN0aW9uTmFtZSwgdXNlcklkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAgXG4gICAgICAgICAgICAgICAgLmdldCgnL2FwaS8nICsgdXNlcklkICsgJy8nICsgY29sbGVjdGlvbk5hbWUgKyAnL3VzZXJpbmZvJylcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgaGFuZGxlU3VjY2VzcyA9IChyZXNwb25zZSkgPT4gcmVzcG9uc2U7XG5cbiAgICAgICAgY29uc3QgaGFuZGxlRXJyb3IgPSAocmVzcG9uc2UpID0+IHJlc3BvbnNlO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB1cGxvYWRUZWxsZXJEb2NzOiB1cGxvYWRUZWxsZXJEb2NzLFxuICAgICAgICAgICAgY3JlYXRlQWN0aXZhdGlvbkNvZGU6IGNyZWF0ZUFjdGl2YXRpb25Db2RlLFxuICAgICAgICAgICAgdmFsaWRhdGVBY3RpdmF0aW9uQ29kZTogdmFsaWRhdGVBY3RpdmF0aW9uQ29kZSxcbiAgICAgICAgICAgIGdldEFjY291bnRTdGF0dXNlczogZ2V0QWNjb3VudFN0YXR1c2VzLFxuICAgICAgICAgICAgdXBkYXRlVXNlclN0YXR1czogdXBkYXRlVXNlclN0YXR1cyxcbiAgICAgICAgICAgIHNhdmVCYXNpY0luZm86IHNhdmVCYXNpY0luZm8sXG4gICAgICAgICAgICBzYXZlQnJhbmNoSW5mbzogc2F2ZUJyYW5jaEluZm8sXG4gICAgICAgICAgICBsb2FkVXNlckluZm86IGxvYWRVc2VySW5mbyxcbiAgICAgICAgICAgIGdldENvbW1pdHRlZTogZ2V0Q29tbWl0dGVlLFxuICAgICAgICAgICAgc2F2ZUJhbmtUZWxsZXI6IHNhdmVCYW5rVGVsbGVyLFxuICAgICAgICAgICAgZ2V0QmFua1RlbGxlcjogZ2V0QmFua1RlbGxlcixcbiAgICAgICAgfTtcbiAgICB9XG5cbn0pKCk7XG4iLCIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCBzZXJ2aWNlIGZvciBzaXRlLWNvbnRyb2xsZXIgZm9yIGFkbWluXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5iYS1zbHAsIDIwMThcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbihmdW5jdGlvbiAoKSB7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25iYXNscCcpXG4gICAgICAgIC5zZXJ2aWNlKCdzaXRlY29udHJvbGxlcicsIHNpdGVjb250cm9sbGVyKTtcblxuICAgIHNpdGVjb250cm9sbGVyLiRpbmplY3QgPSBbJyRodHRwJ107XG5cbiAgICBmdW5jdGlvbiBzaXRlY29udHJvbGxlcigkaHR0cCkge1xuICAgICAgICBcbiAgICAgICAgY29uc3QgYWRkUHJlZmVycmVkQ29tbWl0dGVlID0gKGRhdGEpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cFxuICAgICAgICAgICAgICAgIC5wb3N0KCcvYXBpL2NyZWF0ZWNvbW1pdHRlZScsIGRhdGEpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHNob3dBbGxDb21taXR0ZWUgPSAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHBcbiAgICAgICAgICAgICAgICAuZ2V0KCcvYXBpL3Nob3djb21taXR0ZWUnKVxuICAgICAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCByZW1vdmVDb21taXR0ZWUgPSAoY29tbWl0dGVlSWQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cCBcbiAgICAgICAgICAgICAgICAuZGVsZXRlKCcvYXBpLycgKyBjb21taXR0ZWVJZCArICcvcmVtb3ZlY29tbWl0dGVlJylcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgYWRkRXZlbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cCBcbiAgICAgICAgICAgICAgICAucG9zdCgnL2FwaS9ldmVudCcsIGV2ZW50KVxuICAgICAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBzaG93RXZlbnQgPSAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHBcbiAgICAgICAgICAgICAgICAuZ2V0KCcvYXBpL3Nob3dFdmVudCcpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHJlbW92ZUV2ZW50ID0gKGV2ZW50SWQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cFxuICAgICAgICAgICAgICAgIC5kZWxldGUoJy9hcGkvJyArIGV2ZW50SWQgKyAnL2V2ZW50JylcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgaGFuZGxlU3VjY2VzcyA9IChyZXNwb25zZSkgPT4gcmVzcG9uc2U7XG5cbiAgICAgICAgY29uc3QgaGFuZGxlRXJyb3IgPSAocmVzcG9uc2UpID0+IHJlc3BvbnNlO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhZGRQcmVmZXJyZWRDb21taXR0ZWU6IGFkZFByZWZlcnJlZENvbW1pdHRlZSxcbiAgICAgICAgICAgIHNob3dBbGxDb21taXR0ZWU6IHNob3dBbGxDb21taXR0ZWUsXG4gICAgICAgICAgICByZW1vdmVDb21taXR0ZWU6IHJlbW92ZUNvbW1pdHRlZSxcbiAgICAgICAgICAgIGFkZEV2ZW50OiBhZGRFdmVudCxcbiAgICAgICAgICAgIHNob3dFdmVudDogc2hvd0V2ZW50LFxuICAgICAgICAgICAgcmVtb3ZlRXZlbnQ6IHJlbW92ZUV2ZW50LFxuICAgICAgICB9O1xuXG4gICAgfVxuXG59KSgpO1xuIiwiLypcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG58IHNldHRpbmcgdXAgdXNlciBjb250cm9sbGVyIHNlcnZpY2VcbnwgQGF1dGhvcjogamFoaWQgaGFxdWUgPGphaGlkLmhhcXVlQHlhaG9vLmNvbT5cbnwgQGNvcHlyaWdodDogbmJhLXNscCwgMjAxOFxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25iYXNscCcpXG4gICAgICAgIC5zZXJ2aWNlKCd1c2VyY29udHJvbGxlcicsIHVzZXJjb250cm9sbGVyKTtcblxuICAgIHVzZXJjb250cm9sbGVyLiRpbmplY3QgPSBbJyRodHRwJ107XG5cbiAgICBmdW5jdGlvbiB1c2VyY29udHJvbGxlcigkaHR0cCkge1xuXG5cbiAgICAgICAgY29uc3Qgc2hvd01lbWJlcnMgPSAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHBcbiAgICAgICAgICAgICAgICAuZ2V0KCcvYXBpL21lbWJlcnMnKVxuICAgICAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBzaG93U2luZ2xlTWVtYmVyID0gKG1lbWJlcklkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAgXG4gICAgICAgICAgICAgICAgLmdldCgnL2FwaS8nICsgbWVtYmVySWQgKyAnL21lbWJlcicpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHNob3dNZW1iZXJQcm9maWxlID0gKG1lbWJlcklkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAgXG4gICAgICAgICAgICAgICAgLmdldCgnL2FwaS8nICsgbWVtYmVySWQgKyAnL3Byb2ZpbGUnKVxuICAgICAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBzaG93TWVtYmVyQnJhbmNoID0gKG1lbWJlcklkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAgXG4gICAgICAgICAgICAgICAgLmdldCgnL2FwaS8nICsgbWVtYmVySWQgKyAnL2JyYW5jaCcpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG5cbiAgICAgICAgY29uc3QgaGFuZGxlU3VjY2VzcyA9IChyZXNwb25zZSkgPT4gcmVzcG9uc2U7XG5cbiAgICAgICAgY29uc3QgaGFuZGxlRXJyb3IgPSAocmVzcG9uc2UpID0+IHJlc3BvbnNlO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzaG93TWVtYmVyczogc2hvd01lbWJlcnMsXG4gICAgICAgICAgICBzaG93U2luZ2xlTWVtYmVyOiBzaG93U2luZ2xlTWVtYmVyLFxuICAgICAgICAgICAgc2hvd01lbWJlclByb2ZpbGU6IHNob3dNZW1iZXJQcm9maWxlLFxuICAgICAgICAgICAgc2hvd01lbWJlckJyYW5jaDogc2hvd01lbWJlckJyYW5jaCxcbiAgICAgICAgfTtcbiAgICB9XG5cbn0pKCk7IiwiLypcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG58IHNldHRpbmcgdXAgdXNlciBjb250cm9sbGVyIGZvciB0aGUgYXBwXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5iYS1zbHAsIDIwMThcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbihmdW5jdGlvbiAoKSB7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25iYXNscCcpXG4gICAgICAgIC5jb250cm9sbGVyKCd1c2VyY29udHJvbGxDdHJsJywgdXNlcmNvbnRyb2xsQ3RybCk7XG5cbiAgICB1c2VyY29udHJvbGxDdHJsLiRpbmplY3QgPSBbJ3VzZXJjb250cm9sbGVyJywgJ2FjY291bnQnLCAnJHJvdXRlUGFyYW1zJ107XG5cbiAgICBmdW5jdGlvbiB1c2VyY29udHJvbGxDdHJsKHVzZXJjb250cm9sbGVyLCBhY2NvdW50LCAkcm91dGVQYXJhbXMpIHtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHVzZXJ2bSA9IHRoaXM7XG5cbiAgICAgICAgdXNlcmNvbnRyb2xsZXJcbiAgICAgICAgICAgIC5zaG93TWVtYmVycygpXG4gICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdXNlcnZtLnNob3dNZW1iZXJFcnJvciA9IHRydWU7IFxuICAgICAgICAgICAgICAgICAgICB1c2Vydm0uc2hvd01lbWJlckVycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjsgXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB1c2Vydm0ubWVtYmVycyA9IHJlc3BvbnNlLmRhdGEubWVtYmVycztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgdXNlcnZtLnNob3dNZW1iZXJFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgdXNlcnZtLnNob3dNZW1iZXJFcnJvck1zZyA9IGVycjtcbiAgICAgICAgICAgIH0pO1xuXG5cbiAgICAgICAgLy8gaW5pdGlhbCBmdW5jdGlvbiB0byBjaGVjayB3aGV0aGVyIHVzZXIgY2xpY2tlZCBhbnkgbWVtYmVyIG5hbWVcbiAgICAgICAgdXNlcnZtLmNoZWNrUm91dGVzID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCRyb3V0ZVBhcmFtcy52KSB7XG4gICAgICAgICAgICAgICAgdXNlcnZtLmNsaWNrZWRNZW1iZXJOYW1lID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHVzZXJ2bS5jbGlja2VkTWVtYmVyTmFtZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG5cbiAgICAgICAgLypcbiAgICAgICAgfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgfCBGb2xsb3dpbmcgZnVuY3Rpb24gd2lsbCBnZXQgaW5kaXZpZHVhbCBtZW1iZXInc1xuICAgICAgICB8IGRldGFpbHNcbiAgICAgICAgfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgKi9cbiAgICAgICAgdXNlcnZtLmxvYWRVc2VySW5mbyA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1lbWVicklkID0gJHJvdXRlUGFyYW1zLnY7XG5cbiAgICAgICAgICAgIHVzZXJjb250cm9sbGVyXG4gICAgICAgICAgICAgICAgLnNob3dTaW5nbGVNZW1iZXIobWVtZWJySWQpXG4gICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcnZtLnNpbmdsZU1lbWJlckxvYWRpbmdFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2Vydm0uc2luZ2xlTWVtYmVyTG9hZGluZ0Vycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5zaW5nbGVNZW1iZXJMb2FkaW5nRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5zaW5nbGVNZW1iZXIgPSByZXNwb25zZS5kYXRhLm1lbWJlcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5zaW5nbGVNZW1iZXJMb2FkaW5nRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB1c2Vydm0uc2luZ2xlTWVtYmVyTG9hZGluZ0Vycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHVzZXJ2bS5sb2FkVXNlclByb2ZpbGUgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBtZW1lYnJJZCA9ICRyb3V0ZVBhcmFtcy52O1xuXG4gICAgICAgICAgICB1c2VyY29udHJvbGxlclxuICAgICAgICAgICAgICAgIC5zaG93TWVtYmVyUHJvZmlsZShtZW1lYnJJZClcbiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2Vydm0ucHJvZmlsZUxvYWRpbmdFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2Vydm0ucHJvZmlsZUxvYWRpbmdFcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2Vydm0ucHJvZmlsZUxvYWRpbmdFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcnZtLm1lbWJlclByb2ZpbGUgPSByZXNwb25zZS5kYXRhLnByb2ZpbGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICB1c2Vydm0ucHJvZmlsZUxvYWRpbmdFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5wcm9maWxlTG9hZGluZ0Vycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHVzZXJ2bS5sb2FkVXNlckJyYW5jaCA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1lbWVicklkID0gJHJvdXRlUGFyYW1zLnY7XG5cbiAgICAgICAgICAgIHVzZXJjb250cm9sbGVyXG4gICAgICAgICAgICAgICAgLnNob3dNZW1iZXJCcmFuY2gobWVtZWJySWQpXG4gICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcnZtLmJyYW5jaExvYWRpbmdFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2Vydm0uYnJhbmNoTG9hZGluZ0Vycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5icmFuY2hMb2FkaW5nRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5tZW1iZXJCcmFuY2ggPSByZXNwb25zZS5kYXRhLmJyYW5jaDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5icmFuY2hMb2FkaW5nRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB1c2Vydm0uYnJhbmNoTG9hZGluZ0Vycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHVzZXJ2bS5sb2FkQmFua1RlbGxlciA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1lbWVicklkID0gJHJvdXRlUGFyYW1zLnY7XG5cbiAgICAgICAgICAgIGFjY291bnRcbiAgICAgICAgICAgICAgICAuZ2V0QmFua1RlbGxlcihtZW1lYnJJZClcbiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2Vydm0uYmFua1RlbGxlckxvYWRpbmdFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2Vydm0uYmFua1RlbGxlckxvYWRpbmdFcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2Vydm0uYmFua1RlbGxlckxvYWRpbmdFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcnZtLm1lbWJlcmJhbmtUZWxsZXIgPSByZXNwb25zZS5kYXRhLmJhbmtUZWxsZXI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICB1c2Vydm0uYmFua1RlbGxlckxvYWRpbmdFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5iYW5rVGVsbGVyTG9hZGluZ0Vycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgIH1cblxuXG59KSgpOyIsIi8qXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBzZXR0aW5nIHVwIHN5c3RlbSBzZXJ2aWNlIGZvciB0aGUgYXBwXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5hYi1zbHAsIDIwMThcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbihmdW5jdGlvbiAoKSB7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25iYXNscCcpXG4gICAgICAgIC5zZXJ2aWNlKCdzeXN0ZW1TZXJ2aWNlJywgc3lzdGVtU2VydmljZSk7XG4gICAgICAgIFxuICAgIHN5c3RlbVNlcnZpY2UuJGluamVjdCA9IFsnJGh0dHAnXTtcblxuICAgIGZ1bmN0aW9uIHN5c3RlbVNlcnZpY2UoJGh0dHApIHtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHNlbmRDb250YWN0TWVzc2FnZSA9IChtZXNzYWdlKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHBcbiAgICAgICAgICAgICAgICAucG9zdCgnL2FwaS9zZW5kbWVzc2FnZScsIG1lc3NhZ2UpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGhhbmRsZVN1Y2Nlc3MgPSAocmVzcG9uc2UpID0+IHJlc3BvbnNlO1xuXG4gICAgICAgIGNvbnN0IGhhbmRsZUVycm9yID0gKHJlc3BvbnNlKSA9PiByZXNwb25zZTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2VuZENvbnRhY3RNZXNzYWdlOiBzZW5kQ29udGFjdE1lc3NhZ2UsXG4gICAgICAgIH07XG4gICAgfVxuXG59KSgpOyIsIi8qXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBzZXR0aW5nIHVwIG5hdmlnYXRpb24gZGlyZWN0aXZlIGZvciB0aGUgYXBwXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5iYXNscCwgMjAxN1xufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25iYXNscCcpXG4gICAgICAgIC5kaXJlY3RpdmUoJ3NpdGVOYXYnLCBzaXRlTmF2KTtcblxuICAgIGZ1bmN0aW9uIHNpdGVOYXYoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tbW9uL2RpcmVjdGl2ZXMvbmF2L3NpdGUtbmF2LnRlbXBsYXRlLmh0bWwnLFxuICAgICAgICAgICAgY29udHJvbGxlcjogJ25hdkN0cmwgYXMgbnZtJyxcbiAgICAgICAgfTtcbiAgICB9XG59KSgpO1xuIiwiLypcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG58IHNldHRpbmcgdXAgY29udHJvbGxlciBmb3IgbmF2aWdhdGlvblxufCBAYXV0aG9yOiBqYWhpZCBoYXF1ZSA8amFoaWQuaGFxdWVAeWFob28uY29tPlxufCBAY29weXJpZ2h0OiBuYmFzbHAsIDIwMTdcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbihmdW5jdGlvbiAoKSB7XG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCduYmFzbHAnKVxuICAgICAgICAuY29udHJvbGxlcignbmF2Q3RybCcsIG5hdkN0cmwpO1xuXG4gICAgbmF2Q3RybC4kaW5qZWN0ID0gWydhdXRoZW50aWNhdGlvbicsICckbG9jYXRpb24nXTtcblxuICAgIGZ1bmN0aW9uIG5hdkN0cmwoYXV0aGVudGljYXRpb24sICRsb2NhdGlvbikge1xuICAgICAgICBjb25zdCBudm0gPSB0aGlzO1xuXG4gICAgICAgIGlmIChhdXRoZW50aWNhdGlvbi5pc0xvZ2dlZEluKCkpIHtcbiAgICAgICAgICAgIG52bS5sb2dnZWRJblVyaSA9IHRydWU7XG4gICAgICAgICAgICBudm0ubG9nZ2VkSW5OYW1lID0gYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5uYW1lO1xuICAgICAgICAgICAgbnZtLmN1cnJlbnRBY2NvdW50VHlwZSA9IGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkuYWNjb3VudFR5cGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBudm0ubG9nZ2VkSW5VcmkgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIG52bS5sb2dvdXQgPSAoKSA9PiB7XG4gICAgICAgICAgICBhdXRoZW50aWNhdGlvbi5Mb2dvdXQoKTtcbiAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvc2lnbmluJyk7XG4gICAgICAgIH07XG4gICAgfVxufSkoKTtcbiIsIi8qXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBzZXR0aW5nIHVwIGZvb3RlciBkaXJlY3RpdmUgZm9yIGFwcGxpY2F0aW9uXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5iYXNscCwgMjAxN1xufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25iYXNscCcpXG4gICAgICAgIC5kaXJlY3RpdmUoJ3NpdGVGb290ZXInLCBzaXRlRm9vdGVyKTtcbiAgICBmdW5jdGlvbiBzaXRlRm9vdGVyKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbW1vbi9kaXJlY3RpdmVzL2Zvb3Rlci9mb290ZXIudGVtcGxhdGUuaHRtbCcsXG4gICAgICAgIH07XG4gICAgfVxufSkoKTtcbiIsIi8qXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBzZXR0aW5nIHVwIGZpbGUgdXBsb2FkIGRpcmVjdGl2ZVxufCBAYXV0aG9yOiBqYWhpZCBoYXF1ZSA8amFoaWQuaGFxdWVAeWFob28uY29tPlxufCBAY29weXJpZ2h0OiBuY2xoYWxhbCwgMjAxN1xufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG4oZnVuY3Rpb24oKXtcblx0YW5ndWxhclxuXHRcdC5tb2R1bGUoJ25iYXNscCcpXG5cdFx0LmRpcmVjdGl2ZSgnZmlsZU1vZGVsJywgZmlsZU1vZGVsKTtcblxuXHRmaWxlTW9kZWwuJGluamVjdCA9IFsnJHBhcnNlJ107XG5cblx0ZnVuY3Rpb24gZmlsZU1vZGVsKCRwYXJzZSl7XG5cdFx0cmV0dXJuIHtcbiAgICAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgJGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgICAgICB2YXIgcGFyc2VkRmlsZSA9ICRwYXJzZShhdHRycy5maWxlTW9kZWwpO1xuICAgICAgICAgICAgdmFyIHBhcnNlZEZpbGVTZXR0ZXIgPSBwYXJzZWRGaWxlLmFzc2lnbjtcbiAgICAgICAgICAgICRlbGVtZW50Lm9uKCdjaGFuZ2UnLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICBwYXJzZWRGaWxlU2V0dGVyKHNjb3BlLCAkZWxlbWVudFswXS5maWxlc1swXSk7XG4gICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgfSxcbiAgICB9O1xuXHR9XG59KSgpO1xuIiwiLypcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG58IHNldHRpbmcgdXAgc2lkZWJhciBkaXJlY3RpdmUgZm9yIHRoZSBhcHBcbnwgQGF1dGhvcjogamFoaWQgaGFxdWUgPGphaGlkLmhhcXVlQHlhaG9vLmNvbT5cbnwgQGNvcHlyaWdodDogbmJhLXNscCwgMjAxOFxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25iYXNscCcpXG4gICAgICAgIC5kaXJlY3RpdmUoJ3NpZGVCYXInLCBzaWRlQmFyKTtcblxuICAgIGZ1bmN0aW9uIHNpZGVCYXIoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tbW9uL2RpcmVjdGl2ZXMvc2lkZWJhci9zaWRlYmFyLnRlbXBsYXRlLmh0bWwnLFxuICAgICAgICB9O1xuICAgIH1cbn0pKCk7IiwiLypcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG58IHNldHRpbmcgdXAgY29udHJvbGxlciBmb3Igd2VsY29tZSBwYWdlXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5iYXNscCwgMjAxN1xufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcbiAgICBcbiAgICBhbmd1bGFyIFxuICAgICAgICAubW9kdWxlKCduYmFzbHAnKVxuICAgICAgICAuY29udHJvbGxlcignd2VsY29tZUN0cmwnLCB3ZWxjb21lQ3RybCk7XG5cbiAgICB3ZWxjb21lQ3RybC4kaW5qZWN0ID0gWydhdXRoZW50aWNhdGlvbicsICckbG9jYXRpb24nXTtcblxuICAgIGZ1bmN0aW9uIHdlbGNvbWVDdHJsKGF1dGhlbnRpY2F0aW9uLCAkbG9jYXRpb24pIHtcbiAgICAgICAgY29uc3Qgd3ZtID0gdGhpcztcbiAgICB9XG5cbn0pKCk7XG4iLCIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCBjb21taXR0ZWVzIGZvciB0aGUgYXBwXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5iYS1zbHAsIDIwMThcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbihmdW5jdGlvbiAoKSB7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25iYXNscCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdjb21taXR0ZWVzQ3RybCcsIGNvbW1pdHRlZXNDdHJsKTtcblxuICAgIGZ1bmN0aW9uIGNvbW1pdHRlZXNDdHJsKCkge1xuICAgICAgICBjb25zdCBjdm0gPSB0aGlzO1xuICAgIH1cblxufSkoKTsiLCIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCBldmVudCBjb250cm9sbGVyIGZvciB0aGUgYXBwXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5iYS1zbHAsIDIwMThcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbihmdW5jdGlvbiAoKSB7XG4gICAgXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCduYmFzbHAnKVxuICAgICAgICAuY29udHJvbGxlcignZXZlbnRzQ3RybCcsIGV2ZW50c0N0cmwpO1xuXG4gICAgZXZlbnRzQ3RybC4kaW5qZWN0ID0gWydzaXRlY29udHJvbGxlciddO1xuXG4gICAgZnVuY3Rpb24gZXZlbnRzQ3RybChzaXRlY29udHJvbGxlcikge1xuXG4gICAgICAgIGNvbnN0IGV2bSA9IHRoaXM7XG5cbiAgICAgICAgZXZtLnNob3dFdmVudHMgPSAoKSA9PiB7XG4gICAgICAgICAgICBzaXRlY29udHJvbGxlclxuICAgICAgICAgICAgICAgIC5zaG93RXZlbnQoKVxuICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2bS5ldmVudExvYWRFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBldm0uZXZlbnRMb2FkRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZtLmV2ZW50TG9hZEVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBldm0uZXZlbnRzID0gcmVzcG9uc2UuZGF0YS5ldmVudHM7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldm0uZXZlbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldm0ubm9FdmVudCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZtLm5vRXZlbnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZXZtLmV2ZW50TG9hZEVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgZXZtLmV2ZW50TG9hZEVycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgIH1cblxufSkoKTsiLCIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCBhYm91dCB1cyBjb250cm9sbGVyIGZvciBhcHBcbnwgQGF1dGhvcjogamFoaWQgaGFxdWUgPGphaGlkLmhhcXVlQHlhaG9vLmNvbT5cbnwgQGNvcHlyaWdodDogbmJhLXNscCwgMjAxOFxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcbiAgICBcbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25iYXNscCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdhYm91dHVzQ3RybCcsIGFib3V0dXNDdHJsKTtcblxuICAgIGZ1bmN0aW9uIGFib3V0dXNDdHJsKCkge1xuICAgICAgICBjb25zdCBhYnZtID0gdGhpcztcbiAgICB9XG4gXG59KSgpOyIsIi8qXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBzZXR0aW5nIHVwIGNvbnRhY3QgY29udHJvbGxlciBmb3IgdGhlIGFwcFxufCBAYXV0aG9yOiBqYWhpZCBoYXF1ZSA8amFoaWQuaGFxdWVAeWFob28uY29tPlxufCBAY29weXJpZ2h0OiBuYmEtc2xwLCAyMDE4XG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4oZnVuY3Rpb24gKCkge1xuICAgIFxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbmJhc2xwJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ2NvbnRhY3R1c0N0cmwnLCBjb250YWN0dXNDdHJsKTtcblxuICAgIGNvbnRhY3R1c0N0cmwuJGluamVjdCA9IFsnc3lzdGVtU2VydmljZSddO1xuXG4gICAgZnVuY3Rpb24gY29udGFjdHVzQ3RybChzeXN0ZW1TZXJ2aWNlKSB7XG4gICAgICAgIGNvbnN0IGN2bSA9IHRoaXM7XG5cbiAgICAgICAgY3ZtLmNvbnRhY3QgPSB7XG4gICAgICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgICAgIGVtYWlsOiAnJyxcbiAgICAgICAgICAgIG1lc3NhZ2U6ICcnLFxuICAgICAgICB9O1xuXG4gICAgICAgIGN2bS5jb250YWN0VXMgPSAoKSA9PiB7XG4gICAgICAgICAgICBzeXN0ZW1TZXJ2aWNlXG4gICAgICAgICAgICAgICAgLnNlbmRDb250YWN0TWVzc2FnZShjdm0uY29udGFjdClcbiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdm0uc2VuZE1lc3NhZ2VFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdm0uc2VuZE1lc3NhZ2VFcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdm0uc2VuZE1lc3NhZ2VTdWNjZXNzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN2bS5zZW5kTWVzc2FnZVN1Y2Nlc3NNc2cgPSAnV2UgaGF2ZSByZWNlaXZlZCB5b3VyIG1lc3NhZ2UuIFdlIHdpbGwgYmUgaW4gdG91Y2ggd2l0aCB5b3Ugc29vbic7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjdm0uc2VuZE1lc3NhZ2VFcnJvciA9IHRydWU7XHRcbiAgICAgICAgICAgICAgICAgICAgY3ZtLnNlbmRNZXNzYWdlRXJyb3JNc2cgPSBlcnI7XHRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICB9XG5cbn0pKCk7IiwiLypcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG58IHNldHRpbmcgdXAgc2lnbnVwIGNvbnRyb2xsZXIgZm9yIHRoZSBhcHBcbnwgQGF1dGhvcjogamFoaWQgaGFxdWUgPGphaGlkLmhhcXVlQHlhaG9vLmNvbT5cbnwgQGNvcHlyaWdodDogbmJhc2xwLCAyMDE3XG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4oZnVuY3Rpb24gKCkge1xuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbmJhc2xwJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ3NpZ251cEN0cmwnLCBzaWdudXBDdHJsKTtcblxuICAgIHNpZ251cEN0cmwuJGluamVjdCA9IFsnYXV0aGVudGljYXRpb24nLCAnJGxvY2F0aW9uJ107XG5cbiAgICBmdW5jdGlvbiBzaWdudXBDdHJsKGF1dGhlbnRpY2F0aW9uLCAkbG9jYXRpb24pIHtcbiAgICAgICAgY29uc3QgcmVndm0gPSB0aGlzO1xuXG4gICAgICAgIC8vIHVzZXIgb2JqZWN0LlxuICAgICAgICByZWd2bS51c2VyID0ge1xuICAgICAgICAgICAgZmlyc3ROYW1lOiAnJyxcbiAgICAgICAgICAgIGxhc3ROYW1lOiAnJyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnJyxcbiAgICAgICAgICAgIGVtYWlsOiAnJyxcbiAgICAgICAgICAgIHBhc3N3b3JkOiAnJyxcbiAgICAgICAgICAgIGNvbmZpcm1QYXNzd29yZDogJycsXG4gICAgICAgIH07XG5cbiAgICAgICAgcmVndm0ucmVnaXN0ZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICBhdXRoZW50aWNhdGlvblxuICAgICAgICAgICAgICAgIC5zaWduVXAocmVndm0udXNlcilcbiAgICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ3ZtLlJlZ2lzdHJhdGlvbkVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ3ZtLlJlZ2lzdHJhdGlvbkVycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ3ZtLlJlZ2lzdHJhdGlvbkVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL3dlbGNvbWUnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVndm0uUmVnaXN0cmF0aW9uRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVndm0uUmVnaXN0cmF0aW9uRXJyb3JNc2cgPSBlcnIuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChhdXRoZW50aWNhdGlvbi5pc0xvZ2dlZEluKCkpIHtcbiAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvd2VsY29tZScpO1xuICAgICAgICB9XG4gICAgfVxufSkoKTtcbiIsIi8qXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBzZXR0aW5nIHVwIGNvbnRyb2xsZXIgZm9yIGxvZ2luIHBhZ2VcbnwgQGF1dGhvcjogamFoaWQgaGFxdWUgPGphaGlkLmhhcXVlQHlhaG9vLmNvbT5cbnwgQGNvcHlyaWdodDogbmJhc2xwLCAyMDE3XG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4oZnVuY3Rpb24gKCkge1xuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbmJhc2xwJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ3NpZ25pbkN0cmwnLCBzaWduaW5DdHJsKTtcblxuICAgIHNpZ25pbkN0cmwuJGluamVjdCA9IFsnYXV0aGVudGljYXRpb24nLCAnJGxvY2F0aW9uJ107XG5cbiAgICBmdW5jdGlvbiBzaWduaW5DdHJsKGF1dGhlbnRpY2F0aW9uLCAkbG9jYXRpb24pIHtcbiAgICAgICAgY29uc3QgbHZtID0gdGhpcztcblxuICAgICAgICBsdm0udXNlciA9IHtcbiAgICAgICAgICAgIGVtYWlsOiAnJyxcbiAgICAgICAgICAgIHBhc3N3b3JkOiAnJyxcbiAgICAgICAgfTsgXG5cbiAgICAgICAgaWYgKGF1dGhlbnRpY2F0aW9uLmlzTG9nZ2VkSW4oKSkge1xuICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy93ZWxjb21lJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsdm0ubG9naW4gPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFsdm0udXNlci5lbWFpbCB8fCAhbHZtLnVzZXIucGFzc3dvcmQpIHtcbiAgICAgICAgICAgICAgICAgICAgbHZtLmxvZ2luRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBsdm0ubG9naW5FcnJvck1zZyA9IGBFcnJvciEgYWxsICogZmllbGRzIGFyZSByZXF1aXJlZGA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsdm0ubG9naW5FcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBsdm0uZG9Mb2dpbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGx2bS5kb0xvZ2luID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0aW9uXG4gICAgICAgICAgICAgICAgICAgIC5zaWduSW4obHZtLnVzZXIpXG4gICAgICAgICAgICAgICAgICAgIC5lcnJvcigoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsdm0ubG9naW5FcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBsdm0ubG9naW5FcnJvck1zZyA9IGVyci5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy93ZWxjb21lJyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxufSkoKTtcbiIsIi8qXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBzZXR0aW5nIHVwIGNvbnRyb2xsZXIgZm9yIHByb2ZpbGUgcGFnZVxufCBAYXV0aG9yOiBqYWhpZCBoYXF1ZSA8amFoaWQuaGFxdWVAeWFob28uY29tPlxufCBAY29weXJpZ2h0OiBuYmEtc2xwLCAyMDE3XG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4oZnVuY3Rpb24gKCkge1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCduYmFzbHAnKVxuICAgICAgICAuY29udHJvbGxlcigncHJvZmlsZUN0cmwnLCBwcm9maWxlQ3RybCk7XG5cbiAgICBwcm9maWxlQ3RybC4kaW5qZWN0ID0gWyckc2NvcGUnLCAnYXV0aGVudGljYXRpb24nLCAnJGxvY2F0aW9uJywgJ2FjY291bnQnLCAnJHJvdXRlJ107XG5cbiAgICBmdW5jdGlvbiBwcm9maWxlQ3RybCgkc2NvcGUsIGF1dGhlbnRpY2F0aW9uLCAkbG9jYXRpb24sIGFjY291bnQsICRyb3V0ZSkge1xuXG4gICAgICAgIGNvbnN0IHByb3ZtID0gdGhpcztcblxuICAgICAgICBmdW5jdGlvbiBzdGF0dXNVcGRhdGVyKHVwZGF0ZU9iamVjdCkge1xuXG4gICAgICAgICAgICAvLyBjYWxsaW5nIHNlcnZpY2UgZnVuY3Rpb24uXG4gICAgICAgICAgICBhY2NvdW50XG4gICAgICAgICAgICAgICAgLnVwZGF0ZVVzZXJTdGF0dXModXBkYXRlT2JqZWN0KVxuICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEudXBkYXRlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uc3RhdHVzVXBkYXRlRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRyb3V0ZS5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJhc2ljQWNjb3VudEluZm9FcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5iYXNpY0FjY291bnRJbmZvRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcHJvdm0uc3RhdHVzVXBkYXRlRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBwcm92bS5iYXNpY0FjY291bnRJbmZvRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYXV0aGVudGljYXRpb24uaXNMb2dnZWRJbigpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgcHJvdm0uY3VycmVudEFjY291bnRUeXBlID0gYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5hY2NvdW50VHlwZTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gY2hlY2tpbmcgYWNjb3VudCB0eXBlXG4gICAgICAgICAgICBpZiAoYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5hY2NvdW50VHlwZSA9PT0gJ2N1c3RvbWVyJykge1xuXG4gICAgICAgICAgICAgICAgcHJvdm0ucHJvZmlsZVN0YXR1cyA9IGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkuYWNjb3VudFN0YXR1cztcblxuICAgICAgICAgICAgICAgIHByb3ZtLmNvZGVSZWFkeSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHByb3ZtLnNlbmRBY3RpdmF0aW9uQ29kZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcHJvdm0uY29kZVJlYWR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgLmNyZWF0ZUFjdGl2YXRpb25Db2RlKGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkuZW1haWwpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYWN0aXZhdGlvbkNvZGVFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmFjdGl2YXRpb25Db2RlRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZFN0YXR1cyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZV9hdDogJ3Byb2ZpbGVBY3RpdmF0aW9uTWFpbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5lbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzVXBkYXRlcih1cGRhdGVkU3RhdHVzKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5jb2RlUmVhZHkgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5hY3RpdmF0aW9uQ29kZUVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmFjdGl2YXRpb25Db2RlRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmFjdGl2YXRpb25Db2RlRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLy8gZ2V0IHVzZXIgYWNjb3VudCBzdGF0dWVzIFxuICAgICAgICAgICAgICAgIHByb3ZtLmdldFByb2ZpbGVTdGF0dXNlcyA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgLmdldEFjY291bnRTdGF0dXNlcyhhdXRoZW50aWNhdGlvbi5jdXJyZW50VXNlcigpLmVtYWlsKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnN0YXR1c0xvYWRFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnN0YXR1c0xvYWRFcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5zdGF0dXNMb2FkRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0udXNlclN0YXR1c2VzID0gcmVzcG9uc2UuZGF0YS5zdGF0dXNlcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uc3RhdHVzTG9hZEVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5zdGF0dXNMb2FkRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLy8gc2F2aW5nIGJhc2ljIHByb2ZpbGUgaW5mb1xuICAgICAgICAgICAgICAgIHByb3ZtLmJhc2ljUHJvZmlsZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgd2hvczogYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5lbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgdXNlcklkOiBhdXRoZW50aWNhdGlvbi5jdXJyZW50VXNlcigpLnVzZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgZm9ybWVyTmFtZTogJycsXG4gICAgICAgICAgICAgICAgICAgIHNleDogJycsXG4gICAgICAgICAgICAgICAgICAgIHRlbGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICBhZGRyZXNzOiAnJyxcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgcHJvdm0uc2F2ZUJhc2ljSW5mbyA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgLnNhdmVCYXNpY0luZm8ocHJvdm0uYmFzaWNQcm9maWxlKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYmFzaWNBY2NvdW50SW5mb0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYmFzaWNBY2NvdW50SW5mb0Vycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkU3RhdHVzID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlX2F0OiAnYmFzaWNfaW5mbycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5lbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjYWxsaW5nIHNlcnZpY2UgZnVuY3Rpb24uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC51cGRhdGVVc2VyU3RhdHVzKHVwZGF0ZWRTdGF0dXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEudXBkYXRlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5zdGF0dXNVcGRhdGVFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm91dGUucmVsb2FkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5iYXNpY0FjY291bnRJbmZvRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5iYXNpY0FjY291bnRJbmZvRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5zdGF0dXNVcGRhdGVFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYmFzaWNBY2NvdW50SW5mb0Vycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBwcm92bS5icmFuY2ggPSB7XG4gICAgICAgICAgICAgICAgICAgIHllYXI6ICcnLFxuICAgICAgICAgICAgICAgICAgICBicmFuY2g6ICcnLFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvLyBhZGRpbmcgYnJhbmNoIGluZm9cbiAgICAgICAgICAgICAgICBwcm92bS5zYXZlQmF0Y2hJbmZvID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBhY2NvdW50XG4gICAgICAgICAgICAgICAgICAgICAgICAuc2F2ZUJyYW5jaEluZm8oYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5lbWFpbCwgcHJvdm0uYnJhbmNoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJyYW5jaEluZm9FcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJyYW5jaEluZm9FcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5icmFuY2hJbmZvRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRTdGF0dXMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVfYXQ6ICdicmFuY2gnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkuZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2FsbGluZyBzZXJ2aWNlIGZ1bmN0aW9uLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudXBkYXRlVXNlclN0YXR1cyh1cGRhdGVkU3RhdHVzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnVwZGF0ZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYnJhbmNoSW5mb0Vycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb3V0ZS5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJyYW5jaEluZm9FcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJyYW5jaEluZm9FcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJyYW5jaEluZm9FcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYnJhbmNoSW5mb0Vycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJyYW5jaEluZm9FcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYnJhbmNoSW5mb0Vycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8vIHNob3cgYmFzaWMgaW5mb1xuICAgICAgICAgICAgICAgIHByb3ZtLmxvYWRCYXNpY0luZm8gPSAoY29sbGVjdGlvbk5hbWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgLmxvYWRVc2VySW5mbyhjb2xsZWN0aW9uTmFtZSwgYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5lbWFpbClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS51c2VyQmFzaWNJbmZvTG9hZGluZ0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0udXNlckJhc2ljSW5mb0xvYWRpbmdFcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS51c2VyQmFzaWNJbmZvTG9hZGluZ0Vycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJhc2ljSW5mbyA9IHJlc3BvbnNlLmRhdGEudXNlckluZm87XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnVzZXJCYXNpY0luZm9Mb2FkaW5nRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnVzZXJCYXNpY0luZm9Mb2FkaW5nRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgcHJvdm0uZ2V0Q29tbWl0dGVlID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBhY2NvdW50XG4gICAgICAgICAgICAgICAgICAgICAgICAuZ2V0Q29tbWl0dGVlKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5jb21taXR0ZWVzID0gcmVzcG9uc2UuZGF0YS5jb21taXR0ZWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvLyBzaG93IGJyYW5jaCBpbmZvXG4gICAgICAgICAgICAgICAgcHJvdm0ubG9hZFVzZXJCcmFuY2ggPSAoY29sbGVjdGlvbk5hbWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgLmxvYWRVc2VySW5mbyhjb2xsZWN0aW9uTmFtZSwgYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5lbWFpbClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS51c2VySW5mb0xvYWRpbmdFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnVzZXJJbmZvTG9hZGluZ0Vycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnVzZXJJbmZvTG9hZGluZ0Vycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJyYW5jaEluZm8gPSByZXNwb25zZS5kYXRhLnVzZXJJbmZvO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS51c2VySW5mb0xvYWRpbmdFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0udXNlckluZm9Mb2FkaW5nRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICAgIHwgZm9sbG93aW5nIGZ1bmN0aW9uIHdpbGwgYWN0aXZlIHRoZSBwcm9maWxlIFxuICAgICAgICAgICAgICAgIHwgYmFzZWQgb24gZ2l2ZW4gY29kZVxuICAgICAgICAgICAgICAgIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBwcm92bS5hY3RpdmF0aW9uID0ge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiAnJyxcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgcHJvdm0uYWN0aXZlUHJvZmlsZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgLnZhbGlkYXRlQWN0aXZhdGlvbkNvZGUoYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5lbWFpbCwgcHJvdm0uYWN0aXZhdGlvbi5jb2RlKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLkFjdGl2YXRpb25FcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLkFjdGl2YXRpb25FcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5hY3RpdmF0aW9uU3VjY2VzcyA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2FsbGluZyB0aGUgbG9nb3V0IGZ1bmN0aW9uLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0aW9uLkxvZ291dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvdXRlLnJlbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAzMDAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uQWN0aXZhdGlvbkVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5BY3RpdmF0aW9uRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICAgIHwgRm9sbG93aW5nIGZ1bmN0aW9uIHdpbGwgaGFuZGxlIGJhbmsgdGVsbGVyIFxuICAgICAgICAgICAgICAgIHwgdXBsb2FkXG4gICAgICAgICAgICAgICAgfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHByb3ZtLmJhbmtUZWxsZXJJbmZvID0ge1xuICAgICAgICAgICAgICAgICAgICBwcmVmZXJyZWRDb21taXR0ZWU6ICcnLFxuICAgICAgICAgICAgICAgICAgICBhZGRpdGlvbmFsX2NvbW1pdHRlZTogJycsXG4gICAgICAgICAgICAgICAgICAgIHdob3M6IGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkuZW1haWwsXG4gICAgICAgICAgICAgICAgICAgIHVzZXJJZDogYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5hY2NvdW50SWQsXG4gICAgICAgICAgICAgICAgICAgIHRlbGxlckRvYzogJHNjb3BlLnRlbGxlckRvYyxcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgcHJvdm0uc2F2ZUJhbmtUZWxsZXJJbmZvID0gKCkgPT4geyAgIFxuXG4gICAgICAgICAgICAgICAgICAgIGlmICghcHJvdm0uYmFua1RlbGxlckluZm8ucHJlZmVycmVkQ29tbWl0dGVlIHx8ICFwcm92bS5iYW5rVGVsbGVySW5mby5hZGRpdGlvbmFsX2NvbW1pdHRlZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uc2F2ZVRlbGxlckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnNhdmVUZWxsZXJFcnJvck1zZyA9ICdBbGwgKiBmaWVuZHMgYXJlIHJlcXVpcmVkLiBNdXN0IG5vdCBiZSBlbXB0eSc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHByb3ZtLmJhbmtUZWxsZXJJbmZvKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC51cGxvYWRUZWxsZXJEb2NzKCRzY29wZS50ZWxsZXJEb2MsIGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkuYWNjb3VudElkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnNhdmVUZWxsZXJFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5zYXZlVGVsbGVyRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEuc3VjY2VzcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYmFua1RlbGxlckluZm8udGVsbGVyRG9jID0gcmVzcG9uc2UuZGF0YS5kb2NMb2NhdGlvbjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zYXZlQmFua1RlbGxlcihwcm92bS5iYW5rVGVsbGVySW5mbylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5zYXZlVGVsbGVyRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uc2F2ZVRlbGxlckVycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRTdGF0dXMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlX2F0OiAnYmFua3RlbGxlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkuZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1c1VwZGF0ZXIodXBkYXRlZFN0YXR1cyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb3V0ZS5yZWxvYWQoKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnNhdmVUZWxsZXJFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnNhdmVUZWxsZXJFcnJvck1zZyA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnNhdmVUZWxsZXJFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnNhdmVUZWxsZXJFcnJvck1zZyA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAgICAgfCBGb2xsb3dpbmcgZnVuY3Rpb24gd2lsbCBnZXQgbGF0ZXN0IGJhbmsgdGVsbGVyXG4gICAgICAgICAgICAgICAgfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHByb3ZtLmdldEN1cnJlbnRCYW5rVGVsbGVyID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBhY2NvdW50XG4gICAgICAgICAgICAgICAgICAgICAgICAuZ2V0QmFua1RlbGxlcihhdXRoZW50aWNhdGlvbi5jdXJyZW50VXNlcigpLmVtYWlsKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJhbmtUZWxsZXJMb2FkaW5nRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5iYW5rVGVsbGVyTG9hZGluZ0Vycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJhbmtUZWxsZXJMb2FkaW5nRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0udXNlckJhbmtUZWxsZXIgPSByZXNwb25zZS5kYXRhLmJhbmtUZWxsZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJhbmtUZWxsZXJMb2FkaW5nRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJhbmtUZWxsZXJMb2FkaW5nRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChhdXRoZW50aWNhdGlvbi5jdXJyZW50VXNlcigpLmFjY291bnRUeXBlID09PSAnYWRtaW4nKSB7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvc2lnbmluJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbn0pKCk7XG4iLCIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCBjb250cm9sbGVyIGZvciBzaXRlLWNvbnRyb2xsIHBhZ2VcbnwgQGF1dGhvcjogamFoaWQgaGFxdWUgPGphaGlkLmhhcXVlQHlhaG9vLmNvbT5cbnwgQGNvcHlyaWdodDogbmJhLXNscCwgMjAxOFxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbmJhc2xwJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ3NpdGVjb250cm9sbEN0cmwnLCBzaXRlY29udHJvbGxDdHJsKTtcblxuICAgIHNpdGVjb250cm9sbEN0cmwuJGluamVjdCA9IFsnYXV0aGVudGljYXRpb24nLCAnJGxvY2F0aW9uJywgJ3NpdGVjb250cm9sbGVyJ107XG5cbiAgICBmdW5jdGlvbiBzaXRlY29udHJvbGxDdHJsKGF1dGhlbnRpY2F0aW9uLCAkbG9jYXRpb24sIHNpdGVjb250cm9sbGVyKSB7XG4gICAgICAgIGNvbnN0IGFkU2l0ZSA9IHRoaXM7XG5cbiAgICAgICBcbiAgICAgICAgaWYgKGF1dGhlbnRpY2F0aW9uLmlzTG9nZ2VkSW4oKSkge1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5hY2NvdW50VHlwZSA9PT0gJ2FkbWluJykge1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGFkU2l0ZS5jb21taXR0ZWUgPSB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICcnLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgLy8gYWRkIGNvbW1pdHRlZVxuICAgICAgICAgICAgICAgIGFkU2l0ZS5hZGRQcmVmZXJyZWRDb21taXR0ZWUgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNpdGVjb250cm9sbGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkUHJlZmVycmVkQ29tbWl0dGVlKGFkU2l0ZS5jb21taXR0ZWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmFkZENvbW1pdHRlZUVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmFkZENvbW1pdHRlZUVycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5hZGRDb21taXR0ZWVFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuYWRkQ29tbWl0dGVlU3VjY2Vzc01zZyA9ICdDb21taXR0ZWUgc3VjY2Vzc2Z1bGx5IGFkZGVkJztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXQgdGltZSBvdXQgYW5kIGNhbGwgc2hvdyBjb21taXR0ZWUgbWV0aG9kLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5zaG93Q29tbWl0dGVlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDIwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5hZGRDb21taXR0ZWVFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmFkZENvbW1pdHRlZUVycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8vIHNob3cgY29tbWl0dGVlXG4gICAgICAgICAgICAgICAgYWRTaXRlLnNob3dDb21taXR0ZWUgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNpdGVjb250cm9sbGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2hvd0FsbENvbW1pdHRlZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmNvbW1pdHRlZUVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmNvbW1pdHRlZUVycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5jb21taXR0ZWVFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuY29tbWl0dGVlTGlzdCA9IHJlc3BvbnNlLmRhdGEuY29tbWl0dGVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuY29tbWl0dGVlRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5jb21taXR0ZWVFcnJvck1zZyA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvLyByZW1vdmUgaW5kaXZpZHVhbCBjb21taXR0ZWUuXG4gICAgICAgICAgICAgICAgYWRTaXRlLnJlbW92ZUxpc3QgPSAoY29tbWl0dGVlSWQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2l0ZWNvbnRyb2xsZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZW1vdmVDb21taXR0ZWUoY29tbWl0dGVlSWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQocmVzcG9uc2UuZGF0YS5lcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5zaG93Q29tbWl0dGVlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICAgIHwgZm9sbG93aW5nIGZ1bmN0aW9uIHdpbGwgYWRkIG5ldyBldmVudCBpbnRvIHRoZVxuICAgICAgICAgICAgICAgIHwgZGF0YWJhc2UuXG4gICAgICAgICAgICAgICAgfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGFkU2l0ZS5ldmVudCA9IHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRUaXRsZTogJycsXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50RGV0YWlsczogJycsXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50U3RhcnRzOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRFbmRzOiAnJyxcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgYWRTaXRlLmFkZEV2ZW50ID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgc2l0ZWNvbnRyb2xsZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRFdmVudChhZFNpdGUuZXZlbnQpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmV2ZW50QWRkRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuZXZlbnRBZGRFcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuZXZlbnRBZGRFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuZXZlbnRBZGRTdWNjZXNzID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXQgdGltZSBvdXQgYW5kIGNhbGwgc2hvdyBjb21taXR0ZWUgbWV0aG9kLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5zaG93RXZlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMjAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmV2ZW50QWRkRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5ldmVudEFkZEVycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGFkU2l0ZS5zaG93RXZlbnQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNpdGVjb250cm9sbGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2hvd0V2ZW50KClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuc2hvd0V2ZW50RXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuc2hvd0V2ZW50RXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXNwb25zZS5kYXRhLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLnNob3dFdmVudEVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5ldmVudHMgPSByZXNwb25zZS5kYXRhLmV2ZW50cztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLnNob3dFdmVudEVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuc2hvd0V2ZW50RXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgYWRTaXRlLnJlbW92ZUV2ZW50ID0gKGV2ZW50SWQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2l0ZWNvbnRyb2xsZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZW1vdmVFdmVudChldmVudElkKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5zaG93RXZlbnRFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5zaG93RXZlbnRFcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5zaG93RXZlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvd2VsY29tZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9zaWduaW4nKTtcbiAgICAgICAgfVxuICAgIH1cblxufSkoKTsiXX0=
