"use strict";!function(){angular.module("nbaslp",["ngResource","ngRoute","720kb.datepicker"]).config(["$routeProvider","$locationProvider",function(e,l){e.when("/",{templateUrl:"home/welcome/welcome.view.html",controller:"welcomeCtrl",controllerAs:"wvm"}).when("/councilmembers",{templateUrl:"councilmembers/councilmembers.view.html"}).when("/signup",{templateUrl:"signup/signup.view.html",controller:"signupCtrl",controllerAs:"regvm"}).when("/signin",{templateUrl:"signin/signin.view.html",controller:"signinCtrl",controllerAs:"lvm"}).when("/profile",{templateUrl:"profile/profile.view.html",controller:"profileCtrl",controllerAs:"provm"}).when("/help",{templateUrl:"help/help.view.html",controller:"helpCtrl",controllerAs:"hvm"}).when("/sitecontroll",{templateUrl:"admin/sitecontroll/sitecontroll.view.html",controller:"sitecontrollCtrl",controllerAs:"adSite"}).when("/usercontroll",{templateUrl:"admin/usercontroll/usercontroll.view.html",controller:"usercontrollCtrl",controllerAs:"uservm"}).when("/welcome",{templateUrl:"welcome/welcome.view.html",controller:"welcomeCtrl",controllerAs:"wvm"}).when("/committees",{templateUrl:"committees/committees.view.html",controller:"committeesCtrl",controllerAs:"cvm"}).when("/events",{templateUrl:"events/events.view.html",controller:"eventsCtrl",controllerAs:"evm"}).when("/aboutus",{templateUrl:"aboutus/aboutus.view.html",controller:"aboutusCtrl",controllerAs:"abvm"}).when("/contactus",{templateUrl:"contactus/contactus.view.html",controller:"contactusCtrl",controllerAs:"cvm"}),l.html5Mode({enabled:!0})}])}();
"use strict";function authentication(n,t){var e=function(t){n.localStorage.nbaslp=t},a=function(){return n.localStorage.nbaslp},o=function(){var t=a(),e=void 0;return!!t&&(e=t.split(".")[1],e=n.atob(e),e=JSON.parse(e))};return{currentUser:function(){if(o){var t=a().split(".")[1];return t=n.atob(t),t=JSON.parse(t),{userId:t._id,email:t.email,accountStatus:t.accountStatus,accountType:t.accountType,accountId:t.userId,name:t.name}}return!1},saveToken:e,getToken:a,isLoggedIn:o,signUp:function(n){return t.post("/api/signup",n).success(function(n){e(n.token)})},signIn:function(n){return t.post("/api/signin",n).success(function(n){e(n.token)})},Logout:function(){n.localStorage.removeItem("nbaslp")}}}angular.module("nbaslp").service("authentication",authentication),authentication.$inject=["$window","$http"];
"use strict";!function(){function t(t,e){var n=function(t){return t},a=function(t){return t};return{uploadTellerDocs:function(t,c){var r=new FormData;return r.append("tellerDoc",t),e.post("/api/docupload/"+c,r,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(n).catch(a)},createActivationCode:function(t){return e.post("/api/"+t+"/generatevalidationcode").then(n).catch(a)},validateActivationCode:function(t,c){return e.post("/api/"+t+"/"+c+"/validate").then(n).catch(a)},getAccountStatuses:function(t){return e.get("/api/"+t+"/statuses").then(n).catch(a)},updateUserStatus:function(t){return e.post("/api/userstatus",t).then(n).catch(a)},saveBasicInfo:function(t){return e.post("/api/createbasicprofile",t).then(n).catch(a)},saveBranchInfo:function(t,c){return e.post("/api/"+t+"/savebranchinfo",c).then(n).catch(a)},loadUserInfo:function(t,c){return e.get("/api/"+c+"/"+t+"/userinfo").then(n).catch(a)},getCommittee:function(){return e.get("/api/showcommittee").then(n).catch(a)},saveBankTeller:function(t){return e.post("/api/savebankteller",t).then(n).catch(a)},getBankTeller:function(t){return e.get("/api/"+t+"/bankteller").then(n).catch(a)}}}angular.module("nbaslp").service("account",t),t.$inject=["$window","$http"]}();
"use strict";!function(){function t(t){var e=function(t){return t},n=function(t){return t};return{addPreferredCommittee:function(c){return t.post("/api/createcommittee",c).then(e).catch(n)},showAllCommittee:function(){return t.get("/api/showcommittee").then(e).catch(n)},removeCommittee:function(c){return t.delete("/api/"+c+"/removecommittee").then(e).catch(n)},addCouncil:function(c){return t.post("/api/councilmember",c).then(e).catch(n)},showCouncilMember:function(){return t.get("/api/showcouncil").then(e).catch(n)},removeCouncil:function(c){return t.delete("/api/"+c+"/council").then(e).catch(n)},addEvent:function(c){return t.post("/api/event",c).then(e).catch(n)},showEvent:function(){return t.get("/api/showEvent").then(e).catch(n)},removeEvent:function(c){return t.delete("/api/"+c+"/event").then(e).catch(n)}}}angular.module("nbaslp").service("sitecontroller",t),t.$inject=["$http"]}();
"use strict";!function(){function e(e){var n=function(e){return e},t=function(e){return e};return{showMembers:function(){return e.get("/api/members").then(n).catch(t)},showSingleMember:function(r){return e.get("/api/"+r+"/member").then(n).catch(t)},showMemberProfile:function(r){return e.get("/api/"+r+"/profile").then(n).catch(t)},showMemberBranch:function(r){return e.get("/api/"+r+"/branch").then(n).catch(t)}}}angular.module("nbaslp").service("usercontroller",e),e.$inject=["$http"]}();
"use strict";!function(){function r(r,e,o){var n=this;r.showMembers().then(function(r){r.data.error?(n.showMemberError=!0,n.showMemberErrorMsg=r.data.error):n.members=r.data.members}).catch(function(r){n.showMemberError=!0,n.showMemberErrorMsg=r}),n.checkRoutes=function(){o.v?n.clickedMemberName=!0:n.clickedMemberName=!1},n.loadUserInfo=function(){var e=o.v;r.showSingleMember(e).then(function(r){r.data.error?(n.singleMemberLoadingError=!0,n.singleMemberLoadingErrorMsg=r.data.error):(n.singleMemberLoadingError=!1,n.singleMember=r.data.member)}).catch(function(r){n.singleMemberLoadingError=!0,n.singleMemberLoadingErrorMsg=r})},n.loadUserProfile=function(){var e=o.v;r.showMemberProfile(e).then(function(r){r.data.error?(n.profileLoadingError=!0,n.profileLoadingErrorMsg=r.data.error):(n.profileLoadingError=!1,n.memberProfile=r.data.profile)}).catch(function(r){n.profileLoadingError=!0,n.profileLoadingErrorMsg=r})},n.loadUserBranch=function(){var e=o.v;r.showMemberBranch(e).then(function(r){r.data.error?(n.branchLoadingError=!0,n.branchLoadingErrorMsg=r.data.error):(n.branchLoadingError=!1,n.memberBranch=r.data.branch)}).catch(function(r){n.branchLoadingError=!0,n.branchLoadingErrorMsg=r})},n.loadBankTeller=function(){var r=o.v;e.getBankTeller(r).then(function(r){r.data.error?(n.bankTellerLoadingError=!0,n.bankTellerLoadingErrorMsg=r.data.error):(n.bankTellerLoadingError=!1,n.memberbankTeller=r.data.bankTeller)}).catch(function(r){n.bankTellerLoadingError=!0,n.bankTellerLoadingErrorMsg=r})}}angular.module("nbaslp").controller("usercontrollCtrl",r),r.$inject=["usercontroller","account","$routeParams"]}();
"use strict";!function(){function n(n){var t=function(n){return n},e=function(n){return n};return{sendContactMessage:function(r){return n.post("/api/sendmessage",r).then(t).catch(e)}}}angular.module("nbaslp").service("systemService",n),n.$inject=["$http"]}();
"use strict";!function(){angular.module("nbaslp").directive("siteNav",function(){return{restrict:"EA",templateUrl:"common/directives/nav/site-nav.template.html",controller:"navCtrl as nvm"}})}();
"use strict";!function(){function n(n,t){n.isLoggedIn()?(this.loggedInUri=!0,this.loggedInName=n.currentUser().name,this.currentAccountType=n.currentUser().accountType):this.loggedInUri=!1,this.logout=function(){n.Logout(),t.path("/signin")}}angular.module("nbaslp").controller("navCtrl",n),n.$inject=["authentication","$location"]}();
"use strict";!function(){angular.module("nbaslp").directive("siteFooter",function(){return{restrict:"EA",templateUrl:"common/directives/footer/footer.template.html"}})}();
"use strict";!function(){function n(n){return{restrict:"A",link:function(i,e,t){var c=n(t.fileModel).assign;e.on("change",function(){i.$apply(function(){c(i,e[0].files[0])})})}}}angular.module("nbaslp").directive("fileModel",n),n.$inject=["$parse"]}();
"use strict";!function(){angular.module("nbaslp").directive("sideBar",function(){return{restrict:"EA",templateUrl:"common/directives/sidebar/sidebar.template.html"}})}();
"use strict";!function(){angular.module("nbaslp").controller("welcomeCtrl",function(){})}();
"use strict";!function(){function t(t){var o=this;o.loadCommittee=function(){t.showAllCommittee().then(function(t){t.data.error?(o.committeeLoadingError=!0,o.committeeLoadingErrorMsg=t.data.error):(o.committeeLoadingError=!1,o.committees=t.data.committee)}).catch(function(t){o.committeeLoadingError=!0,o.committeeLoadingErrorMsg=t})}}angular.module("nbaslp").controller("committeesCtrl",t),t.$inject=["sitecontroller"]}();
"use strict";!function(){function e(e){var n=this;n.showEvents=function(){e.showEvent().then(function(e){e.data.error?(n.eventLoadError=!0,n.eventLoadErrorMsg=e.data.error):(n.eventLoadError=!1,n.events=e.data.events,n.events.length>0?n.noEvent=!1:n.noEvent=!0)}).catch(function(e){n.eventLoadError=!0,n.eventLoadErrorMsg=e})}}angular.module("nbaslp").controller("eventsCtrl",e),e.$inject=["sitecontroller"]}();
"use strict";!function(){angular.module("nbaslp").controller("aboutusCtrl",function(){})}();
"use strict";!function(){function e(e){var s=this;s.contact={name:"",email:"",message:""},s.contactUs=function(){e.sendContactMessage(s.contact).then(function(e){e.data.error?(s.sendMessageError=!0,s.sendMessageErrorMsg=e.data.error):(s.sendMessageSuccess=!0,s.sendMessageSuccessMsg="We have received your message. We will be in touch with you soon")}).catch(function(e){s.sendMessageError=!0,s.sendMessageErrorMsg=e})}}angular.module("nbaslp").controller("contactusCtrl",e),e.$inject=["systemService"]}();
"use strict";!function(){function r(r,t){var o=this;o.user={firstName:"",lastName:"",displayName:"",email:"",password:"",confirmPassword:""},o.register=function(){r.signUp(o.user).then(function(r){r.data.error?(o.RegistrationError=!0,o.RegistrationErrorMsg=r.data.error):(o.RegistrationError=!1,t.path("/welcome"))}).catch(function(r){r&&(o.RegistrationError=!0,o.RegistrationErrorMsg=r.data.error)})},r.isLoggedIn()&&t.path("/welcome")}angular.module("nbaslp").controller("signupCtrl",r),r.$inject=["authentication","$location"]}();
"use strict";!function(){function r(r,o){var n=this;n.user={email:"",password:""},r.isLoggedIn()?o.path("/welcome"):(n.login=function(){n.user.email&&n.user.password?(n.loginError=!1,n.doLogin()):(n.loginError=!0,n.loginErrorMsg="Error! all * fields are required")},n.doLogin=function(){r.signIn(n.user).error(function(r){n.loginError=!0,n.loginErrorMsg=r.error}).then(function(){o.path("/welcome")})})}angular.module("nbaslp").controller("signinCtrl",r),r.$inject=["authentication","$location"]}();
"use strict";!function(){function r(r,e,a,o,t){function n(r){o.updateUserStatus(r).then(function(r){!0===r.data.updated?(c.statusUpdateError=!1,t.reload()):(c.basicAccountInfoError=!0,c.basicAccountInfoErrorMsg=r.data.error)}).catch(function(r){c.statusUpdateError=!0,c.basicAccountInfoErrorMsg=r})}var c=this;e.isLoggedIn()?(c.currentAccountType=e.currentUser().accountType,"customer"===e.currentUser().accountType?(c.profileStatus=e.currentUser().accountStatus,c.codeReady=!1,c.sendActivationCode=function(){c.codeReady=!0,o.createActivationCode(e.currentUser().email).then(function(r){if(r.data.error)c.activationCodeError=!0,c.activationCodeErrorMsg=r.data.error;else{n({update_at:"profileActivationMail",email:e.currentUser().email,status:!0}),c.codeReady=!1,c.activationCodeError=!1}}).catch(function(r){c.activationCodeError=!0,c.activationCodeErrorMsg=r})},c.getProfileStatuses=function(){o.getAccountStatuses(e.currentUser().email).then(function(r){r.data.error?(c.statusLoadError=!0,c.statusLoadErrorMsg=r.data.error):(c.statusLoadError=!1,c.userStatuses=r.data.statuses)}).catch(function(r){c.statusLoadError=!0,c.statusLoadErrorMsg=r})},c.basicProfile={whos:e.currentUser().email,userId:e.currentUser().userId,formerName:"",sex:"",tele:"",address:""},c.saveBasicInfo=function(){o.saveBasicInfo(c.basicProfile).then(function(r){if(r.data.error)c.basicAccountInfoError=!0,c.basicAccountInfoErrorMsg=r.data.error;else{var a={update_at:"basic_info",email:e.currentUser().email,status:!0};o.updateUserStatus(a).then(function(r){!0===r.data.updated?(c.statusUpdateError=!1,t.reload()):(c.basicAccountInfoError=!0,c.basicAccountInfoErrorMsg=r.data.error)}).catch(function(r){c.statusUpdateError=!0,c.basicAccountInfoErrorMsg=r})}}).catch(function(r){})},c.branch={year:"",branch:""},c.saveBatchInfo=function(){o.saveBranchInfo(e.currentUser().email,c.branch).then(function(r){if(r.data.error)c.branchInfoError=!0,c.branchInfoErrorMsg=r.data.error;else if(r.data.success){c.branchInfoError=!1;var a={update_at:"branch",email:e.currentUser().email,status:!0};o.updateUserStatus(a).then(function(r){!0===r.data.updated?(c.branchInfoError=!1,t.reload()):(c.branchInfoError=!0,c.branchInfoErrorMsg=r.data.error)}).catch(function(r){c.branchInfoError=!0,c.branchInfoErrorMsg=r})}}).catch(function(r){c.branchInfoError=!0,c.branchInfoErrorMsg=r})},c.loadBasicInfo=function(r){o.loadUserInfo(r,e.currentUser().email).then(function(r){r.data.error?(c.userBasicInfoLoadingError=!0,c.userBasicInfoLoadingErrorMsg=r.data.error):(c.userBasicInfoLoadingError=!1,c.basicInfo=r.data.userInfo)}).catch(function(r){c.userBasicInfoLoadingError=!0,c.userBasicInfoLoadingErrorMsg=r})},c.getCommittee=function(){o.getCommittee().then(function(r){c.committees=r.data.committee}).catch(function(r){console.log(r)})},c.loadUserBranch=function(r){o.loadUserInfo(r,e.currentUser().email).then(function(r){r.data.error?(c.userInfoLoadingError=!0,c.userInfoLoadingErrorMsg=r.data.error):(c.userInfoLoadingError=!1,c.branchInfo=r.data.userInfo)}).catch(function(r){c.userInfoLoadingError=!0,c.userInfoLoadingErrorMsg=r})},c.activation={code:""},c.activeProfile=function(){o.validateActivationCode(e.currentUser().email,c.activation.code).then(function(r){r.data.error?(c.ActivationError=!0,c.ActivationErrorMsg=r.data.error):r.data.success&&(c.activationSuccess=!0,setTimeout(function(){e.Logout(),t.reload()},3e3))}).catch(function(r){c.ActivationError=!0,c.ActivationErrorMsg=r})},c.bankTellerInfo={preferredCommittee:"",additional_committee:"",whos:e.currentUser().email,userId:e.currentUser().accountId,tellerDoc:r.tellerDoc},c.saveBankTellerInfo=function(){c.bankTellerInfo.preferredCommittee&&c.bankTellerInfo.additional_committee?(console.log(c.bankTellerInfo),o.uploadTellerDocs(r.tellerDoc,e.currentUser().accountId).then(function(r){!1===r.data.success?(c.saveTellerError=!0,c.saveTellerErrorMsg=r.data.error):!0===r.data.success&&(c.bankTellerInfo.tellerDoc=r.data.docLocation,o.saveBankTeller(c.bankTellerInfo).then(function(r){if(r.data.error)c.saveTellerError=!0,c.saveTellerErrorMsg=r.data.error;else{n({update_at:"bankteller",email:e.currentUser().email,status:!0}),t.reload()}}).catch(function(r){c.saveTellerError=!0,c.saveTellerErrorMsg=r}))}).catch(function(r){c.saveTellerError=!0,c.saveTellerErrorMsg=r})):(c.saveTellerError=!0,c.saveTellerErrorMsg="All * fiends are required. Must not be empty")},c.getCurrentBankTeller=function(){o.getBankTeller(e.currentUser().email).then(function(r){r.data.error?(c.bankTellerLoadingError=!0,c.bankTellerLoadingErrorMsg=r.data.error):(c.bankTellerLoadingError=!1,c.userBankTeller=r.data.bankTeller)}).catch(function(r){c.bankTellerLoadingError=!0,c.bankTellerLoadingErrorMsg=r})}):e.currentUser().accountType):a.path("/signin")}angular.module("nbaslp").controller("profileCtrl",r),r.$inject=["$scope","authentication","$location","account","$route"]}();
"use strict";!function(){function n(n,t){}angular.module("nbaslp").controller("welcomeCtrl",n),n.$inject=["authentication","$location"]}();
"use strict";!function(){function t(t,o,e){var r=this;t.isLoggedIn()?"admin"===t.currentUser().accountType?(r.committee={name:""},r.addPreferredCommittee=function(){e.addPreferredCommittee(r.committee).then(function(t){t.data.error?(r.addCommitteeError=!0,r.addCommitteeErrorMsg=t.data.error):(r.addCommitteeError=!1,r.addCommitteeSuccessMsg="Committee successfully added",setTimeout(function(){r.showCommittee()},200))}).catch(function(t){r.addCommitteeError=!0,r.addCommitteeErrorMsg=t})},r.showCommittee=function(){e.showAllCommittee().then(function(t){t.data.error?(r.committeeError=!0,r.committeeErrorMsg=t.data.error):(r.committeeError=!1,r.committeeList=t.data.committee)}).catch(function(t){r.committeeError=!0,r.committeeErrorMsg=t})},r.removeList=function(t){e.removeCommittee(t).then(function(t){t.data.error?alert(t.data.error):setTimeout(function(){r.showCommittee()},100)}).catch(function(t){alert(t)})},r.council={name:""},r.addCouncilMember=function(){e.addCouncil(r.council).then(function(t){t.data.error?(r.councilAddError=!0,r.councilAddErrorMsg=t.data.error):(r.councilAddError=!1,setTimeout(function(){r.showCouncil()},100))}).catch(function(t){r.councilAddError=!0,r.councilAddErrorMsg=t})},r.showCouncil=function(){e.showCouncilMember().then(function(t){t.data.error?(r.councilShowError=!0,r.councilShowErrorMsg=t.data.error):(r.councilShowError=!1,r.councils=t.data.data)}).catch(function(t){r.councilShowError=!0,r.councilShowErrorMsg=t})},r.removeCouncil=function(t){e.removeCouncil(t).then(function(t){setTimeout(function(){r.showCouncil()},100)}).catch(function(t){alert(t)})},r.event={eventTitle:"",eventDetails:"",eventStarts:"",eventEnds:""},r.addEvent=function(){e.addEvent(r.event).then(function(t){t.data.error?(r.eventAddError=!0,r.eventAddErrorMsg=t.data.error):t.data.success&&(r.eventAddError=!1,r.eventAddSuccess=!0,setTimeout(function(){r.showEvent()},200))}).catch(function(t){r.eventAddError=!0,r.eventAddErrorMsg=t})},r.showEvent=function(){e.showEvent().then(function(t){t.data.error?(r.showEventError=!0,r.showEventErrorMsg=t.data.error):t.data.success&&(r.showEventError=!1,r.events=t.data.events)}).catch(function(t){r.showEventError=!0,r.showEventErrorMsg=t})},r.removeEvent=function(t){e.removeEvent(t).then(function(t){t.data.error?(r.showEventError=!0,r.showEventErrorMsg=t.data.error):t.data.success&&setTimeout(function(){r.showEvent()},100)}).catch(function(t){console.log(t)})}):o.path("/welcome"):o.path("/signin")}angular.module("nbaslp").controller("sitecontrollCtrl",t),t.$inject=["authentication","$location","sitecontroller"]}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImF1dGhlbnRpY2F0aW9uLnNlcnZpY2UuanMiLCJhY2NvdW50LnNlcnZpY2UuanMiLCJzaXRlLWNvbnRyb2xsZXIuc2VydmljZS5qcyIsInVzZXItY29udHJvbGxlci5zZXJ2aWNlLmpzIiwidXNlcmNvbnRyb2xsLmNvbnRyb2xsZXIuanMiLCJzeXN0ZW0uc2VydmljZS5qcyIsIm5hdi5kaXJlY3RpdmUuanMiLCJuYXYuY29udHJvbGxlci5qcyIsImZvb3Rlci5kaXJlY3RpdmUuanMiLCJmaWxlTW9kZWwuZGlyZWN0aXZlLmpzIiwic2lkZWJhci5kaXJlY3RpdmUuanMiLCJ3ZWxjb21lLmNvbnRyb2xsZXIuanMiLCJjb21taXR0ZWVzLmNvbnRyb2xsZXIuanMiLCJldmVudHMuY29udHJvbGxlci5qcyIsImFib3V0dXMuY29udHJvbGxlci5qcyIsImNvbnRhY3R1cy5jb250cm9sbGVyLmpzIiwic2lnbnVwLmNvbnRyb2xsZXIuanMiLCJzaWduaW4uY29udHJvbGxlci5qcyIsInByb2ZpbGUuY29udHJvbGxlci5qcyIsInNpdGVjb250cm9sbC5jb250cm9sbGVyLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJjb25maWciLCJ0ZW1wbGF0ZVVybCIsIiRsb2NhdGlvblByb3ZpZGVyIiwiY29udHJvbGxlciIsImNvbnRyb2xsZXJBcyIsIndoZW4iLCJodG1sNU1vZGUiLCJlbmFibGVkIiwic2F2ZVRva2VuIiwiJHdpbmRvdyIsInRva2VuIiwibG9jYWxTdG9yYWdlIiwiZ2V0VG9rZW4iLCJpc0xvZ2dlZEluIiwicGF5bG9hZCIsIkpTT04iLCJwYXJzZSIsImF0b2IiLCJjdXJyZW50VXNlciIsInNwbGl0IiwiYWNjb3VudFN0YXR1cyIsInVzZXJJZCIsIl9pZCIsImFjY291bnRUeXBlIiwiYWNjb3VudElkIiwibmFtZSIsIkxvZ291dCIsInNpZ25VcCIsInVzZXIiLCIkaHR0cCIsInBvc3QiLCJzdWNjZXNzIiwiZGF0YSIsInNpZ25JbiIsImhhbmRsZVN1Y2Nlc3MiLCJyZW1vdmVJdGVtIiwiYXV0aGVudGljYXRpb24iLCJjcmVhdGVBY3RpdmF0aW9uQ29kZSIsInJlc3BvbnNlIiwiaGFuZGxlRXJyb3IiLCJ1cGxvYWRUZWxsZXJEb2NzIiwiZmlsZSIsImxvYWRVc2VySW5mbyIsImZkIiwiYXBwZW5kIiwiaWRlbnRpdHkiLCJoZWFkZXJzIiwiQ29udGVudC1UeXBlIiwidW5kZWZpbmVkIiwiY2F0Y2giLCJ2YWxpZGF0ZUFjdGl2YXRpb25Db2RlIiwidGhlbiIsImNvZGUiLCJnZXRDb21taXR0ZWUiLCJnZXRBY2NvdW50U3RhdHVzZXMiLCJnZXQiLCJzYXZlQmFzaWNJbmZvIiwidXBkYXRlVXNlclN0YXR1cyIsInRyYW5zZm9ybVJlcXVlc3QiLCJzYXZlQmFua1RlbGxlciIsInNhdmVCcmFuY2hJbmZvIiwiY29sbGVjdGlvbk5hbWUiLCJ0ZWxsZXIiLCJnZXRCYW5rVGVsbGVyIiwiYWNjb3VudCIsIiRpbmplY3QiLCJhZGRQcmVmZXJyZWRDb21taXR0ZWUiLCJzaG93QWxsQ29tbWl0dGVlIiwiYWRkQ291bmNpbCIsInJlbW92ZUNvbW1pdHRlZSIsImNvbW1pdHRlZUlkIiwiZGVsZXRlIiwicmVtb3ZlQ291bmNpbCIsImFkZEV2ZW50IiwiZXZlbnQiLCJzaG93Q291bmNpbE1lbWJlciIsInJlbW92ZUV2ZW50IiwiY291bmNpbElkIiwic2hvd0V2ZW50IiwiZXZlbnRJZCIsInNpdGVjb250cm9sbGVyIiwic2hvd01lbWJlcnMiLCJzaG93U2luZ2xlTWVtYmVyIiwibWVtYmVySWQiLCJzaG93TWVtYmVyQnJhbmNoIiwic2hvd01lbWJlclByb2ZpbGUiLCJ1c2VyY29udHJvbGxlciIsInVzZXJ2bSIsIiRyb3V0ZVBhcmFtcyIsIm1lbWJlcnMiLCJzaG93TWVtYmVyRXJyb3IiLCJzaG93TWVtYmVyRXJyb3JNc2ciLCJlcnJvciIsImNoZWNrUm91dGVzIiwiY2xpY2tlZE1lbWJlck5hbWUiLCJlcnIiLCJ2Iiwic2luZ2xlTWVtYmVyIiwibWVtZWJySWQiLCJzaW5nbGVNZW1iZXJMb2FkaW5nRXJyb3JNc2ciLCJzaW5nbGVNZW1iZXJMb2FkaW5nRXJyb3IiLCJsb2FkVXNlclByb2ZpbGUiLCJtZW1iZXIiLCJwcm9maWxlTG9hZGluZ0Vycm9yIiwibWVtYmVyUHJvZmlsZSIsInByb2ZpbGUiLCJwcm9maWxlTG9hZGluZ0Vycm9yTXNnIiwibG9hZFVzZXJCcmFuY2giLCJicmFuY2hMb2FkaW5nRXJyb3IiLCJicmFuY2hMb2FkaW5nRXJyb3JNc2ciLCJsb2FkQmFua1RlbGxlciIsImJhbmtUZWxsZXJMb2FkaW5nRXJyb3JNc2ciLCJiYW5rVGVsbGVyTG9hZGluZ0Vycm9yIiwiYnJhbmNoIiwibWVtYmVyYmFua1RlbGxlciIsImJhbmtUZWxsZXIiLCJ1c2VyY29udHJvbGxDdHJsIiwic2VuZENvbnRhY3RNZXNzYWdlIiwibWVzc2FnZSIsInN5c3RlbVNlcnZpY2UiLCJkaXJlY3RpdmUiLCJzaXRlTmF2IiwicmVzdHJpY3QiLCJuYXZDdHJsIiwiJGxvY2F0aW9uIiwibnZtIiwibG9nZ2VkSW5OYW1lIiwiY3VycmVudEFjY291bnRUeXBlIiwibG9nZ2VkSW5VcmkiLCJsb2dvdXQiLCJwYXRoIiwic2l0ZUZvb3RlciIsImZpbGVNb2RlbCIsImxpbmsiLCJzY29wZSIsIiRlbGVtZW50IiwicGFyc2VkRmlsZVNldHRlciIsIiRwYXJzZSIsImF0dHJzIiwiYXNzaWduIiwib24iLCIkYXBwbHkiLCJmaWxlcyIsInNpZGVCYXIiLCJjb21taXR0ZWVzQ3RybCIsImN2bSIsImxvYWRDb21taXR0ZWUiLCJjb21taXR0ZWVMb2FkaW5nRXJyb3IiLCJjb21taXR0ZWVzIiwiY29tbWl0dGVlIiwiY29tbWl0dGVlTG9hZGluZ0Vycm9yTXNnIiwiZXZtIiwic2hvd0V2ZW50cyIsImV2ZW50TG9hZEVycm9yIiwiZXZlbnRzIiwiZXZlbnRMb2FkRXJyb3JNc2ciLCJub0V2ZW50IiwibGVuZ3RoIiwiZXZlbnRzQ3RybCIsImFib3V0dXNDdHJsIiwiY29udGFjdHVzQ3RybCIsImNvbnRhY3QiLCJ0aGlzIiwiZW1haWwiLCJjb250YWN0VXMiLCJzZW5kTWVzc2FnZUVycm9yTXNnIiwic2VuZE1lc3NhZ2VTdWNjZXNzIiwic2VuZE1lc3NhZ2VTdWNjZXNzTXNnIiwic2VuZE1lc3NhZ2VFcnJvciIsInNpZ251cEN0cmwiLCJyZWd2bSIsImxhc3ROYW1lIiwiZGlzcGxheU5hbWUiLCJwYXNzd29yZCIsImNvbmZpcm1QYXNzd29yZCIsInJlZ2lzdGVyIiwiUmVnaXN0cmF0aW9uRXJyb3JNc2ciLCJSZWdpc3RyYXRpb25FcnJvciIsInNpZ25pbkN0cmwiLCJsdm0iLCJsb2dpbkVycm9yTXNnIiwibG9naW5FcnJvciIsImRvTG9naW4iLCJwcm92bSIsIiRzY29wZSIsIiRyb3V0ZSIsInN0YXR1c1VwZGF0ZXIiLCJ1cGRhdGVPYmplY3QiLCJiYXNpY0FjY291bnRJbmZvRXJyb3IiLCJiYXNpY0FjY291bnRJbmZvRXJyb3JNc2ciLCJyZWxvYWQiLCJzdGF0dXNVcGRhdGVFcnJvciIsImNvZGVSZWFkeSIsInByb2ZpbGVTdGF0dXMiLCJhY3RpdmF0aW9uQ29kZUVycm9yTXNnIiwic2VuZEFjdGl2YXRpb25Db2RlIiwidXBkYXRlZFN0YXR1cyIsInVwZGF0ZV9hdCIsInN0YXR1cyIsImFjdGl2YXRpb25Db2RlRXJyb3IiLCJzdGF0dXNMb2FkRXJyb3IiLCJzdGF0dXNMb2FkRXJyb3JNc2ciLCJiYXNpY1Byb2ZpbGUiLCJ1c2VyU3RhdHVzZXMiLCJzdGF0dXNlcyIsIndob3MiLCJ0ZWxlIiwiYWRkcmVzcyIsInVwZGF0ZWQiLCJicmFuY2hJbmZvRXJyb3JNc2ciLCJicmFuY2hJbmZvRXJyb3IiLCJ1c2VyQmFzaWNJbmZvTG9hZGluZ0Vycm9yIiwidXNlckJhc2ljSW5mb0xvYWRpbmdFcnJvck1zZyIsInVzZXJJbmZvTG9hZGluZ0Vycm9yIiwidXNlckluZm9Mb2FkaW5nRXJyb3JNc2ciLCJsb2FkQmFzaWNJbmZvIiwiYmFzaWNJbmZvIiwidXNlckluZm8iLCJBY3RpdmF0aW9uRXJyb3IiLCJzZXRUaW1lb3V0IiwiYnJhbmNoSW5mbyIsImFkZGl0aW9uYWxfY29tbWl0dGVlIiwiYWN0aXZhdGlvbiIsImNvbnNvbGUiLCJhY3RpdmVQcm9maWxlIiwic2F2ZVRlbGxlckVycm9yTXNnIiwiYmFua1RlbGxlckluZm8iLCJzYXZlVGVsbGVyRXJyb3IiLCJBY3RpdmF0aW9uRXJyb3JNc2ciLCJwcmVmZXJyZWRDb21taXR0ZWUiLCJ0ZWxsZXJEb2MiLCJsb2ciLCJkb2NMb2NhdGlvbiIsImdldEN1cnJlbnRCYW5rVGVsbGVyIiwidXNlckJhbmtUZWxsZXIiLCJwcm9maWxlQ3RybCIsIndlbGNvbWVDdHJsIiwic2l0ZWNvbnRyb2xsQ3RybCIsImFkU2l0ZSIsImFkZENvbW1pdHRlZUVycm9yIiwiYWRkQ29tbWl0dGVlU3VjY2Vzc01zZyIsImFkZENvbW1pdHRlZUVycm9yTXNnIiwic2hvd0NvbW1pdHRlZSIsImNvbW1pdHRlZUxpc3QiLCJjb21taXR0ZWVFcnJvck1zZyIsImNvbW1pdHRlZUVycm9yIiwicmVtb3ZlTGlzdCIsImNvdW5jaWwiLCJhbGVydCIsImNvdW5jaWxBZGRFcnJvciIsImFkZENvdW5jaWxNZW1iZXIiLCJzaG93Q291bmNpbCIsImNvdW5jaWxTaG93RXJyb3IiLCJjb3VuY2lsU2hvd0Vycm9yTXNnIiwiY291bmNpbHMiLCJldmVudFRpdGxlIiwiZXZlbnREZXRhaWxzIiwiZXZlbnRTdGFydHMiLCJldmVudEFkZEVycm9yIiwiZXZlbnRBZGRFcnJvck1zZyIsImV2ZW50RW5kcyIsInNob3dFdmVudEVycm9yIiwic2hvd0V2ZW50RXJyb3JNc2ciXSwibWFwcGluZ3MiOiJBQVFBLGNBRUEsV0FDSUEsUUFDS0MsT0FBTyxVQUFXLGFBQWMsVUFBVyxxQkFHaERDLFFBQVNBLGlCQUFULG9CQUdZQyxTQUFBQSxFQUFhQyxHQUNiQyxFQUNBQyxLQUFBQSxLQUVFSCxZQUFBLGlDQUNGQSxXQUFhLGNBRVhHLGFBQVcsUUFFYkQsS0FBQUEsbUJBQ0FDLFlBQWMsNENBR2RILEtBQUFBLFdBQ0FFLFlB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QUswSCxVQUdyQ3pHLE1BQU0sU0FBQThDLEdBQ0grSSxFQUFPdUIsZ0JBQWlCLEVBQ3hCdkIsRUFBT3dCLGtCQUFvQnZLLEtBSXZDK0ksRUFBT2xLLFlBQWMsU0FBQ0csR0FDbEJDLEVBQ0tKLFlBQVlHLEdBQ1o1QixLQUFLLFNBQUFiLEdBQ0VBLEVBQVNOLEtBQUs0RCxPQUNka0osRUFBT3VCLGdCQUFpQixFQUN4QnZCLEVBQU93QixrQkFBb0JoTyxFQUFTTixLQUFLNEQsT0FFcEN0RCxFQUFTTixLQUFLRCxTQUNuQjRMLFdBQVcsV0FDUG1CLEVBQU9oSyxhQUNSLE9BR1Y3QixNQUFNLFNBQUE4QyxHQUNIZ0ksUUFBUVEsSUFBSXhJLE9BTXhCNkIsRUFBVU0sS0FBSyxZQUluQk4sRUFBVU0sS0FBSyxXQTVOdkJwSSxRQUNLQyxPQUFPLFVBR1o4TyxXQUFBQSxtQkFBNEJBLEdBRTVCQSxFQUFTQSxTQUFpQnpNLGlCQUFnQndGLFlBQVc1QyxrQkFSekQiLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBzZXR0aW5nIHVwIGVudHJ5IHBvaW50IGZvciBhbmd1bGFyIGZyb250LWVuZFxufCBAYXV0aG9yOiBqYWhpZCBoYXF1ZSA8amFoaWQuaGFxdWVAeWFob28uY29tPlxufCBAY29weXJpZ2h0OiBuYmEtc2xwLCAyMDE3XG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4oZnVuY3Rpb24gKCkge1xuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbmJhc2xwJywgWyduZ1Jlc291cmNlJywgJ25nUm91dGUnLCAnNzIwa2IuZGF0ZXBpY2tlciddKVxuICAgICAgICAuY29uZmlnKFsnJHJvdXRlUHJvdmlkZXInLCAnJGxvY2F0aW9uUHJvdmlkZXInLCBjb25maWddKTtcblxuICAgIGZ1bmN0aW9uIGNvbmZpZygkcm91dGVQcm92aWRlciwgJGxvY2F0aW9uUHJvdmlkZXIpIHtcbiAgICAgICAgJHJvdXRlUHJvdmlkZXJcbiAgICAgICAgICAgIC53aGVuKCcvJywge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnaG9tZS93ZWxjb21lL3dlbGNvbWUudmlldy5odG1sJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnd2VsY29tZUN0cmwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3d2bScsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLndoZW4oJy9jb3VuY2lsbWVtYmVycycsIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvdW5jaWxtZW1iZXJzL2NvdW5jaWxtZW1iZXJzLnZpZXcuaHRtbCcsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLndoZW4oJy9zaWdudXAnLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdzaWdudXAvc2lnbnVwLnZpZXcuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3NpZ251cEN0cmwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3JlZ3ZtJyxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAud2hlbignL3NpZ25pbicsIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3NpZ25pbi9zaWduaW4udmlldy5odG1sJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnc2lnbmluQ3RybCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnbHZtJyxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAud2hlbignL3Byb2ZpbGUnLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwcm9maWxlL3Byb2ZpbGUudmlldy5odG1sJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAncHJvZmlsZUN0cmwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3Byb3ZtJyxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAud2hlbignL2hlbHAnLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdoZWxwL2hlbHAudmlldy5odG1sJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnaGVscEN0cmwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2h2bScsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLndoZW4oJy9zaXRlY29udHJvbGwnLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhZG1pbi9zaXRlY29udHJvbGwvc2l0ZWNvbnRyb2xsLnZpZXcuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3NpdGVjb250cm9sbEN0cmwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2FkU2l0ZScsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLndoZW4oJy91c2VyY29udHJvbGwnLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhZG1pbi91c2VyY29udHJvbGwvdXNlcmNvbnRyb2xsLnZpZXcuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3VzZXJjb250cm9sbEN0cmwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3VzZXJ2bScsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLndoZW4oJy93ZWxjb21lJywge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnd2VsY29tZS93ZWxjb21lLnZpZXcuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3dlbGNvbWVDdHJsJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICd3dm0nLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC53aGVuKCcvY29tbWl0dGVlcycsIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbW1pdHRlZXMvY29tbWl0dGVlcy52aWV3Lmh0bWwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdjb21taXR0ZWVzQ3RybCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnY3ZtJyxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAud2hlbignL2V2ZW50cycsIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2V2ZW50cy9ldmVudHMudmlldy5odG1sJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnZXZlbnRzQ3RybCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnZXZtJyxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAud2hlbignL2Fib3V0dXMnLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhYm91dHVzL2Fib3V0dXMudmlldy5odG1sJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnYWJvdXR1c0N0cmwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2Fidm0nLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC53aGVuKCcvY29udGFjdHVzJywge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29udGFjdHVzL2NvbnRhY3R1cy52aWV3Lmh0bWwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdjb250YWN0dXNDdHJsJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdjdm0nLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgJGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKHtcbiAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgIH0pO1xuICAgIH1cbn0pKCk7XG4iLCIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCBhdXRoZW50aWNhdGlvbiBzZXJ2aWNlIFxufCBAYXV0aG9yOiBqYWhpZCBoYXF1ZSA8amFoaWQuaGFxdWVAeWFob28uY29tPlxufCBAY29weXJpZ2h0OiBuYmEtc2xwLCAyMDE3XG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnbmJhc2xwJylcbiAgICAuc2VydmljZSgnYXV0aGVudGljYXRpb24nLCBhdXRoZW50aWNhdGlvbik7XG5cbmF1dGhlbnRpY2F0aW9uLiRpbmplY3QgPSBbJyR3aW5kb3cnLCAnJGh0dHAnXTtcblxuZnVuY3Rpb24gYXV0aGVudGljYXRpb24oJHdpbmRvdywgJGh0dHApIHtcbi8vIHNhdmluZyB0b2tlbi5cbiAgICBjb25zdCBzYXZlVG9rZW4gPVx0ZnVuY3Rpb24gKHRva2VuKSB7XG4gICAgICAgICR3aW5kb3cubG9jYWxTdG9yYWdlWyduYmFzbHAnXSA9IHRva2VuO1xuICAgIH07XG5cbiAgICBjb25zdCBnZXRUb2tlbiA9XHRmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAkd2luZG93LmxvY2FsU3RvcmFnZVsnbmJhc2xwJ107XG4gICAgfTtcblxuICAgIGNvbnN0IGlzTG9nZ2VkSW4gPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHRva2VuID0gZ2V0VG9rZW4oKTtcbiAgICAgICAgbGV0IHBheWxvYWQ7XG5cbiAgICAgICAgaWYgKHRva2VuKSB7XG4gICAgICAgICAgICBwYXlsb2FkID0gdG9rZW4uc3BsaXQoJy4nKVsxXTtcbiAgICAgICAgICAgIHBheWxvYWQgPSAkd2luZG93LmF0b2IocGF5bG9hZCk7XG4gICAgICAgICAgICBwYXlsb2FkID0gSlNPTi5wYXJzZShwYXlsb2FkKTtcbiAgICAgICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGN1cnJlbnRVc2VyID0gKCkgPT4ge1xuICAgICAgICBpZiAoaXNMb2dnZWRJbikge1xuICAgICAgICAgICAgY29uc3QgdG9rZW4gPSBnZXRUb2tlbigpO1xuICAgICAgICAgICAgbGV0IHBheWxvYWQgPSB0b2tlbi5zcGxpdCgnLicpWzFdO1xuICAgICAgICAgICAgcGF5bG9hZCA9ICR3aW5kb3cuYXRvYihwYXlsb2FkKTtcbiAgICAgICAgICAgIHBheWxvYWQgPSBKU09OLnBhcnNlKHBheWxvYWQpO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVzZXJJZDogcGF5bG9hZC5faWQsXG4gICAgICAgICAgICAgICAgZW1haWw6IHBheWxvYWQuZW1haWwsXG4gICAgICAgICAgICAgICAgYWNjb3VudFN0YXR1czogcGF5bG9hZC5hY2NvdW50U3RhdHVzLFxuICAgICAgICAgICAgICAgIGFjY291bnRUeXBlOiBwYXlsb2FkLmFjY291bnRUeXBlLFxuICAgICAgICAgICAgICAgIGFjY291bnRJZDogcGF5bG9hZC51c2VySWQsXG4gICAgICAgICAgICAgICAgbmFtZTogcGF5bG9hZC5uYW1lLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBMb2dvdXQgPSAoKSA9PiB7XG4gICAgICAgICR3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ25iYXNscCcpO1xuICAgIH07XG5cbiAgICBjb25zdCBzaWduVXAgPSAodXNlcikgPT4ge1xuICAgICAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9zaWdudXAnLCB1c2VyKS5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICBzYXZlVG9rZW4oZGF0YS50b2tlbik7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBzaWduSW4gPSAodXNlcikgPT4ge1xuICAgICAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9zaWduaW4nLCB1c2VyKS5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICBzYXZlVG9rZW4oZGF0YS50b2tlbik7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVTdWNjZXNzID0gKHJlc3BvbnNlKSA9PiByZXNwb25zZTtcblxuICAgIGNvbnN0IGhhbmRsZUVycm9yID0gKHJlc3BvbnNlKSA9PiByZXNwb25zZTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGN1cnJlbnRVc2VyOiBjdXJyZW50VXNlcixcbiAgICAgICAgc2F2ZVRva2VuOiBzYXZlVG9rZW4sXG4gICAgICAgIGdldFRva2VuOiBnZXRUb2tlbixcbiAgICAgICAgaXNMb2dnZWRJbjogaXNMb2dnZWRJbixcbiAgICAgICAgc2lnblVwOiBzaWduVXAsXG4gICAgICAgIHNpZ25Jbjogc2lnbkluLFxuICAgICAgICBMb2dvdXQ6IExvZ291dCxcbiAgICB9O1xufVxuXG4iLCIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCBhY2NvdW50IHNlcnZpY2UgZm9yIGFwcFxufCBAYXV0aG9yOiBqYWhpZCBoYXF1ZSA8amFoaWQuaGFxdWVAeWFob28uY29tPlxufCBAY29weXJpZ2h0OiBuYmEtc2xwLCAyMDE3XG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4oZnVuY3Rpb24gKCkge1xuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbmJhc2xwJylcbiAgICAgICAgLnNlcnZpY2UoJ2FjY291bnQnLCBhY2NvdW50KTtcblxuICAgIGFjY291bnQuJGluamVjdCA9IFsnJHdpbmRvdycsICckaHR0cCddO1xuXG4gICAgZnVuY3Rpb24gYWNjb3VudCgkd2luZG93LCAkaHR0cCkge1xuXG4gICAgICAgIGNvbnN0IGNyZWF0ZUFjdGl2YXRpb25Db2RlID0gKHVzZXJJZCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwIFxuICAgICAgICAgICAgICAgIC5wb3N0KCcvYXBpLycgKyB1c2VySWQgKyAnL2dlbmVyYXRldmFsaWRhdGlvbmNvZGUnKVxuICAgICAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCB2YWxpZGF0ZUFjdGl2YXRpb25Db2RlID0gKHVzZXJJZCwgY29kZSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwIFxuICAgICAgICAgICAgICAgIC5wb3N0KCcvYXBpLycgKyB1c2VySWQgKyAnLycgKyBjb2RlICsgJy92YWxpZGF0ZScpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGdldEFjY291bnRTdGF0dXNlcyA9ICh1c2VySWQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cCBcbiAgICAgICAgICAgICAgICAuZ2V0KCcvYXBpLycgKyB1c2VySWQgKyAnL3N0YXR1c2VzJylcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgZ2V0Q29tbWl0dGVlID0gKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwXG4gICAgICAgICAgICAgICAgLmdldCgnL2FwaS9zaG93Y29tbWl0dGVlJylcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgdXBkYXRlVXNlclN0YXR1cyA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHBcbiAgICAgICAgICAgICAgICAucG9zdCgnL2FwaS91c2Vyc3RhdHVzJywgZGF0YSlcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3Qgc2F2ZUJhc2ljSW5mbyA9IChkYXRhKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAgXG4gICAgICAgICAgICAgICAgLnBvc3QoJy9hcGkvY3JlYXRlYmFzaWNwcm9maWxlJywgZGF0YSlcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3Qgc2F2ZUJyYW5jaEluZm8gPSAodXNlcklkLCBkYXRhKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHBcbiAgICAgICAgICAgICAgICAucG9zdCgnL2FwaS8nICsgdXNlcklkICsgJy9zYXZlYnJhbmNoaW5mbycsIGRhdGEpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHVwbG9hZFRlbGxlckRvY3MgPSAoZmlsZSwgdXNlcklkKSA9PiB7XG4gICAgICAgICAgICB2YXIgZmQgPSBuZXcgRm9ybURhdGEoKTtcbiAgICAgICAgICAgIGZkLmFwcGVuZCgndGVsbGVyRG9jJywgZmlsZSk7XG5cbiAgICAgICAgICAgIHJldHVybiAkaHR0cFxuICAgICAgICAgICAgICAgIC5wb3N0KCcvYXBpL2RvY3VwbG9hZC8nICsgdXNlcklkLCBmZCwge1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm1SZXF1ZXN0OiBhbmd1bGFyLmlkZW50aXR5LFxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiB1bmRlZmluZWQgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHNhdmVCYW5rVGVsbGVyID0gKHRlbGxlcikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwXG4gICAgICAgICAgICAgICAgLnBvc3QoJy9hcGkvc2F2ZWJhbmt0ZWxsZXInLCB0ZWxsZXIpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGdldEJhbmtUZWxsZXIgPSAodXNlcklkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAgXG4gICAgICAgICAgICAgICAgLmdldCgnL2FwaS8nICsgdXNlcklkICsgJy9iYW5rdGVsbGVyJylcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgLypcbiAgICAgICAgfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgfCBGb2xsb3dpbmcgZnVuY3Rpb24gd2lsbCBsb2FkIGFsbCBkYXRhIGZvciB1c2VyXG4gICAgICAgIHwgYmFzZWQgb24gZ2l2ZW4gdXNlckVtYWlsIGFuZCBjb2xsZWN0aW9uIG5hbWVcbiAgICAgICAgfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgKi9cbiAgICAgICAgY29uc3QgbG9hZFVzZXJJbmZvID0gKGNvbGxlY3Rpb25OYW1lLCB1c2VySWQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cCBcbiAgICAgICAgICAgICAgICAuZ2V0KCcvYXBpLycgKyB1c2VySWQgKyAnLycgKyBjb2xsZWN0aW9uTmFtZSArICcvdXNlcmluZm8nKVxuICAgICAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBoYW5kbGVTdWNjZXNzID0gKHJlc3BvbnNlKSA9PiByZXNwb25zZTtcblxuICAgICAgICBjb25zdCBoYW5kbGVFcnJvciA9IChyZXNwb25zZSkgPT4gcmVzcG9uc2U7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHVwbG9hZFRlbGxlckRvY3M6IHVwbG9hZFRlbGxlckRvY3MsXG4gICAgICAgICAgICBjcmVhdGVBY3RpdmF0aW9uQ29kZTogY3JlYXRlQWN0aXZhdGlvbkNvZGUsXG4gICAgICAgICAgICB2YWxpZGF0ZUFjdGl2YXRpb25Db2RlOiB2YWxpZGF0ZUFjdGl2YXRpb25Db2RlLFxuICAgICAgICAgICAgZ2V0QWNjb3VudFN0YXR1c2VzOiBnZXRBY2NvdW50U3RhdHVzZXMsXG4gICAgICAgICAgICB1cGRhdGVVc2VyU3RhdHVzOiB1cGRhdGVVc2VyU3RhdHVzLFxuICAgICAgICAgICAgc2F2ZUJhc2ljSW5mbzogc2F2ZUJhc2ljSW5mbyxcbiAgICAgICAgICAgIHNhdmVCcmFuY2hJbmZvOiBzYXZlQnJhbmNoSW5mbyxcbiAgICAgICAgICAgIGxvYWRVc2VySW5mbzogbG9hZFVzZXJJbmZvLFxuICAgICAgICAgICAgZ2V0Q29tbWl0dGVlOiBnZXRDb21taXR0ZWUsXG4gICAgICAgICAgICBzYXZlQmFua1RlbGxlcjogc2F2ZUJhbmtUZWxsZXIsXG4gICAgICAgICAgICBnZXRCYW5rVGVsbGVyOiBnZXRCYW5rVGVsbGVyLFxuICAgICAgICB9O1xuICAgIH1cblxufSkoKTtcbiIsIi8qXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBzZXR0aW5nIHVwIHNlcnZpY2UgZm9yIHNpdGUtY29udHJvbGxlciBmb3IgYWRtaW5cbnwgQGF1dGhvcjogamFoaWQgaGFxdWUgPGphaGlkLmhhcXVlQHlhaG9vLmNvbT5cbnwgQGNvcHlyaWdodDogbmJhLXNscCwgMjAxOFxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbmJhc2xwJylcbiAgICAgICAgLnNlcnZpY2UoJ3NpdGVjb250cm9sbGVyJywgc2l0ZWNvbnRyb2xsZXIpO1xuXG4gICAgc2l0ZWNvbnRyb2xsZXIuJGluamVjdCA9IFsnJGh0dHAnXTtcblxuICAgIGZ1bmN0aW9uIHNpdGVjb250cm9sbGVyKCRodHRwKSB7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBhZGRQcmVmZXJyZWRDb21taXR0ZWUgPSAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwXG4gICAgICAgICAgICAgICAgLnBvc3QoJy9hcGkvY3JlYXRlY29tbWl0dGVlJywgZGF0YSlcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3Qgc2hvd0FsbENvbW1pdHRlZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cFxuICAgICAgICAgICAgICAgIC5nZXQoJy9hcGkvc2hvd2NvbW1pdHRlZScpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHJlbW92ZUNvbW1pdHRlZSA9IChjb21taXR0ZWVJZCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwIFxuICAgICAgICAgICAgICAgIC5kZWxldGUoJy9hcGkvJyArIGNvbW1pdHRlZUlkICsgJy9yZW1vdmVjb21taXR0ZWUnKVxuICAgICAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBhZGRDb3VuY2lsID0gKGRhdGEpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cCBcbiAgICAgICAgICAgICAgICAucG9zdCgnL2FwaS9jb3VuY2lsbWVtYmVyJywgZGF0YSlcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3Qgc2hvd0NvdW5jaWxNZW1iZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAgXG4gICAgICAgICAgICAgICAgLmdldCgnL2FwaS9zaG93Y291bmNpbCcpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHJlbW92ZUNvdW5jaWwgPSAoY291bmNpbElkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAgXG4gICAgICAgICAgICAgICAgLmRlbGV0ZSgnL2FwaS8nICsgY291bmNpbElkICsgJy9jb3VuY2lsJylcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgYWRkRXZlbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cCBcbiAgICAgICAgICAgICAgICAucG9zdCgnL2FwaS9ldmVudCcsIGV2ZW50KVxuICAgICAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBzaG93RXZlbnQgPSAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHBcbiAgICAgICAgICAgICAgICAuZ2V0KCcvYXBpL3Nob3dFdmVudCcpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHJlbW92ZUV2ZW50ID0gKGV2ZW50SWQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cFxuICAgICAgICAgICAgICAgIC5kZWxldGUoJy9hcGkvJyArIGV2ZW50SWQgKyAnL2V2ZW50JylcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgaGFuZGxlU3VjY2VzcyA9IChyZXNwb25zZSkgPT4gcmVzcG9uc2U7XG5cbiAgICAgICAgY29uc3QgaGFuZGxlRXJyb3IgPSAocmVzcG9uc2UpID0+IHJlc3BvbnNlO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhZGRQcmVmZXJyZWRDb21taXR0ZWU6IGFkZFByZWZlcnJlZENvbW1pdHRlZSxcbiAgICAgICAgICAgIHNob3dBbGxDb21taXR0ZWU6IHNob3dBbGxDb21taXR0ZWUsXG4gICAgICAgICAgICByZW1vdmVDb21taXR0ZWU6IHJlbW92ZUNvbW1pdHRlZSxcbiAgICAgICAgICAgIGFkZENvdW5jaWw6IGFkZENvdW5jaWwsXG4gICAgICAgICAgICBzaG93Q291bmNpbE1lbWJlcjogc2hvd0NvdW5jaWxNZW1iZXIsXG4gICAgICAgICAgICByZW1vdmVDb3VuY2lsOiByZW1vdmVDb3VuY2lsLFxuICAgICAgICAgICAgYWRkRXZlbnQ6IGFkZEV2ZW50LFxuICAgICAgICAgICAgc2hvd0V2ZW50OiBzaG93RXZlbnQsXG4gICAgICAgICAgICByZW1vdmVFdmVudDogcmVtb3ZlRXZlbnQsXG4gICAgICAgIH07XG5cbiAgICB9XG5cbn0pKCk7XG4iLCIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCB1c2VyIGNvbnRyb2xsZXIgc2VydmljZVxufCBAYXV0aG9yOiBqYWhpZCBoYXF1ZSA8amFoaWQuaGFxdWVAeWFob28uY29tPlxufCBAY29weXJpZ2h0OiBuYmEtc2xwLCAyMDE4XG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4oZnVuY3Rpb24gKCkge1xuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbmJhc2xwJylcbiAgICAgICAgLnNlcnZpY2UoJ3VzZXJjb250cm9sbGVyJywgdXNlcmNvbnRyb2xsZXIpO1xuXG4gICAgdXNlcmNvbnRyb2xsZXIuJGluamVjdCA9IFsnJGh0dHAnXTtcblxuICAgIGZ1bmN0aW9uIHVzZXJjb250cm9sbGVyKCRodHRwKSB7XG5cblxuICAgICAgICBjb25zdCBzaG93TWVtYmVycyA9ICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cFxuICAgICAgICAgICAgICAgIC5nZXQoJy9hcGkvbWVtYmVycycpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHNob3dTaW5nbGVNZW1iZXIgPSAobWVtYmVySWQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cCBcbiAgICAgICAgICAgICAgICAuZ2V0KCcvYXBpLycgKyBtZW1iZXJJZCArICcvbWVtYmVyJylcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3Qgc2hvd01lbWJlclByb2ZpbGUgPSAobWVtYmVySWQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cCBcbiAgICAgICAgICAgICAgICAuZ2V0KCcvYXBpLycgKyBtZW1iZXJJZCArICcvcHJvZmlsZScpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHNob3dNZW1iZXJCcmFuY2ggPSAobWVtYmVySWQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cCBcbiAgICAgICAgICAgICAgICAuZ2V0KCcvYXBpLycgKyBtZW1iZXJJZCArICcvYnJhbmNoJylcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cblxuICAgICAgICBjb25zdCBoYW5kbGVTdWNjZXNzID0gKHJlc3BvbnNlKSA9PiByZXNwb25zZTtcblxuICAgICAgICBjb25zdCBoYW5kbGVFcnJvciA9IChyZXNwb25zZSkgPT4gcmVzcG9uc2U7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNob3dNZW1iZXJzOiBzaG93TWVtYmVycyxcbiAgICAgICAgICAgIHNob3dTaW5nbGVNZW1iZXI6IHNob3dTaW5nbGVNZW1iZXIsXG4gICAgICAgICAgICBzaG93TWVtYmVyUHJvZmlsZTogc2hvd01lbWJlclByb2ZpbGUsXG4gICAgICAgICAgICBzaG93TWVtYmVyQnJhbmNoOiBzaG93TWVtYmVyQnJhbmNoLFxuICAgICAgICB9O1xuICAgIH1cblxufSkoKTsiLCIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCB1c2VyIGNvbnRyb2xsZXIgZm9yIHRoZSBhcHBcbnwgQGF1dGhvcjogamFoaWQgaGFxdWUgPGphaGlkLmhhcXVlQHlhaG9vLmNvbT5cbnwgQGNvcHlyaWdodDogbmJhLXNscCwgMjAxOFxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbmJhc2xwJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ3VzZXJjb250cm9sbEN0cmwnLCB1c2VyY29udHJvbGxDdHJsKTtcblxuICAgIHVzZXJjb250cm9sbEN0cmwuJGluamVjdCA9IFsndXNlcmNvbnRyb2xsZXInLCAnYWNjb3VudCcsICckcm91dGVQYXJhbXMnXTtcblxuICAgIGZ1bmN0aW9uIHVzZXJjb250cm9sbEN0cmwodXNlcmNvbnRyb2xsZXIsIGFjY291bnQsICRyb3V0ZVBhcmFtcykge1xuICAgICAgICBcbiAgICAgICAgY29uc3QgdXNlcnZtID0gdGhpcztcblxuICAgICAgICB1c2VyY29udHJvbGxlclxuICAgICAgICAgICAgLnNob3dNZW1iZXJzKClcbiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB1c2Vydm0uc2hvd01lbWJlckVycm9yID0gdHJ1ZTsgXG4gICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5zaG93TWVtYmVyRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yOyBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5tZW1iZXJzID0gcmVzcG9uc2UuZGF0YS5tZW1iZXJzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICB1c2Vydm0uc2hvd01lbWJlckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB1c2Vydm0uc2hvd01lbWJlckVycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgfSk7XG5cblxuICAgICAgICAvLyBpbml0aWFsIGZ1bmN0aW9uIHRvIGNoZWNrIHdoZXRoZXIgdXNlciBjbGlja2VkIGFueSBtZW1iZXIgbmFtZVxuICAgICAgICB1c2Vydm0uY2hlY2tSb3V0ZXMgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoJHJvdXRlUGFyYW1zLnYpIHtcbiAgICAgICAgICAgICAgICB1c2Vydm0uY2xpY2tlZE1lbWJlck5hbWUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdXNlcnZtLmNsaWNrZWRNZW1iZXJOYW1lID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cblxuICAgICAgICAvKlxuICAgICAgICB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICB8IEZvbGxvd2luZyBmdW5jdGlvbiB3aWxsIGdldCBpbmRpdmlkdWFsIG1lbWJlcidzXG4gICAgICAgIHwgZGV0YWlsc1xuICAgICAgICB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAqL1xuICAgICAgICB1c2Vydm0ubG9hZFVzZXJJbmZvID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbWVtZWJySWQgPSAkcm91dGVQYXJhbXMudjtcblxuICAgICAgICAgICAgdXNlcmNvbnRyb2xsZXJcbiAgICAgICAgICAgICAgICAuc2hvd1NpbmdsZU1lbWJlcihtZW1lYnJJZClcbiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2Vydm0uc2luZ2xlTWVtYmVyTG9hZGluZ0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5zaW5nbGVNZW1iZXJMb2FkaW5nRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcnZtLnNpbmdsZU1lbWJlckxvYWRpbmdFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcnZtLnNpbmdsZU1lbWJlciA9IHJlc3BvbnNlLmRhdGEubWVtYmVyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdXNlcnZtLnNpbmdsZU1lbWJlckxvYWRpbmdFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5zaW5nbGVNZW1iZXJMb2FkaW5nRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdXNlcnZtLmxvYWRVc2VyUHJvZmlsZSA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1lbWVicklkID0gJHJvdXRlUGFyYW1zLnY7XG5cbiAgICAgICAgICAgIHVzZXJjb250cm9sbGVyXG4gICAgICAgICAgICAgICAgLnNob3dNZW1iZXJQcm9maWxlKG1lbWVicklkKVxuICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5wcm9maWxlTG9hZGluZ0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5wcm9maWxlTG9hZGluZ0Vycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5wcm9maWxlTG9hZGluZ0Vycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2Vydm0ubWVtYmVyUHJvZmlsZSA9IHJlc3BvbnNlLmRhdGEucHJvZmlsZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5wcm9maWxlTG9hZGluZ0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdXNlcnZtLnByb2ZpbGVMb2FkaW5nRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdXNlcnZtLmxvYWRVc2VyQnJhbmNoID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbWVtZWJySWQgPSAkcm91dGVQYXJhbXMudjtcblxuICAgICAgICAgICAgdXNlcmNvbnRyb2xsZXJcbiAgICAgICAgICAgICAgICAuc2hvd01lbWJlckJyYW5jaChtZW1lYnJJZClcbiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2Vydm0uYnJhbmNoTG9hZGluZ0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5icmFuY2hMb2FkaW5nRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcnZtLmJyYW5jaExvYWRpbmdFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcnZtLm1lbWJlckJyYW5jaCA9IHJlc3BvbnNlLmRhdGEuYnJhbmNoO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdXNlcnZtLmJyYW5jaExvYWRpbmdFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5icmFuY2hMb2FkaW5nRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdXNlcnZtLmxvYWRCYW5rVGVsbGVyID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbWVtZWJySWQgPSAkcm91dGVQYXJhbXMudjtcblxuICAgICAgICAgICAgYWNjb3VudFxuICAgICAgICAgICAgICAgIC5nZXRCYW5rVGVsbGVyKG1lbWVicklkKVxuICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5iYW5rVGVsbGVyTG9hZGluZ0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5iYW5rVGVsbGVyTG9hZGluZ0Vycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5iYW5rVGVsbGVyTG9hZGluZ0Vycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2Vydm0ubWVtYmVyYmFua1RlbGxlciA9IHJlc3BvbnNlLmRhdGEuYmFua1RlbGxlcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5iYW5rVGVsbGVyTG9hZGluZ0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdXNlcnZtLmJhbmtUZWxsZXJMb2FkaW5nRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfVxuXG5cbn0pKCk7IiwiLypcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG58IHNldHRpbmcgdXAgc3lzdGVtIHNlcnZpY2UgZm9yIHRoZSBhcHBcbnwgQGF1dGhvcjogamFoaWQgaGFxdWUgPGphaGlkLmhhcXVlQHlhaG9vLmNvbT5cbnwgQGNvcHlyaWdodDogbmFiLXNscCwgMjAxOFxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbmJhc2xwJylcbiAgICAgICAgLnNlcnZpY2UoJ3N5c3RlbVNlcnZpY2UnLCBzeXN0ZW1TZXJ2aWNlKTtcbiAgICAgICAgXG4gICAgc3lzdGVtU2VydmljZS4kaW5qZWN0ID0gWyckaHR0cCddO1xuXG4gICAgZnVuY3Rpb24gc3lzdGVtU2VydmljZSgkaHR0cCkge1xuICAgICAgICBcbiAgICAgICAgY29uc3Qgc2VuZENvbnRhY3RNZXNzYWdlID0gKG1lc3NhZ2UpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cFxuICAgICAgICAgICAgICAgIC5wb3N0KCcvYXBpL3NlbmRtZXNzYWdlJywgbWVzc2FnZSlcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgaGFuZGxlU3VjY2VzcyA9IChyZXNwb25zZSkgPT4gcmVzcG9uc2U7XG5cbiAgICAgICAgY29uc3QgaGFuZGxlRXJyb3IgPSAocmVzcG9uc2UpID0+IHJlc3BvbnNlO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzZW5kQ29udGFjdE1lc3NhZ2U6IHNlbmRDb250YWN0TWVzc2FnZSxcbiAgICAgICAgfTtcbiAgICB9XG5cbn0pKCk7IiwiLypcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG58IHNldHRpbmcgdXAgbmF2aWdhdGlvbiBkaXJlY3RpdmUgZm9yIHRoZSBhcHBcbnwgQGF1dGhvcjogamFoaWQgaGFxdWUgPGphaGlkLmhhcXVlQHlhaG9vLmNvbT5cbnwgQGNvcHlyaWdodDogbmJhc2xwLCAyMDE3XG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4oZnVuY3Rpb24gKCkge1xuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbmJhc2xwJylcbiAgICAgICAgLmRpcmVjdGl2ZSgnc2l0ZU5hdicsIHNpdGVOYXYpO1xuXG4gICAgZnVuY3Rpb24gc2l0ZU5hdigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21tb24vZGlyZWN0aXZlcy9uYXYvc2l0ZS1uYXYudGVtcGxhdGUuaHRtbCcsXG4gICAgICAgICAgICBjb250cm9sbGVyOiAnbmF2Q3RybCBhcyBudm0nLFxuICAgICAgICB9O1xuICAgIH1cbn0pKCk7XG4iLCIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCBjb250cm9sbGVyIGZvciBuYXZpZ2F0aW9uXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5iYXNscCwgMjAxN1xufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25iYXNscCcpXG4gICAgICAgIC5jb250cm9sbGVyKCduYXZDdHJsJywgbmF2Q3RybCk7XG5cbiAgICBuYXZDdHJsLiRpbmplY3QgPSBbJ2F1dGhlbnRpY2F0aW9uJywgJyRsb2NhdGlvbiddO1xuXG4gICAgZnVuY3Rpb24gbmF2Q3RybChhdXRoZW50aWNhdGlvbiwgJGxvY2F0aW9uKSB7XG4gICAgICAgIGNvbnN0IG52bSA9IHRoaXM7XG5cbiAgICAgICAgaWYgKGF1dGhlbnRpY2F0aW9uLmlzTG9nZ2VkSW4oKSkge1xuICAgICAgICAgICAgbnZtLmxvZ2dlZEluVXJpID0gdHJ1ZTtcbiAgICAgICAgICAgIG52bS5sb2dnZWRJbk5hbWUgPSBhdXRoZW50aWNhdGlvbi5jdXJyZW50VXNlcigpLm5hbWU7XG4gICAgICAgICAgICBudm0uY3VycmVudEFjY291bnRUeXBlID0gYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5hY2NvdW50VHlwZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG52bS5sb2dnZWRJblVyaSA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgbnZtLmxvZ291dCA9ICgpID0+IHtcbiAgICAgICAgICAgIGF1dGhlbnRpY2F0aW9uLkxvZ291dCgpO1xuICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9zaWduaW4nKTtcbiAgICAgICAgfTtcbiAgICB9XG59KSgpO1xuIiwiLypcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG58IHNldHRpbmcgdXAgZm9vdGVyIGRpcmVjdGl2ZSBmb3IgYXBwbGljYXRpb25cbnwgQGF1dGhvcjogamFoaWQgaGFxdWUgPGphaGlkLmhhcXVlQHlhaG9vLmNvbT5cbnwgQGNvcHlyaWdodDogbmJhc2xwLCAyMDE3XG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4oZnVuY3Rpb24gKCkge1xuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbmJhc2xwJylcbiAgICAgICAgLmRpcmVjdGl2ZSgnc2l0ZUZvb3RlcicsIHNpdGVGb290ZXIpO1xuICAgIGZ1bmN0aW9uIHNpdGVGb290ZXIoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tbW9uL2RpcmVjdGl2ZXMvZm9vdGVyL2Zvb3Rlci50ZW1wbGF0ZS5odG1sJyxcbiAgICAgICAgfTtcbiAgICB9XG59KSgpO1xuIiwiLypcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG58IHNldHRpbmcgdXAgZmlsZSB1cGxvYWQgZGlyZWN0aXZlXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5jbGhhbGFsLCAyMDE3XG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuKi9cbihmdW5jdGlvbigpe1xuXHRhbmd1bGFyXG5cdFx0Lm1vZHVsZSgnbmJhc2xwJylcblx0XHQuZGlyZWN0aXZlKCdmaWxlTW9kZWwnLCBmaWxlTW9kZWwpO1xuXG5cdGZpbGVNb2RlbC4kaW5qZWN0ID0gWyckcGFyc2UnXTtcblxuXHRmdW5jdGlvbiBmaWxlTW9kZWwoJHBhcnNlKXtcblx0XHRyZXR1cm4ge1xuICAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCAkZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgICAgIHZhciBwYXJzZWRGaWxlID0gJHBhcnNlKGF0dHJzLmZpbGVNb2RlbCk7XG4gICAgICAgICAgICB2YXIgcGFyc2VkRmlsZVNldHRlciA9IHBhcnNlZEZpbGUuYXNzaWduO1xuICAgICAgICAgICAgJGVsZW1lbnQub24oJ2NoYW5nZScsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgIHBhcnNlZEZpbGVTZXR0ZXIoc2NvcGUsICRlbGVtZW50WzBdLmZpbGVzWzBdKTtcbiAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICB9LFxuICAgIH07XG5cdH1cbn0pKCk7XG4iLCIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCBzaWRlYmFyIGRpcmVjdGl2ZSBmb3IgdGhlIGFwcFxufCBAYXV0aG9yOiBqYWhpZCBoYXF1ZSA8amFoaWQuaGFxdWVAeWFob28uY29tPlxufCBAY29weXJpZ2h0OiBuYmEtc2xwLCAyMDE4XG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4oZnVuY3Rpb24gKCkge1xuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbmJhc2xwJylcbiAgICAgICAgLmRpcmVjdGl2ZSgnc2lkZUJhcicsIHNpZGVCYXIpO1xuXG4gICAgZnVuY3Rpb24gc2lkZUJhcigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21tb24vZGlyZWN0aXZlcy9zaWRlYmFyL3NpZGViYXIudGVtcGxhdGUuaHRtbCcsXG4gICAgICAgIH07XG4gICAgfVxufSkoKTsiLCIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCBjb250cm9sbGVyIGZvciB3ZWxjb21lIHBhZ2VcbnwgQGF1dGhvcjogamFoaWQgaGFxdWUgPGphaGlkLmhhcXVlQHlhaG9vLmNvbT5cbnwgQGNvcHlyaWdodDogbmJhc2xwLCAyMDE3XG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4oZnVuY3Rpb24gKCkge1xuICAgIFxuICAgIGFuZ3VsYXIgXG4gICAgICAgIC5tb2R1bGUoJ25iYXNscCcpXG4gICAgICAgIC5jb250cm9sbGVyKCd3ZWxjb21lQ3RybCcsIHdlbGNvbWVDdHJsKTtcblxuICAgIHdlbGNvbWVDdHJsLiRpbmplY3QgPSBbJ2F1dGhlbnRpY2F0aW9uJywgJyRsb2NhdGlvbiddO1xuXG4gICAgZnVuY3Rpb24gd2VsY29tZUN0cmwoYXV0aGVudGljYXRpb24sICRsb2NhdGlvbikge1xuICAgICAgICBjb25zdCB3dm0gPSB0aGlzO1xuICAgIH1cblxufSkoKTtcbiIsIi8qXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBzZXR0aW5nIHVwIGNvbW1pdHRlZXMgZm9yIHRoZSBhcHBcbnwgQGF1dGhvcjogamFoaWQgaGFxdWUgPGphaGlkLmhhcXVlQHlhaG9vLmNvbT5cbnwgQGNvcHlyaWdodDogbmJhLXNscCwgMjAxOFxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbmJhc2xwJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ2NvbW1pdHRlZXNDdHJsJywgY29tbWl0dGVlc0N0cmwpO1xuXG4gICAgY29tbWl0dGVlc0N0cmwuJGluamVjdCA9IFsnc2l0ZWNvbnRyb2xsZXInXTtcblxuICAgIGZ1bmN0aW9uIGNvbW1pdHRlZXNDdHJsKHNpdGVjb250cm9sbGVyKSB7XG4gICAgICAgIGNvbnN0IGN2bSA9IHRoaXM7XG5cbiAgICAgICAgY3ZtLmxvYWRDb21taXR0ZWUgPSAoKSA9PiB7XG4gICAgICAgICAgICBzaXRlY29udHJvbGxlclxuICAgICAgICAgICAgICAgIC5zaG93QWxsQ29tbWl0dGVlKClcdFxuICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN2bS5jb21taXR0ZWVMb2FkaW5nRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3ZtLmNvbW1pdHRlZUxvYWRpbmdFcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdm0uY29tbWl0dGVlTG9hZGluZ0Vycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdm0uY29tbWl0dGVlcyA9IHJlc3BvbnNlLmRhdGEuY29tbWl0dGVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY3ZtLmNvbW1pdHRlZUxvYWRpbmdFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGN2bS5jb21taXR0ZWVMb2FkaW5nRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbn0pKCk7IiwiLypcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG58IHNldHRpbmcgdXAgZXZlbnQgY29udHJvbGxlciBmb3IgdGhlIGFwcFxufCBAYXV0aG9yOiBqYWhpZCBoYXF1ZSA8amFoaWQuaGFxdWVAeWFob28uY29tPlxufCBAY29weXJpZ2h0OiBuYmEtc2xwLCAyMDE4XG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4oZnVuY3Rpb24gKCkge1xuICAgIFxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbmJhc2xwJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ2V2ZW50c0N0cmwnLCBldmVudHNDdHJsKTtcblxuICAgIGV2ZW50c0N0cmwuJGluamVjdCA9IFsnc2l0ZWNvbnRyb2xsZXInXTtcblxuICAgIGZ1bmN0aW9uIGV2ZW50c0N0cmwoc2l0ZWNvbnRyb2xsZXIpIHtcblxuICAgICAgICBjb25zdCBldm0gPSB0aGlzO1xuXG4gICAgICAgIGV2bS5zaG93RXZlbnRzID0gKCkgPT4ge1xuICAgICAgICAgICAgc2l0ZWNvbnRyb2xsZXJcbiAgICAgICAgICAgICAgICAuc2hvd0V2ZW50KClcbiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBldm0uZXZlbnRMb2FkRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZtLmV2ZW50TG9hZEVycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2bS5ldmVudExvYWRFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZtLmV2ZW50cyA9IHJlc3BvbnNlLmRhdGEuZXZlbnRzO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZtLmV2ZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZtLm5vRXZlbnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2bS5ub0V2ZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGV2bS5ldmVudExvYWRFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGV2bS5ldmVudExvYWRFcnJvck1zZyA9IGVycjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICB9XG5cbn0pKCk7IiwiLypcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG58IHNldHRpbmcgdXAgYWJvdXQgdXMgY29udHJvbGxlciBmb3IgYXBwXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5iYS1zbHAsIDIwMThcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbihmdW5jdGlvbiAoKSB7XG4gICAgXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCduYmFzbHAnKVxuICAgICAgICAuY29udHJvbGxlcignYWJvdXR1c0N0cmwnLCBhYm91dHVzQ3RybCk7XG5cbiAgICBmdW5jdGlvbiBhYm91dHVzQ3RybCgpIHtcbiAgICAgICAgY29uc3QgYWJ2bSA9IHRoaXM7XG4gICAgfVxuIFxufSkoKTsiLCIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCBjb250YWN0IGNvbnRyb2xsZXIgZm9yIHRoZSBhcHBcbnwgQGF1dGhvcjogamFoaWQgaGFxdWUgPGphaGlkLmhhcXVlQHlhaG9vLmNvbT5cbnwgQGNvcHlyaWdodDogbmJhLXNscCwgMjAxOFxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcbiAgICBcbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25iYXNscCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdjb250YWN0dXNDdHJsJywgY29udGFjdHVzQ3RybCk7XG5cbiAgICBjb250YWN0dXNDdHJsLiRpbmplY3QgPSBbJ3N5c3RlbVNlcnZpY2UnXTtcblxuICAgIGZ1bmN0aW9uIGNvbnRhY3R1c0N0cmwoc3lzdGVtU2VydmljZSkge1xuICAgICAgICBjb25zdCBjdm0gPSB0aGlzO1xuXG4gICAgICAgIGN2bS5jb250YWN0ID0ge1xuICAgICAgICAgICAgbmFtZTogJycsXG4gICAgICAgICAgICBlbWFpbDogJycsXG4gICAgICAgICAgICBtZXNzYWdlOiAnJyxcbiAgICAgICAgfTtcblxuICAgICAgICBjdm0uY29udGFjdFVzID0gKCkgPT4ge1xuICAgICAgICAgICAgc3lzdGVtU2VydmljZVxuICAgICAgICAgICAgICAgIC5zZW5kQ29udGFjdE1lc3NhZ2UoY3ZtLmNvbnRhY3QpXG4gICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3ZtLnNlbmRNZXNzYWdlRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3ZtLnNlbmRNZXNzYWdlRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3ZtLnNlbmRNZXNzYWdlU3VjY2VzcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdm0uc2VuZE1lc3NhZ2VTdWNjZXNzTXNnID0gJ1dlIGhhdmUgcmVjZWl2ZWQgeW91ciBtZXNzYWdlLiBXZSB3aWxsIGJlIGluIHRvdWNoIHdpdGggeW91IHNvb24nO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY3ZtLnNlbmRNZXNzYWdlRXJyb3IgPSB0cnVlO1x0XG4gICAgICAgICAgICAgICAgICAgIGN2bS5zZW5kTWVzc2FnZUVycm9yTXNnID0gZXJyO1x0XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfVxuXG59KSgpOyIsIi8qXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBzZXR0aW5nIHVwIHNpZ251cCBjb250cm9sbGVyIGZvciB0aGUgYXBwXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5iYXNscCwgMjAxN1xufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25iYXNscCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdzaWdudXBDdHJsJywgc2lnbnVwQ3RybCk7XG5cbiAgICBzaWdudXBDdHJsLiRpbmplY3QgPSBbJ2F1dGhlbnRpY2F0aW9uJywgJyRsb2NhdGlvbiddO1xuXG4gICAgZnVuY3Rpb24gc2lnbnVwQ3RybChhdXRoZW50aWNhdGlvbiwgJGxvY2F0aW9uKSB7XG4gICAgICAgIGNvbnN0IHJlZ3ZtID0gdGhpcztcblxuICAgICAgICAvLyB1c2VyIG9iamVjdC5cbiAgICAgICAgcmVndm0udXNlciA9IHtcbiAgICAgICAgICAgIGZpcnN0TmFtZTogJycsXG4gICAgICAgICAgICBsYXN0TmFtZTogJycsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJycsXG4gICAgICAgICAgICBlbWFpbDogJycsXG4gICAgICAgICAgICBwYXNzd29yZDogJycsXG4gICAgICAgICAgICBjb25maXJtUGFzc3dvcmQ6ICcnLFxuICAgICAgICB9O1xuXG4gICAgICAgIHJlZ3ZtLnJlZ2lzdGVyID0gKCkgPT4ge1xuICAgICAgICAgICAgYXV0aGVudGljYXRpb25cbiAgICAgICAgICAgICAgICAuc2lnblVwKHJlZ3ZtLnVzZXIpXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWd2bS5SZWdpc3RyYXRpb25FcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWd2bS5SZWdpc3RyYXRpb25FcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWd2bS5SZWdpc3RyYXRpb25FcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy93ZWxjb21lJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ3ZtLlJlZ2lzdHJhdGlvbkVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ3ZtLlJlZ2lzdHJhdGlvbkVycm9yTXNnID0gZXJyLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoYXV0aGVudGljYXRpb24uaXNMb2dnZWRJbigpKSB7XG4gICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL3dlbGNvbWUnKTtcbiAgICAgICAgfVxuICAgIH1cbn0pKCk7XG4iLCIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCBjb250cm9sbGVyIGZvciBsb2dpbiBwYWdlXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5iYXNscCwgMjAxN1xufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25iYXNscCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdzaWduaW5DdHJsJywgc2lnbmluQ3RybCk7XG5cbiAgICBzaWduaW5DdHJsLiRpbmplY3QgPSBbJ2F1dGhlbnRpY2F0aW9uJywgJyRsb2NhdGlvbiddO1xuXG4gICAgZnVuY3Rpb24gc2lnbmluQ3RybChhdXRoZW50aWNhdGlvbiwgJGxvY2F0aW9uKSB7XG4gICAgICAgIGNvbnN0IGx2bSA9IHRoaXM7XG5cbiAgICAgICAgbHZtLnVzZXIgPSB7XG4gICAgICAgICAgICBlbWFpbDogJycsXG4gICAgICAgICAgICBwYXNzd29yZDogJycsXG4gICAgICAgIH07IFxuXG4gICAgICAgIGlmIChhdXRoZW50aWNhdGlvbi5pc0xvZ2dlZEluKCkpIHtcbiAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvd2VsY29tZScpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbHZtLmxvZ2luID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghbHZtLnVzZXIuZW1haWwgfHwgIWx2bS51c2VyLnBhc3N3b3JkKSB7XG4gICAgICAgICAgICAgICAgICAgIGx2bS5sb2dpbkVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgbHZtLmxvZ2luRXJyb3JNc2cgPSBgRXJyb3IhIGFsbCAqIGZpZWxkcyBhcmUgcmVxdWlyZWRgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbHZtLmxvZ2luRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgbHZtLmRvTG9naW4oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBsdm0uZG9Mb2dpbiA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGlvblxuICAgICAgICAgICAgICAgICAgICAuc2lnbkluKGx2bS51c2VyKVxuICAgICAgICAgICAgICAgICAgICAuZXJyb3IoKGVycikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbHZtLmxvZ2luRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgbHZtLmxvZ2luRXJyb3JNc2cgPSBlcnIuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvd2VsY29tZScpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbn0pKCk7XG4iLCIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCBjb250cm9sbGVyIGZvciBwcm9maWxlIHBhZ2VcbnwgQGF1dGhvcjogamFoaWQgaGFxdWUgPGphaGlkLmhhcXVlQHlhaG9vLmNvbT5cbnwgQGNvcHlyaWdodDogbmJhLXNscCwgMjAxN1xufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbmJhc2xwJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ3Byb2ZpbGVDdHJsJywgcHJvZmlsZUN0cmwpO1xuXG4gICAgcHJvZmlsZUN0cmwuJGluamVjdCA9IFsnJHNjb3BlJywgJ2F1dGhlbnRpY2F0aW9uJywgJyRsb2NhdGlvbicsICdhY2NvdW50JywgJyRyb3V0ZSddO1xuXG4gICAgZnVuY3Rpb24gcHJvZmlsZUN0cmwoJHNjb3BlLCBhdXRoZW50aWNhdGlvbiwgJGxvY2F0aW9uLCBhY2NvdW50LCAkcm91dGUpIHtcblxuICAgICAgICBjb25zdCBwcm92bSA9IHRoaXM7XG5cbiAgICAgICAgZnVuY3Rpb24gc3RhdHVzVXBkYXRlcih1cGRhdGVPYmplY3QpIHtcblxuICAgICAgICAgICAgLy8gY2FsbGluZyBzZXJ2aWNlIGZ1bmN0aW9uLlxuICAgICAgICAgICAgYWNjb3VudFxuICAgICAgICAgICAgICAgIC51cGRhdGVVc2VyU3RhdHVzKHVwZGF0ZU9iamVjdClcbiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnVwZGF0ZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnN0YXR1c1VwZGF0ZUVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAkcm91dGUucmVsb2FkKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5iYXNpY0FjY291bnRJbmZvRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYmFzaWNBY2NvdW50SW5mb0Vycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHByb3ZtLnN0YXR1c1VwZGF0ZUVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcHJvdm0uYmFzaWNBY2NvdW50SW5mb0Vycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGF1dGhlbnRpY2F0aW9uLmlzTG9nZ2VkSW4oKSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIHByb3ZtLmN1cnJlbnRBY2NvdW50VHlwZSA9IGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkuYWNjb3VudFR5cGU7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIGNoZWNraW5nIGFjY291bnQgdHlwZVxuICAgICAgICAgICAgaWYgKGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkuYWNjb3VudFR5cGUgPT09ICdjdXN0b21lcicpIHtcblxuICAgICAgICAgICAgICAgIHByb3ZtLnByb2ZpbGVTdGF0dXMgPSBhdXRoZW50aWNhdGlvbi5jdXJyZW50VXNlcigpLmFjY291bnRTdGF0dXM7XG5cbiAgICAgICAgICAgICAgICBwcm92bS5jb2RlUmVhZHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBwcm92bS5zZW5kQWN0aXZhdGlvbkNvZGUgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHByb3ZtLmNvZGVSZWFkeSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGFjY291bnRcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jcmVhdGVBY3RpdmF0aW9uQ29kZShhdXRoZW50aWNhdGlvbi5jdXJyZW50VXNlcigpLmVtYWlsKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmFjdGl2YXRpb25Db2RlRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5hY3RpdmF0aW9uQ29kZUVycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRTdGF0dXMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVfYXQ6ICdwcm9maWxlQWN0aXZhdGlvbk1haWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkuZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1c1VwZGF0ZXIodXBkYXRlZFN0YXR1cyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uY29kZVJlYWR5ID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYWN0aXZhdGlvbkNvZGVFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5hY3RpdmF0aW9uQ29kZUVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5hY3RpdmF0aW9uQ29kZUVycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8vIGdldCB1c2VyIGFjY291bnQgc3RhdHVlcyBcbiAgICAgICAgICAgICAgICBwcm92bS5nZXRQcm9maWxlU3RhdHVzZXMgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGFjY291bnRcbiAgICAgICAgICAgICAgICAgICAgICAgIC5nZXRBY2NvdW50U3RhdHVzZXMoYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5lbWFpbClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5zdGF0dXNMb2FkRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5zdGF0dXNMb2FkRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uc3RhdHVzTG9hZEVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnVzZXJTdGF0dXNlcyA9IHJlc3BvbnNlLmRhdGEuc3RhdHVzZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnN0YXR1c0xvYWRFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uc3RhdHVzTG9hZEVycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8vIHNhdmluZyBiYXNpYyBwcm9maWxlIGluZm9cbiAgICAgICAgICAgICAgICBwcm92bS5iYXNpY1Byb2ZpbGUgPSB7XG4gICAgICAgICAgICAgICAgICAgIHdob3M6IGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkuZW1haWwsXG4gICAgICAgICAgICAgICAgICAgIHVzZXJJZDogYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS51c2VySWQsXG4gICAgICAgICAgICAgICAgICAgIGZvcm1lck5hbWU6ICcnLFxuICAgICAgICAgICAgICAgICAgICBzZXg6ICcnLFxuICAgICAgICAgICAgICAgICAgICB0ZWxlOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgYWRkcmVzczogJycsXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHByb3ZtLnNhdmVCYXNpY0luZm8gPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGFjY291bnRcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zYXZlQmFzaWNJbmZvKHByb3ZtLmJhc2ljUHJvZmlsZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJhc2ljQWNjb3VudEluZm9FcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJhc2ljQWNjb3VudEluZm9FcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZFN0YXR1cyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZV9hdDogJ2Jhc2ljX2luZm8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkuZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2FsbGluZyBzZXJ2aWNlIGZ1bmN0aW9uLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudXBkYXRlVXNlclN0YXR1cyh1cGRhdGVkU3RhdHVzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnVwZGF0ZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uc3RhdHVzVXBkYXRlRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvdXRlLnJlbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYmFzaWNBY2NvdW50SW5mb0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYmFzaWNBY2NvdW50SW5mb0Vycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uc3RhdHVzVXBkYXRlRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJhc2ljQWNjb3VudEluZm9FcnJvck1zZyA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgcHJvdm0uYnJhbmNoID0ge1xuICAgICAgICAgICAgICAgICAgICB5ZWFyOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgYnJhbmNoOiAnJyxcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLy8gYWRkaW5nIGJyYW5jaCBpbmZvXG4gICAgICAgICAgICAgICAgcHJvdm0uc2F2ZUJhdGNoSW5mbyA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgLnNhdmVCcmFuY2hJbmZvKGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkuZW1haWwsIHByb3ZtLmJyYW5jaClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5icmFuY2hJbmZvRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5icmFuY2hJbmZvRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXNwb25zZS5kYXRhLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYnJhbmNoSW5mb0Vycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkU3RhdHVzID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlX2F0OiAnYnJhbmNoJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiBhdXRoZW50aWNhdGlvbi5jdXJyZW50VXNlcigpLmVtYWlsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNhbGxpbmcgc2VydmljZSBmdW5jdGlvbi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnVwZGF0ZVVzZXJTdGF0dXModXBkYXRlZFN0YXR1cylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS51cGRhdGVkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJyYW5jaEluZm9FcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm91dGUucmVsb2FkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5icmFuY2hJbmZvRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5icmFuY2hJbmZvRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5icmFuY2hJbmZvRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJyYW5jaEluZm9FcnJvck1zZyA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5icmFuY2hJbmZvRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJyYW5jaEluZm9FcnJvck1zZyA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvLyBzaG93IGJhc2ljIGluZm9cbiAgICAgICAgICAgICAgICBwcm92bS5sb2FkQmFzaWNJbmZvID0gKGNvbGxlY3Rpb25OYW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGFjY291bnRcbiAgICAgICAgICAgICAgICAgICAgICAgIC5sb2FkVXNlckluZm8oY29sbGVjdGlvbk5hbWUsIGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkuZW1haWwpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0udXNlckJhc2ljSW5mb0xvYWRpbmdFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnVzZXJCYXNpY0luZm9Mb2FkaW5nRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0udXNlckJhc2ljSW5mb0xvYWRpbmdFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5iYXNpY0luZm8gPSByZXNwb25zZS5kYXRhLnVzZXJJbmZvO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS51c2VyQmFzaWNJbmZvTG9hZGluZ0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS51c2VyQmFzaWNJbmZvTG9hZGluZ0Vycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHByb3ZtLmdldENvbW1pdHRlZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgLmdldENvbW1pdHRlZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uY29tbWl0dGVlcyA9IHJlc3BvbnNlLmRhdGEuY29tbWl0dGVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLy8gc2hvdyBicmFuY2ggaW5mb1xuICAgICAgICAgICAgICAgIHByb3ZtLmxvYWRVc2VyQnJhbmNoID0gKGNvbGxlY3Rpb25OYW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGFjY291bnRcbiAgICAgICAgICAgICAgICAgICAgICAgIC5sb2FkVXNlckluZm8oY29sbGVjdGlvbk5hbWUsIGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkuZW1haWwpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0udXNlckluZm9Mb2FkaW5nRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS51c2VySW5mb0xvYWRpbmdFcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS51c2VySW5mb0xvYWRpbmdFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5icmFuY2hJbmZvID0gcmVzcG9uc2UuZGF0YS51c2VySW5mbztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0udXNlckluZm9Mb2FkaW5nRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnVzZXJJbmZvTG9hZGluZ0Vycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgICAgICB8IGZvbGxvd2luZyBmdW5jdGlvbiB3aWxsIGFjdGl2ZSB0aGUgcHJvZmlsZSBcbiAgICAgICAgICAgICAgICB8IGJhc2VkIG9uIGdpdmVuIGNvZGVcbiAgICAgICAgICAgICAgICB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgcHJvdm0uYWN0aXZhdGlvbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogJycsXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHByb3ZtLmFjdGl2ZVByb2ZpbGUgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGFjY291bnRcbiAgICAgICAgICAgICAgICAgICAgICAgIC52YWxpZGF0ZUFjdGl2YXRpb25Db2RlKGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkuZW1haWwsIHByb3ZtLmFjdGl2YXRpb24uY29kZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5BY3RpdmF0aW9uRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5BY3RpdmF0aW9uRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXNwb25zZS5kYXRhLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYWN0aXZhdGlvblN1Y2Nlc3MgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNhbGxpbmcgdGhlIGxvZ291dCBmdW5jdGlvbi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGlvbi5Mb2dvdXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb3V0ZS5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMzAwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLkFjdGl2YXRpb25FcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uQWN0aXZhdGlvbkVycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgICAgICB8IEZvbGxvd2luZyBmdW5jdGlvbiB3aWxsIGhhbmRsZSBiYW5rIHRlbGxlciBcbiAgICAgICAgICAgICAgICB8IHVwbG9hZFxuICAgICAgICAgICAgICAgIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBwcm92bS5iYW5rVGVsbGVySW5mbyA9IHtcbiAgICAgICAgICAgICAgICAgICAgcHJlZmVycmVkQ29tbWl0dGVlOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgYWRkaXRpb25hbF9jb21taXR0ZWU6ICcnLFxuICAgICAgICAgICAgICAgICAgICB3aG9zOiBhdXRoZW50aWNhdGlvbi5jdXJyZW50VXNlcigpLmVtYWlsLFxuICAgICAgICAgICAgICAgICAgICB1c2VySWQ6IGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkuYWNjb3VudElkLFxuICAgICAgICAgICAgICAgICAgICB0ZWxsZXJEb2M6ICRzY29wZS50ZWxsZXJEb2MsXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHByb3ZtLnNhdmVCYW5rVGVsbGVySW5mbyA9ICgpID0+IHsgICBcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIXByb3ZtLmJhbmtUZWxsZXJJbmZvLnByZWZlcnJlZENvbW1pdHRlZSB8fCAhcHJvdm0uYmFua1RlbGxlckluZm8uYWRkaXRpb25hbF9jb21taXR0ZWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnNhdmVUZWxsZXJFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5zYXZlVGVsbGVyRXJyb3JNc2cgPSAnQWxsICogZmllbmRzIGFyZSByZXF1aXJlZC4gTXVzdCBub3QgYmUgZW1wdHknO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhwcm92bS5iYW5rVGVsbGVySW5mbyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudXBsb2FkVGVsbGVyRG9jcygkc2NvcGUudGVsbGVyRG9jLCBhdXRoZW50aWNhdGlvbi5jdXJyZW50VXNlcigpLmFjY291bnRJZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5zYXZlVGVsbGVyRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uc2F2ZVRlbGxlckVycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXNwb25zZS5kYXRhLnN1Y2Nlc3MgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJhbmtUZWxsZXJJbmZvLnRlbGxlckRvYyA9IHJlc3BvbnNlLmRhdGEuZG9jTG9jYXRpb247XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc2F2ZUJhbmtUZWxsZXIocHJvdm0uYmFua1RlbGxlckluZm8pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uc2F2ZVRlbGxlckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnNhdmVUZWxsZXJFcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkU3RhdHVzID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZV9hdDogJ2Jhbmt0ZWxsZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiBhdXRoZW50aWNhdGlvbi5jdXJyZW50VXNlcigpLmVtYWlsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNVcGRhdGVyKHVwZGF0ZWRTdGF0dXMpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm91dGUucmVsb2FkKCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5zYXZlVGVsbGVyRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5zYXZlVGVsbGVyRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5zYXZlVGVsbGVyRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5zYXZlVGVsbGVyRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICAgIHwgRm9sbG93aW5nIGZ1bmN0aW9uIHdpbGwgZ2V0IGxhdGVzdCBiYW5rIHRlbGxlclxuICAgICAgICAgICAgICAgIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBwcm92bS5nZXRDdXJyZW50QmFua1RlbGxlciA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgLmdldEJhbmtUZWxsZXIoYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5lbWFpbClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5iYW5rVGVsbGVyTG9hZGluZ0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYmFua1RlbGxlckxvYWRpbmdFcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5iYW5rVGVsbGVyTG9hZGluZ0Vycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnVzZXJCYW5rVGVsbGVyID0gcmVzcG9uc2UuZGF0YS5iYW5rVGVsbGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5iYW5rVGVsbGVyTG9hZGluZ0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5iYW5rVGVsbGVyTG9hZGluZ0Vycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5hY2NvdW50VHlwZSA9PT0gJ2FkbWluJykge1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL3NpZ25pbicpO1xuICAgICAgICB9XG4gICAgfVxuXG59KSgpO1xuIiwiLypcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG58IHNldHRpbmcgdXAgY29udHJvbGxlciBmb3Igc2l0ZS1jb250cm9sbCBwYWdlXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5iYS1zbHAsIDIwMThcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbihmdW5jdGlvbiAoKSB7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25iYXNscCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdzaXRlY29udHJvbGxDdHJsJywgc2l0ZWNvbnRyb2xsQ3RybCk7XG5cbiAgICBzaXRlY29udHJvbGxDdHJsLiRpbmplY3QgPSBbJ2F1dGhlbnRpY2F0aW9uJywgJyRsb2NhdGlvbicsICdzaXRlY29udHJvbGxlciddO1xuXG4gICAgZnVuY3Rpb24gc2l0ZWNvbnRyb2xsQ3RybChhdXRoZW50aWNhdGlvbiwgJGxvY2F0aW9uLCBzaXRlY29udHJvbGxlcikge1xuICAgICAgICBjb25zdCBhZFNpdGUgPSB0aGlzO1xuXG4gICAgICAgXG4gICAgICAgIGlmIChhdXRoZW50aWNhdGlvbi5pc0xvZ2dlZEluKCkpIHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkuYWNjb3VudFR5cGUgPT09ICdhZG1pbicpIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBhZFNpdGUuY29tbWl0dGVlID0ge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIC8vIGFkZCBjb21taXR0ZWVcbiAgICAgICAgICAgICAgICBhZFNpdGUuYWRkUHJlZmVycmVkQ29tbWl0dGVlID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzaXRlY29udHJvbGxlclxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZFByZWZlcnJlZENvbW1pdHRlZShhZFNpdGUuY29tbWl0dGVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5hZGRDb21taXR0ZWVFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5hZGRDb21taXR0ZWVFcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuYWRkQ29tbWl0dGVlRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmFkZENvbW1pdHRlZVN1Y2Nlc3NNc2cgPSAnQ29tbWl0dGVlIHN1Y2Nlc3NmdWxseSBhZGRlZCc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2V0IHRpbWUgb3V0IGFuZCBjYWxsIHNob3cgY29tbWl0dGVlIG1ldGhvZC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuc2hvd0NvbW1pdHRlZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAyMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuYWRkQ29tbWl0dGVlRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5hZGRDb21taXR0ZWVFcnJvck1zZyA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvLyBzaG93IGNvbW1pdHRlZVxuICAgICAgICAgICAgICAgIGFkU2l0ZS5zaG93Q29tbWl0dGVlID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzaXRlY29udHJvbGxlclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNob3dBbGxDb21taXR0ZWUoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5jb21taXR0ZWVFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5jb21taXR0ZWVFcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuY29tbWl0dGVlRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmNvbW1pdHRlZUxpc3QgPSByZXNwb25zZS5kYXRhLmNvbW1pdHRlZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmNvbW1pdHRlZUVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuY29tbWl0dGVlRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLy8gcmVtb3ZlIGluZGl2aWR1YWwgY29tbWl0dGVlLlxuICAgICAgICAgICAgICAgIGFkU2l0ZS5yZW1vdmVMaXN0ID0gKGNvbW1pdHRlZUlkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNpdGVjb250cm9sbGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQ29tbWl0dGVlKGNvbW1pdHRlZUlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KHJlc3BvbnNlLmRhdGEuZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuc2hvd0NvbW1pdHRlZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGFkU2l0ZS5jb3VuY2lsID0ge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgYWRTaXRlLmFkZENvdW5jaWxNZW1iZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNpdGVjb250cm9sbGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ291bmNpbChhZFNpdGUuY291bmNpbClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuY291bmNpbEFkZEVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmNvdW5jaWxBZGRFcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmNvdW5jaWxBZGRFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5zaG93Q291bmNpbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuY291bmNpbEFkZEVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuY291bmNpbEFkZEVycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGFkU2l0ZS5zaG93Q291bmNpbCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2l0ZWNvbnRyb2xsZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zaG93Q291bmNpbE1lbWJlcigpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmNvdW5jaWxTaG93RXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuY291bmNpbFNob3dFcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuY291bmNpbFNob3dFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuY291bmNpbHMgPSByZXNwb25zZS5kYXRhLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5jb3VuY2lsU2hvd0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuY291bmNpbFNob3dFcnJvck1zZyA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBhZFNpdGUucmVtb3ZlQ291bmNpbCA9IChjb3VuY2lsSWQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2l0ZWNvbnRyb2xsZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZW1vdmVDb3VuY2lsKGNvdW5jaWxJZClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLnNob3dDb3VuY2lsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgICAgICB8IGZvbGxvd2luZyBmdW5jdGlvbiB3aWxsIGFkZCBuZXcgZXZlbnQgaW50byB0aGVcbiAgICAgICAgICAgICAgICB8IGRhdGFiYXNlLlxuICAgICAgICAgICAgICAgIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBhZFNpdGUuZXZlbnQgPSB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50VGl0bGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICBldmVudERldGFpbHM6ICcnLFxuICAgICAgICAgICAgICAgICAgICBldmVudFN0YXJ0czogJycsXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50RW5kczogJycsXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGFkU2l0ZS5hZGRFdmVudCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIHNpdGVjb250cm9sbGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkRXZlbnQoYWRTaXRlLmV2ZW50KVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5ldmVudEFkZEVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmV2ZW50QWRkRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXNwb25zZS5kYXRhLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmV2ZW50QWRkRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmV2ZW50QWRkU3VjY2VzcyA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2V0IHRpbWUgb3V0IGFuZCBjYWxsIHNob3cgY29tbWl0dGVlIG1ldGhvZC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuc2hvd0V2ZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDIwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5ldmVudEFkZEVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuZXZlbnRBZGRFcnJvck1zZyA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBhZFNpdGUuc2hvd0V2ZW50ID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzaXRlY29udHJvbGxlclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNob3dFdmVudCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLnNob3dFdmVudEVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLnNob3dFdmVudEVycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5zaG93RXZlbnRFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuZXZlbnRzID0gcmVzcG9uc2UuZGF0YS5ldmVudHM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5zaG93RXZlbnRFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLnNob3dFdmVudEVycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGFkU2l0ZS5yZW1vdmVFdmVudCA9IChldmVudElkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNpdGVjb250cm9sbGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlRXZlbnQoZXZlbnRJZClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuc2hvd0V2ZW50RXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuc2hvd0V2ZW50RXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXNwb25zZS5kYXRhLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuc2hvd0V2ZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL3dlbGNvbWUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvc2lnbmluJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbn0pKCk7Il19
