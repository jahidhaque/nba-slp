"use strict";!function(){angular.module("nbaslp",["ngResource","ngRoute","720kb.datepicker"]).config(["$routeProvider","$locationProvider",function(l,e){l.when("/",{templateUrl:"home/welcome/welcome.view.html",controller:"welcomeCtrl",controllerAs:"wvm"}).when("/councilmembers",{templateUrl:"councilmembers/councilmembers.view.html",controller:"councilCtrl",controllerAs:"clvm"}).when("/signup",{templateUrl:"signup/signup.view.html",controller:"signupCtrl",controllerAs:"regvm"}).when("/signin",{templateUrl:"signin/signin.view.html",controller:"signinCtrl",controllerAs:"lvm"}).when("/profile",{templateUrl:"profile/profile.view.html",controller:"profileCtrl",controllerAs:"provm"}).when("/help",{templateUrl:"help/help.view.html",controller:"helpCtrl",controllerAs:"hvm"}).when("/sitecontroll",{templateUrl:"admin/sitecontroll/sitecontroll.view.html",controller:"sitecontrollCtrl",controllerAs:"adSite"}).when("/usercontroll",{templateUrl:"admin/usercontroll/usercontroll.view.html",controller:"usercontrollCtrl",controllerAs:"uservm"}).when("/staffcontroll",{templateUrl:"admin/staffcontroll/staffcontroll.view.html",controller:"staffCtrl",controllerAs:"svm"}).when("/welcome",{templateUrl:"welcome/welcome.view.html",controller:"welcomeCtrl",controllerAs:"wvm"}).when("/committees",{templateUrl:"committees/committees.view.html",controller:"committeesCtrl",controllerAs:"cvm"}).when("/events",{templateUrl:"events/events.view.html",controller:"eventsCtrl",controllerAs:"evm"}).when("/aboutus",{templateUrl:"aboutus/aboutus.view.html",controller:"aboutusCtrl",controllerAs:"abvm"}).when("/contactus",{templateUrl:"contactus/contactus.view.html",controller:"contactusCtrl",controllerAs:"cvm"}),e.html5Mode({enabled:!0})}])}();
"use strict";function authentication(n,t){var e=function(t){n.localStorage.nbaslp=t},c=function(){return n.localStorage.nbaslp},u=function(){var t=c(),e=void 0;return!!t&&(e=t.split(".")[1],e=n.atob(e),e=JSON.parse(e))},o=function(n){return n},a=function(n){return n};return{currentUser:function(){if(u){var t=c().split(".")[1];return t=n.atob(t),t=JSON.parse(t),{userId:t._id,email:t.email,accountStatus:t.accountStatus,accountType:t.accountType,accountId:t.userId,name:t.name}}return!1},saveToken:e,getToken:c,isLoggedIn:u,signUp:function(n){return t.post("/api/signup",n).success(function(n){e(n.token)})},signIn:function(n){return t.post("/api/signin",n).success(function(n){e(n.token)})},checkUser:function(n){return t.post("/api/checkuser",n).then(o).catch(a)},countUser:function(n){return t.get("/api/"+n+"/count").then(o).catch(a)},Logout:function(){n.localStorage.removeItem("nbaslp")}}}angular.module("nbaslp").service("authentication",authentication),authentication.$inject=["$window","$http"];
"use strict";!function(){function t(t,e){var n=function(t){return t},a=function(t){return t};return{resetPassword:function(t,c){return e.post("/api/"+t+"/resetpassword",c).then(n).catch(a)},uploadTellerDocs:function(t,c){var r=new FormData;return r.append("tellerDoc",t),e.post("/api/docupload/"+c,r,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(n).catch(a)},createActivationCode:function(t){return e.post("/api/"+t+"/generatevalidationcode").then(n).catch(a)},validateActivationCode:function(t,c){return e.post("/api/"+t+"/"+c+"/validate").then(n).catch(a)},getAccountStatuses:function(t){return e.get("/api/"+t+"/statuses").then(n).catch(a)},updateUserStatus:function(t){return e.post("/api/userstatus",t).then(n).catch(a)},saveBasicInfo:function(t){return e.post("/api/createbasicprofile",t).then(n).catch(a)},editBasicInfo:function(t,c){return e.put("/api/"+t+"/editbasicinfo",c).then(n).catch(a)},saveBranchInfo:function(t,c){return e.post("/api/"+t+"/savebranchinfo",c).then(n).catch(a)},loadUserInfo:function(t,c){return e.get("/api/"+c+"/"+t+"/userinfo").then(n).catch(a)},getCommittee:function(){return e.get("/api/showcommittee").then(n).catch(a)},saveBankTeller:function(t){return e.post("/api/savebankteller",t).then(n).catch(a)},getBankTeller:function(t){return e.get("/api/"+t+"/bankteller").then(n).catch(a)}}}angular.module("nbaslp").service("account",t),t.$inject=["$window","$http"]}();
"use strict";!function(){function t(t){var e=function(t){return t},n=function(t){return t};return{addPreferredCommittee:function(c){return t.post("/api/createcommittee",c).then(e).catch(n)},showAllCommittee:function(){return t.get("/api/showcommittee").then(e).catch(n)},removeCommittee:function(c){return t.delete("/api/"+c+"/removecommittee").then(e).catch(n)},addCouncil:function(c){return t.post("/api/councilmember",c).then(e).catch(n)},showCouncilMember:function(){return t.get("/api/showcouncil").then(e).catch(n)},removeCouncil:function(c){return t.delete("/api/"+c+"/council").then(e).catch(n)},addEvent:function(c){return t.post("/api/event",c).then(e).catch(n)},showEvent:function(){return t.get("/api/showEvent").then(e).catch(n)},removeEvent:function(c){return t.delete("/api/"+c+"/event").then(e).catch(n)}}}angular.module("nbaslp").service("sitecontroller",t),t.$inject=["$http"]}();
"use strict";!function(){function e(e){var n=function(e){return e},t=function(e){return e};return{showMembers:function(){return e.get("/api/members").then(n).catch(t)},showSingleMember:function(r){return e.get("/api/"+r+"/member").then(n).catch(t)},showMemberProfile:function(r){return e.get("/api/"+r+"/profile").then(n).catch(t)},showMemberBranch:function(r){return e.get("/api/"+r+"/branch").then(n).catch(t)}}}angular.module("nbaslp").service("usercontroller",e),e.$inject=["$http"]}();
"use strict";!function(){function r(r,e,o){var n=this;r.showMembers().then(function(r){r.data.error?(n.showMemberError=!0,n.showMemberErrorMsg=r.data.error):n.members=r.data.members}).catch(function(r){n.showMemberError=!0,n.showMemberErrorMsg=r}),n.checkRoutes=function(){o.v?n.clickedMemberName=!0:n.clickedMemberName=!1},n.loadUserInfo=function(){var e=o.v;r.showSingleMember(e).then(function(r){r.data.error?(n.singleMemberLoadingError=!0,n.singleMemberLoadingErrorMsg=r.data.error):(n.singleMemberLoadingError=!1,n.singleMember=r.data.member)}).catch(function(r){n.singleMemberLoadingError=!0,n.singleMemberLoadingErrorMsg=r})},n.loadUserProfile=function(){var e=o.v;r.showMemberProfile(e).then(function(r){r.data.error?(n.profileLoadingError=!0,n.profileLoadingErrorMsg=r.data.error):(n.profileLoadingError=!1,n.memberProfile=r.data.profile)}).catch(function(r){n.profileLoadingError=!0,n.profileLoadingErrorMsg=r})},n.loadUserBranch=function(){var e=o.v;r.showMemberBranch(e).then(function(r){r.data.error?(n.branchLoadingError=!0,n.branchLoadingErrorMsg=r.data.error):(n.branchLoadingError=!1,n.memberBranch=r.data.branch)}).catch(function(r){n.branchLoadingError=!0,n.branchLoadingErrorMsg=r})},n.loadBankTeller=function(){var r=o.v;e.getBankTeller(r).then(function(r){r.data.error?(n.bankTellerLoadingError=!0,n.bankTellerLoadingErrorMsg=r.data.error):(n.bankTellerLoadingError=!1,n.memberbankTeller=r.data.bankTeller)}).catch(function(r){n.bankTellerLoadingError=!0,n.bankTellerLoadingErrorMsg=r})}}angular.module("nbaslp").controller("usercontrollCtrl",r),r.$inject=["usercontroller","account","$routeParams"]}();
"use strict";!function(){function n(n,t){n.isLoggedIn()?"admin"===n.currentUser().accountType||t.path("/welcome"):t.path("/signin")}angular.module("nbaslp").controller("staffCtrl",n),n.$inject=["authentication","$location"]}();
"use strict";!function(){function n(n){var t=function(n){return n},e=function(n){return n};return{sendContactMessage:function(r){return n.post("/api/sendmessage",r).then(t).catch(e)}}}angular.module("nbaslp").service("systemService",n),n.$inject=["$http"]}();
"use strict";!function(){angular.module("nbaslp").directive("siteNav",function(){return{restrict:"EA",templateUrl:"common/directives/nav/site-nav.template.html",controller:"navCtrl as nvm"}})}();
"use strict";!function(){function n(n,t){n.isLoggedIn()?(this.loggedInUri=!0,this.loggedInName=n.currentUser().name,this.currentAccountType=n.currentUser().accountType):this.loggedInUri=!1,this.logout=function(){n.Logout(),t.path("/signin")}}angular.module("nbaslp").controller("navCtrl",n),n.$inject=["authentication","$location"]}();
"use strict";!function(){angular.module("nbaslp").directive("siteFooter",function(){return{restrict:"EA",templateUrl:"common/directives/footer/footer.template.html"}})}();
"use strict";!function(){function n(n){return{restrict:"A",link:function(i,e,t){var c=n(t.fileModel).assign;e.on("change",function(){i.$apply(function(){c(i,e[0].files[0])})})}}}angular.module("nbaslp").directive("fileModel",n),n.$inject=["$parse"]}();
"use strict";!function(){angular.module("nbaslp").directive("sideBar",function(){return{restrict:"EA",templateUrl:"common/directives/sidebar/sidebar.template.html"}})}();
"use strict";!function(){angular.module("nbaslp").controller("welcomeCtrl",function(){})}();
"use strict";!function(){function t(t){var o=this;o.loadCommittee=function(){t.showAllCommittee().then(function(t){t.data.error?(o.committeeLoadingError=!0,o.committeeLoadingErrorMsg=t.data.error):(o.committeeLoadingError=!1,o.committees=t.data.committee)}).catch(function(t){o.committeeLoadingError=!0,o.committeeLoadingErrorMsg=t})}}angular.module("nbaslp").controller("committeesCtrl",t),t.$inject=["sitecontroller"]}();
"use strict";!function(){function o(o){var r=this;r.loadCouncilMembers=function(){o.showCouncilMember().then(function(o){console.log(o),o.data.error?(r.committeeLoadingError=!0,r.committeeLoadingErrorMsg=o.data.error):(r.committeeLoadingError=!1,r.councils=o.data.data)}).catch(function(o){r.committeeLoadingError=!0,r.committeeLoadingErrorMsg=o})}}angular.module("nbaslp").controller("councilCtrl",o),o.$inject=["sitecontroller"]}();
"use strict";!function(){function e(e){var n=this;n.showEvents=function(){e.showEvent().then(function(e){e.data.error?(n.eventLoadError=!0,n.eventLoadErrorMsg=e.data.error):(n.eventLoadError=!1,n.events=e.data.events,n.events.length>0?n.noEvent=!1:n.noEvent=!0)}).catch(function(e){n.eventLoadError=!0,n.eventLoadErrorMsg=e})}}angular.module("nbaslp").controller("eventsCtrl",e),e.$inject=["sitecontroller"]}();
"use strict";!function(){angular.module("nbaslp").controller("aboutusCtrl",function(){})}();
"use strict";!function(){function e(e){var s=this;s.contact={name:"",email:"",message:""},s.contactUs=function(){e.sendContactMessage(s.contact).then(function(e){e.data.error?(s.sendMessageError=!0,s.sendMessageErrorMsg=e.data.error):(s.sendMessageSuccess=!0,s.sendMessageSuccessMsg="We have received your message. We will be in touch with you soon")}).catch(function(e){s.sendMessageError=!0,s.sendMessageErrorMsg=e})}}angular.module("nbaslp").controller("contactusCtrl",e),e.$inject=["systemService"]}();
"use strict";!function(){function r(r,t){var o=this;o.user={firstName:"",lastName:"",displayName:"",email:"",password:"",confirmPassword:""},o.register=function(){r.signUp(o.user).then(function(r){r.data.error?(o.RegistrationError=!0,o.RegistrationErrorMsg=r.data.error):(o.RegistrationError=!1,t.path("/welcome"))}).catch(function(r){r&&(o.RegistrationError=!0,o.RegistrationErrorMsg=r.data.error)})},r.isLoggedIn()&&t.path("/welcome")}angular.module("nbaslp").controller("signupCtrl",r),r.$inject=["authentication","$location"]}();
"use strict";!function(){function r(r,o){var n=this;n.user={email:"",password:""},r.isLoggedIn()?o.path("/welcome"):(n.login=function(){n.user.email&&n.user.password?(n.loginError=!1,n.doLogin()):(n.loginError=!0,n.loginErrorMsg="Error! all * fields are required")},n.doLogin=function(){r.signIn(n.user).error(function(r){n.loginError=!0,n.loginErrorMsg=r.error}).then(function(){o.path("/welcome")})})}angular.module("nbaslp").controller("signinCtrl",r),r.$inject=["authentication","$location"]}();
"use strict";!function(){function r(r,e,o,a,t){function n(r){a.updateUserStatus(r).then(function(r){!0===r.data.updated?(c.statusUpdateError=!1,t.reload()):(c.basicAccountInfoError=!0,c.basicAccountInfoErrorMsg=r.data.error)}).catch(function(r){c.statusUpdateError=!0,c.basicAccountInfoErrorMsg=r})}var c=this;c.resetpassword={password:"",repeat_password:"",new_password:""},c.resetPassword=function(){a.resetPassword(e.currentUser().email,c.resetpassword).then(function(r){r.data.error?(c.resetPasswordError=!0,c.resetPasswordErrorMsg=r.data.error):(c.resetPasswordError=!1,c.resetSuccess=!0,setTimeout(function(){e.Logout(),t.reload()},200))}).catch(function(r){c.resetPasswordError=!0,c.resetPasswordErrorMsg=r})},e.isLoggedIn()?(c.currentAccountType=e.currentUser().accountType,"customer"===e.currentUser().accountType?(c.profileStatus=e.currentUser().accountStatus,c.codeReady=!1,c.basicProfileEditOn=!1,c.sendActivationCode=function(){c.codeReady=!0,a.createActivationCode(e.currentUser().email).then(function(r){if(r.data.error)c.activationCodeError=!0,c.activationCodeErrorMsg=r.data.error;else{n({update_at:"profileActivationMail",email:e.currentUser().email,status:!0}),c.codeReady=!1,c.activationCodeError=!1}}).catch(function(r){c.activationCodeError=!0,c.activationCodeErrorMsg=r})},c.getProfileStatuses=function(){a.getAccountStatuses(e.currentUser().email).then(function(r){r.data.error?(c.statusLoadError=!0,c.statusLoadErrorMsg=r.data.error):(c.statusLoadError=!1,c.userStatuses=r.data.statuses)}).catch(function(r){c.statusLoadError=!0,c.statusLoadErrorMsg=r})},c.basicProfile={whos:e.currentUser().email,userId:e.currentUser().userId,formerName:"",sex:"",tele:"",address:""},c.saveBasicInfo=function(){a.saveBasicInfo(c.basicProfile).then(function(r){if(r.data.error)c.basicAccountInfoError=!0,c.basicAccountInfoErrorMsg=r.data.error;else{var o={update_at:"basic_info",email:e.currentUser().email,status:!0};a.updateUserStatus(o).then(function(r){!0===r.data.updated?(c.statusUpdateError=!1,t.reload()):(c.basicAccountInfoError=!0,c.basicAccountInfoErrorMsg=r.data.error)}).catch(function(r){c.statusUpdateError=!0,c.basicAccountInfoErrorMsg=r})}}).catch(function(r){})},c.branch={year:"",branch:""},c.saveBatchInfo=function(){a.saveBranchInfo(e.currentUser().email,c.branch).then(function(r){if(r.data.error)c.branchInfoError=!0,c.branchInfoErrorMsg=r.data.error;else if(r.data.success){c.branchInfoError=!1;var o={update_at:"branch",email:e.currentUser().email,status:!0};a.updateUserStatus(o).then(function(r){!0===r.data.updated?(c.branchInfoError=!1,t.reload()):(c.branchInfoError=!0,c.branchInfoErrorMsg=r.data.error)}).catch(function(r){c.branchInfoError=!0,c.branchInfoErrorMsg=r})}}).catch(function(r){c.branchInfoError=!0,c.branchInfoErrorMsg=r})},c.loadBasicInfo=function(r){a.loadUserInfo(r,e.currentUser().email).then(function(r){r.data.error?(c.userBasicInfoLoadingError=!0,c.userBasicInfoLoadingErrorMsg=r.data.error):(c.userBasicInfoLoadingError=!1,c.basicInfo=r.data.userInfo)}).catch(function(r){c.userBasicInfoLoadingError=!0,c.userBasicInfoLoadingErrorMsg=r})},c.editBasicInfo=function(r){c.basicProfileEditOn=!0,c.editBasic={name:c.basicInfo.formerName,sex:c.basicInfo.sex,address:c.basicInfo.address,tele:c.basicInfo.telephone},c.SaveEditBasicInfo=function(){console.log(c.editBasic),a.editBasicInfo(r,c.editBasic).then(function(r){r.data.error?(c.editBasicInfoError=!0,c.editBasicInfoErrorMsg=r.data.error):(c.editBasicInfoError=!1,t.reload())}).catch(function(r){c.editBasicInfoError=!0,c.editBasicInfoErrorMsg=r})}},c.cancleBasicEdit=function(){c.basicProfileEditOn=!1},c.getCommittee=function(){a.getCommittee().then(function(r){c.committees=r.data.committee}).catch(function(r){console.log(r)})},c.loadUserBranch=function(r){a.loadUserInfo(r,e.currentUser().email).then(function(r){r.data.error?(c.userInfoLoadingError=!0,c.userInfoLoadingErrorMsg=r.data.error):(c.userInfoLoadingError=!1,c.branchInfo=r.data.userInfo)}).catch(function(r){c.userInfoLoadingError=!0,c.userInfoLoadingErrorMsg=r})},c.activation={code:""},c.activeProfile=function(){a.validateActivationCode(e.currentUser().email,c.activation.code).then(function(r){r.data.error?(c.ActivationError=!0,c.ActivationErrorMsg=r.data.error):r.data.success&&(c.activationSuccess=!0,setTimeout(function(){e.Logout(),t.reload()},3e3))}).catch(function(r){c.ActivationError=!0,c.ActivationErrorMsg=r})},c.bankTellerInfo={preferredCommittee:"",additional_committee:"",whos:e.currentUser().email,userId:e.currentUser().accountId,tellerDoc:r.tellerDoc},c.saveBankTellerInfo=function(){c.bankTellerInfo.preferredCommittee&&c.bankTellerInfo.additional_committee?(console.log(c.bankTellerInfo),a.uploadTellerDocs(r.tellerDoc,e.currentUser().accountId).then(function(r){!1===r.data.success?(c.saveTellerError=!0,c.saveTellerErrorMsg=r.data.error):!0===r.data.success&&(c.bankTellerInfo.tellerDoc=r.data.docLocation,a.saveBankTeller(c.bankTellerInfo).then(function(r){if(r.data.error)c.saveTellerError=!0,c.saveTellerErrorMsg=r.data.error;else{n({update_at:"bankteller",email:e.currentUser().email,status:!0}),t.reload()}}).catch(function(r){c.saveTellerError=!0,c.saveTellerErrorMsg=r}))}).catch(function(r){c.saveTellerError=!0,c.saveTellerErrorMsg=r})):(c.saveTellerError=!0,c.saveTellerErrorMsg="All * fiends are required. Must not be empty")},c.getCurrentBankTeller=function(){a.getBankTeller(e.currentUser().email).then(function(r){r.data.error?(c.bankTellerLoadingError=!0,c.bankTellerLoadingErrorMsg=r.data.error):(c.bankTellerLoadingError=!1,c.userBankTeller=r.data.bankTeller)}).catch(function(r){c.bankTellerLoadingError=!0,c.bankTellerLoadingErrorMsg=r})}):e.currentUser().accountType):o.path("/signin")}angular.module("nbaslp").controller("profileCtrl",r),r.$inject=["$scope","authentication","$location","account","$route"]}();
"use strict";!function(){function n(n,t){}angular.module("nbaslp").controller("welcomeCtrl",n),n.$inject=["authentication","$location"]}();
"use strict";!function(){function r(r,e){var s=this;s.checkUserForm=!0,s.PasswordresetForm=!1,s.verifyAjaxLoader=!1,s.checkingRoute=function(){e.current.params&&"forgot_password"===e.current.params.v?(s.PasswordresetForm=!1,s.user={email:""},s.checkUser=function(){r.checkUser(s.user).then(function(r){r.data.error?(s.userCheckingError=!0,s.userCheckingErrorMsg=r.data.error):r.data.security?(s.userCheckingError=!0,s.userCheckingErrorMsg="If you have account with us, we have sent you password reset link"):s.userCheckingError=!1}).catch(function(r){s.userCheckingError=!0,s.userCheckingErrorMsg=r})}):e.current.params&&e.current.params.r&&(s.PasswordresetForm=!0,s.checkUserForm=!1,s.verifyAjaxLoader=!0,s.varifyUserDetails())},s.varifyUserDetails=function(){r.countUser(e.current.params.u).then(function(r){r.data.error?(s.userVerificationUserError=!0,s.userVerificationUserErrorMsg=r.data.error):s.userVerificationUserError=!1}).catch(function(r){s.userVerificationUserError=!0,s.userVerificationUserErrorMsg=r})}}angular.module("nbaslp").controller("helpCtrl",r),r.$inject=["authentication","$route"]}();
"use strict";!function(){function t(t,o,e){var r=this;t.isLoggedIn()?"admin"===t.currentUser().accountType?(r.committee={name:""},r.addPreferredCommittee=function(){e.addPreferredCommittee(r.committee).then(function(t){t.data.error?(r.addCommitteeError=!0,r.addCommitteeErrorMsg=t.data.error):(r.addCommitteeError=!1,r.addCommitteeSuccessMsg="Committee successfully added",setTimeout(function(){r.showCommittee()},200))}).catch(function(t){r.addCommitteeError=!0,r.addCommitteeErrorMsg=t})},r.showCommittee=function(){e.showAllCommittee().then(function(t){t.data.error?(r.committeeError=!0,r.committeeErrorMsg=t.data.error):(r.committeeError=!1,r.committeeList=t.data.committee)}).catch(function(t){r.committeeError=!0,r.committeeErrorMsg=t})},r.removeList=function(t){e.removeCommittee(t).then(function(t){t.data.error?alert(t.data.error):setTimeout(function(){r.showCommittee()},100)}).catch(function(t){alert(t)})},r.council={name:""},r.addCouncilMember=function(){e.addCouncil(r.council).then(function(t){t.data.error?(r.councilAddError=!0,r.councilAddErrorMsg=t.data.error):(r.councilAddError=!1,setTimeout(function(){r.showCouncil()},100))}).catch(function(t){r.councilAddError=!0,r.councilAddErrorMsg=t})},r.showCouncil=function(){e.showCouncilMember().then(function(t){t.data.error?(r.councilShowError=!0,r.councilShowErrorMsg=t.data.error):(r.councilShowError=!1,r.councils=t.data.data)}).catch(function(t){r.councilShowError=!0,r.councilShowErrorMsg=t})},r.removeCouncil=function(t){e.removeCouncil(t).then(function(t){setTimeout(function(){r.showCouncil()},100)}).catch(function(t){alert(t)})},r.event={eventTitle:"",eventDetails:"",eventStarts:"",eventEnds:""},r.addEvent=function(){e.addEvent(r.event).then(function(t){t.data.error?(r.eventAddError=!0,r.eventAddErrorMsg=t.data.error):t.data.success&&(r.eventAddError=!1,r.eventAddSuccess=!0,setTimeout(function(){r.showEvent()},200))}).catch(function(t){r.eventAddError=!0,r.eventAddErrorMsg=t})},r.showEvent=function(){e.showEvent().then(function(t){t.data.error?(r.showEventError=!0,r.showEventErrorMsg=t.data.error):t.data.success&&(r.showEventError=!1,r.events=t.data.events)}).catch(function(t){r.showEventError=!0,r.showEventErrorMsg=t})},r.removeEvent=function(t){e.removeEvent(t).then(function(t){t.data.error?(r.showEventError=!0,r.showEventErrorMsg=t.data.error):t.data.success&&setTimeout(function(){r.showEvent()},100)}).catch(function(t){console.log(t)})}):o.path("/welcome"):o.path("/signin")}angular.module("nbaslp").controller("sitecontrollCtrl",t),t.$inject=["authentication","$location","sitecontroller"]}();
"use strict";$(document).ready(function(){$("#checkUser").focus()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImF1dGhlbnRpY2F0aW9uLnNlcnZpY2UuanMiLCJhY2NvdW50LnNlcnZpY2UuanMiLCJzaXRlLWNvbnRyb2xsZXIuc2VydmljZS5qcyIsInVzZXItY29udHJvbGxlci5zZXJ2aWNlLmpzIiwidXNlcmNvbnRyb2xsLmNvbnRyb2xsZXIuanMiLCJzdGFmZmNvbnRyb2xsZXIuY29udHJvbGxlci5qcyIsInN5c3RlbS5zZXJ2aWNlLmpzIiwibmF2LmRpcmVjdGl2ZS5qcyIsIm5hdi5jb250cm9sbGVyLmpzIiwiZm9vdGVyLmRpcmVjdGl2ZS5qcyIsImZpbGVNb2RlbC5kaXJlY3RpdmUuanMiLCJzaWRlYmFyLmRpcmVjdGl2ZS5qcyIsIndlbGNvbWUuY29udHJvbGxlci5qcyIsImNvbW1pdHRlZXMuY29udHJvbGxlci5qcyIsImNvdW5jaWxtZW1iZXJzLmNvbnRyb2xsZXIuanMiLCJldmVudHMuY29udHJvbGxlci5qcyIsImFib3V0dXMuY29udHJvbGxlci5qcyIsImNvbnRhY3R1cy5jb250cm9sbGVyLmpzIiwic2lnbnVwLmNvbnRyb2xsZXIuanMiLCJzaWduaW4uY29udHJvbGxlci5qcyIsInByb2ZpbGUuY29udHJvbGxlci5qcyIsImhlbHAuY29udHJvbGxlci5qcyIsInNpdGVjb250cm9sbC5jb250cm9sbGVyLmpzIiwic2l0ZS1vcHIuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImNvbmZpZyIsInRlbXBsYXRlVXJsIiwiJGxvY2F0aW9uUHJvdmlkZXIiLCJjb250cm9sbGVyIiwiY29udHJvbGxlckFzIiwid2hlbiIsImVuYWJsZWQiLCJodG1sNU1vZGUiLCJzYXZlVG9rZW4iLCIkd2luZG93IiwidG9rZW4iLCJsb2NhbFN0b3JhZ2UiLCJnZXRUb2tlbiIsImlzTG9nZ2VkSW4iLCJwYXlsb2FkIiwiSlNPTiIsInBhcnNlIiwiYXRvYiIsInJlc3BvbnNlIiwic2lnbkluIiwiY2hlY2tVc2VyIiwic3BsaXQiLCJhY2NvdW50U3RhdHVzIiwidXNlcklkIiwiX2lkIiwiYWNjb3VudFR5cGUiLCJhY2NvdW50SWQiLCJuYW1lIiwiTG9nb3V0IiwiY291bnRVc2VyIiwic2lnblVwIiwidXNlciIsIiRodHRwIiwicG9zdCIsInN1Y2Nlc3MiLCJkYXRhIiwidGhlbiIsImhhbmRsZVN1Y2Nlc3MiLCJoYW5kbGVFcnJvciIsImdldCIsImNhdGNoIiwicmVtb3ZlSXRlbSIsImF1dGhlbnRpY2F0aW9uIiwicmVzZXRQYXNzd29yZCIsInJlc2V0RGF0YSIsImNyZWF0ZUFjdGl2YXRpb25Db2RlIiwidXBsb2FkVGVsbGVyRG9jcyIsImZpbGUiLCJmZCIsIkZvcm1EYXRhIiwiYXBwZW5kIiwidHJhbnNmb3JtUmVxdWVzdCIsImlkZW50aXR5IiwiaGVhZGVycyIsIkNvbnRlbnQtVHlwZSIsInVuZGVmaW5lZCIsImdldEFjY291bnRTdGF0dXNlcyIsInZhbGlkYXRlQWN0aXZhdGlvbkNvZGUiLCJnZXRDb21taXR0ZWUiLCJjb2RlIiwidXBkYXRlVXNlclN0YXR1cyIsInNhdmVCYXNpY0luZm8iLCJzYXZlQmFua1RlbGxlciIsImVkaXRCYXNpY0luZm8iLCJwdXQiLCJzYXZlQnJhbmNoSW5mbyIsImxvYWRVc2VySW5mbyIsImNvbGxlY3Rpb25OYW1lIiwidGVsbGVyIiwiZ2V0QmFua1RlbGxlciIsImFjY291bnQiLCIkaW5qZWN0IiwiYWRkUHJlZmVycmVkQ29tbWl0dGVlIiwic2hvd0FsbENvbW1pdHRlZSIsImFkZENvdW5jaWwiLCJyZW1vdmVDb21taXR0ZWUiLCJjb21taXR0ZWVJZCIsImRlbGV0ZSIsInJlbW92ZUNvdW5jaWwiLCJhZGRFdmVudCIsImV2ZW50Iiwic2hvd0NvdW5jaWxNZW1iZXIiLCJyZW1vdmVFdmVudCIsImNvdW5jaWxJZCIsInNob3dFdmVudCIsImV2ZW50SWQiLCJzaXRlY29udHJvbGxlciIsInNob3dNZW1iZXJzIiwic2hvd1NpbmdsZU1lbWJlciIsIm1lbWJlcklkIiwic2hvd01lbWJlckJyYW5jaCIsInNob3dNZW1iZXJQcm9maWxlIiwidXNlcmNvbnRyb2xsZXIiLCJ1c2Vydm0iLCIkcm91dGVQYXJhbXMiLCJtZW1iZXJzIiwic2hvd01lbWJlckVycm9yIiwic2hvd01lbWJlckVycm9yTXNnIiwiZXJyb3IiLCJjaGVja1JvdXRlcyIsImNsaWNrZWRNZW1iZXJOYW1lIiwiZXJyIiwidiIsInNpbmdsZU1lbWJlciIsIm1lbWVicklkIiwic2luZ2xlTWVtYmVyTG9hZGluZ0Vycm9yTXNnIiwic2luZ2xlTWVtYmVyTG9hZGluZ0Vycm9yIiwibG9hZFVzZXJQcm9maWxlIiwibWVtYmVyIiwicHJvZmlsZUxvYWRpbmdFcnJvciIsIm1lbWJlclByb2ZpbGUiLCJwcm9maWxlIiwicHJvZmlsZUxvYWRpbmdFcnJvck1zZyIsImxvYWRVc2VyQnJhbmNoIiwiYnJhbmNoTG9hZGluZ0Vycm9yIiwiYnJhbmNoTG9hZGluZ0Vycm9yTXNnIiwibG9hZEJhbmtUZWxsZXIiLCJiYW5rVGVsbGVyTG9hZGluZ0Vycm9yTXNnIiwiYmFua1RlbGxlckxvYWRpbmdFcnJvciIsImJyYW5jaCIsIm1lbWJlcmJhbmtUZWxsZXIiLCJiYW5rVGVsbGVyIiwidXNlcmNvbnRyb2xsQ3RybCIsInN0YWZmQ3RybCIsIiRsb2NhdGlvbiIsImN1cnJlbnRVc2VyIiwicGF0aCIsInNlbmRDb250YWN0TWVzc2FnZSIsIm1lc3NhZ2UiLCJzeXN0ZW1TZXJ2aWNlIiwiZGlyZWN0aXZlIiwic2l0ZU5hdiIsInJlc3RyaWN0IiwibmF2Q3RybCIsIm52bSIsImxvZ2dlZEluTmFtZSIsImN1cnJlbnRBY2NvdW50VHlwZSIsImxvZ2dlZEluVXJpIiwibG9nb3V0Iiwic2l0ZUZvb3RlciIsImZpbGVNb2RlbCIsImxpbmsiLCJzY29wZSIsIiRlbGVtZW50IiwicGFyc2VkRmlsZVNldHRlciIsIiRwYXJzZSIsImF0dHJzIiwiYXNzaWduIiwib24iLCIkYXBwbHkiLCJmaWxlcyIsInNpZGVCYXIiLCJjb21taXR0ZWVzQ3RybCIsImN2bSIsImxvYWRDb21taXR0ZWUiLCJjb21taXR0ZWVMb2FkaW5nRXJyb3IiLCJjb21taXR0ZWVzIiwiY29tbWl0dGVlIiwiY29tbWl0dGVlTG9hZGluZ0Vycm9yTXNnIiwiY291bmNpbEN0cmwiLCJjbHZtIiwibG9hZENvdW5jaWxNZW1iZXJzIiwiY29uc29sZSIsImxvZyIsImNvdW5jaWxzIiwiZXZtIiwic2hvd0V2ZW50cyIsImV2ZW50TG9hZEVycm9yIiwiZXZlbnRzIiwiZXZlbnRMb2FkRXJyb3JNc2ciLCJub0V2ZW50IiwibGVuZ3RoIiwiZXZlbnRzQ3RybCIsImFib3V0dXNDdHJsIiwiY29udGFjdHVzQ3RybCIsImNvbnRhY3QiLCJ0aGlzIiwiZW1haWwiLCJjb250YWN0VXMiLCJzZW5kTWVzc2FnZUVycm9yTXNnIiwic2VuZE1lc3NhZ2VTdWNjZXNzIiwic2VuZE1lc3NhZ2VTdWNjZXNzTXNnIiwic2VuZE1lc3NhZ2VFcnJvciIsInNpZ251cEN0cmwiLCJyZWd2bSIsImxhc3ROYW1lIiwiZGlzcGxheU5hbWUiLCJwYXNzd29yZCIsImNvbmZpcm1QYXNzd29yZCIsInJlZ2lzdGVyIiwiUmVnaXN0cmF0aW9uRXJyb3JNc2ciLCJSZWdpc3RyYXRpb25FcnJvciIsInNpZ25pbkN0cmwiLCJsdm0iLCJsb2dpbkVycm9yTXNnIiwibG9naW5FcnJvciIsImRvTG9naW4iLCJwcm92bSIsIiRzY29wZSIsIiRyb3V0ZSIsInJlbG9hZCIsInVwZGF0ZU9iamVjdCIsInN0YXR1c1VwZGF0ZUVycm9yIiwiYmFzaWNBY2NvdW50SW5mb0Vycm9yTXNnIiwicmVzZXRwYXNzd29yZCIsInJlcGVhdF9wYXNzd29yZCIsIm5ld19wYXNzd29yZCIsInJlc2V0UGFzc3dvcmRFcnJvck1zZyIsInJlc2V0UGFzc3dvcmRFcnJvciIsInJlc2V0U3VjY2VzcyIsInNldFRpbWVvdXQiLCJzdGF0dXNVcGRhdGVyIiwiYWN0aXZhdGlvbkNvZGVFcnJvciIsImNvZGVSZWFkeSIsInVwZGF0ZV9hdCIsInN0YXR1cyIsImFjdGl2YXRpb25Db2RlRXJyb3JNc2ciLCJnZXRQcm9maWxlU3RhdHVzZXMiLCJzdGF0dXNMb2FkRXJyb3JNc2ciLCJiYXNpY1Byb2ZpbGUiLCJ3aG9zIiwic3RhdHVzTG9hZEVycm9yIiwidXNlclN0YXR1c2VzIiwic3RhdHVzZXMiLCJiYXNpY0FjY291bnRJbmZvRXJyb3IiLCJmb3JtZXJOYW1lIiwic2V4IiwiYWRkcmVzcyIsInVwZGF0ZWRTdGF0dXMiLCJ1cGRhdGVkIiwiYnJhbmNoSW5mb0Vycm9yIiwiYnJhbmNoSW5mb0Vycm9yTXNnIiwieWVhciIsInNhdmVCYXRjaEluZm8iLCJ1c2VyQmFzaWNJbmZvTG9hZGluZ0Vycm9yTXNnIiwidXNlckJhc2ljSW5mb0xvYWRpbmdFcnJvciIsImJhc2ljSW5mbyIsImVkaXRCYXNpY0luZm9FcnJvciIsImVkaXRCYXNpY0luZm9FcnJvck1zZyIsImxvYWRCYXNpY0luZm8iLCJ1c2VySW5mbyIsInVzZXJJbmZvTG9hZGluZ0Vycm9yTXNnIiwidXNlckluZm9Mb2FkaW5nRXJyb3IiLCJicmFuY2hJbmZvIiwidGVsZXBob25lIiwiZWRpdEJhc2ljIiwiYWN0aXZlUHJvZmlsZSIsImFjdGl2YXRpb25TdWNjZXNzIiwiYmFzaWNQcm9maWxlRWRpdE9uIiwiQWN0aXZhdGlvbkVycm9yTXNnIiwiYmFua1RlbGxlckluZm8iLCJwcmVmZXJyZWRDb21taXR0ZWUiLCJhZGRpdGlvbmFsX2NvbW1pdHRlZSIsInRlbGxlckRvYyIsInNhdmVUZWxsZXJFcnJvciIsImFjdGl2YXRpb24iLCJzYXZlVGVsbGVyRXJyb3JNc2ciLCJnZXRDdXJyZW50QmFua1RlbGxlciIsInNhdmVCYW5rVGVsbGVySW5mbyIsImRvY0xvY2F0aW9uIiwidXNlckJhbmtUZWxsZXIiLCJwcm9maWxlQ3RybCIsIndlbGNvbWVDdHJsIiwiaGVscEN0cmwiLCJodm0iLCJjaGVja1VzZXJGb3JtIiwiUGFzc3dvcmRyZXNldEZvcm0iLCJ2ZXJpZnlBamF4TG9hZGVyIiwiY2hlY2tpbmdSb3V0ZSIsImN1cnJlbnQiLCJwYXJhbXMiLCJ1c2VyQ2hlY2tpbmdFcnJvck1zZyIsInNlY3VyaXR5IiwidXNlckNoZWNraW5nRXJyb3IiLCJyIiwidmFyaWZ5VXNlckRldGFpbHMiLCJ1c2VyVmVyaWZpY2F0aW9uVXNlckVycm9yIiwidSIsInVzZXJWZXJpZmljYXRpb25Vc2VyRXJyb3JNc2ciLCJzaXRlY29udHJvbGxDdHJsIiwiYWRTaXRlIiwiYWRkQ29tbWl0dGVlRXJyb3IiLCJhZGRDb21taXR0ZWVTdWNjZXNzTXNnIiwiYWRkQ29tbWl0dGVlRXJyb3JNc2ciLCJzaG93Q29tbWl0dGVlIiwiY29tbWl0dGVlTGlzdCIsImNvbW1pdHRlZUVycm9yTXNnIiwiY29tbWl0dGVlRXJyb3IiLCJyZW1vdmVMaXN0IiwiY291bmNpbCIsImFsZXJ0IiwiY291bmNpbEFkZEVycm9yIiwiYWRkQ291bmNpbE1lbWJlciIsInNob3dDb3VuY2lsIiwiY291bmNpbFNob3dFcnJvciIsImNvdW5jaWxTaG93RXJyb3JNc2ciLCJldmVudFRpdGxlIiwiZXZlbnREZXRhaWxzIiwiZXZlbnRTdGFydHMiLCJldmVudEFkZEVycm9yIiwiZXZlbnRBZGRFcnJvck1zZyIsImV2ZW50RW5kcyIsInNob3dFdmVudEVycm9yIiwic2hvd0V2ZW50RXJyb3JNc2ciLCIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsImZvY3VzIl0sIm1hcHBpbmdzIjoiQUFRQSxjQUVBLFdBQ0lBLFFBQ0tDLE9BQU8sVUFBVyxhQUFjLFVBQVcscUJBR2hEQyxRQUFTQSxpQkFBVCxvQkFHWUMsU0FBQUEsRUFBYUMsR0FDYkMsRUFDQUMsS0FBQUEsS0FFRUgsWUFBQSxpQ0FDRkEsV0FBYSxjQUNiRSxhQUFZLFFBR2ZFLEtBQUssbUJBQ0ZKLFlBQWEsMENBQ2JFLFdBQVksY0FDWkMsYUFBYyxTQUdkSCxLQUFBQSxXQUNBRSxZQUFZLDBCQUNaQyxXQUFjLGFBRVpBLGFBQVksVUFFZEQsS0FBQUEsV0FDQUMsWUFBYywwQkFFWkQsV0FBUyxhQUNYRixhQUFhLFFBRWJHLEtBQUFBLFlBRUVILFlBQUEsNEJBQ0ZBLFdBQWEsY0FDYkUsYUFBWSxVQUdm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RUFBQXVCLGtCQUFBN1IsRUFBQWlCLEtBQUErRCxPQTBMcUNoRixFQUFTaUIsS0FBS0QsVUFDbkJzUCxFQUFPc0IsZ0JBQWlCLEVBQ3hCdEIsRUFBT2hILE9BQVN0SixFQUFTaUIsS0FBS3FJLFVBR3JDaEksTUFBTSxTQUFBNkQsR0FDSG1MLEVBQU9zQixnQkFBaUIsRUFDeEJ0QixFQUFPdUIsa0JBQW9CMU0sS0FJdkNtTCxFQUFPdE0sWUFBYyxTQUFDRyxHQUNsQkMsRUFDS0osWUFBWUcsR0FDWmpELEtBQUssU0FBQWxCLEdBQ0VBLEVBQVNpQixLQUFLK0QsT0FDZHNMLEVBQU9zQixnQkFBaUIsRUFDeEJ0QixFQUFPdUIsa0JBQW9CN1IsRUFBU2lCLEtBQUsrRCxPQUVwQ2hGLEVBQVNpQixLQUFLRCxTQUNuQmdMLFdBQVcsV0FDUHNFLEVBQU9wTSxhQUNSLE9BR1Y1QyxNQUFNLFNBQUE2RCxHQUNINkQsUUFBUUMsSUFBSTlELE9BTXhCdUIsRUFBVUUsS0FBSyxZQUluQkYsRUFBVUUsS0FBSyxXQTVOdkJoSSxRQUNLQyxPQUFPLFVBR1p3UixXQUFBQSxtQkFBNEJBLEdBRTVCQSxFQUFTQSxTQUFpQjdPLGlCQUFnQmtGLFlBQVd0QyxrQkFSekQ7YUNEQzBOLEVBQUFDLFVBQVlDLE1BQUEsV0FFUEQsRUFBQUEsY0FBZ0JFIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCBlbnRyeSBwb2ludCBmb3IgYW5ndWxhciBmcm9udC1lbmRcbnwgQGF1dGhvcjogamFoaWQgaGFxdWUgPGphaGlkLmhhcXVlQHlhaG9vLmNvbT5cbnwgQGNvcHlyaWdodDogbmJhLXNscCwgMjAxN1xufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25iYXNscCcsIFsnbmdSZXNvdXJjZScsICduZ1JvdXRlJywgJzcyMGtiLmRhdGVwaWNrZXInXSlcbiAgICAgICAgLmNvbmZpZyhbJyRyb3V0ZVByb3ZpZGVyJywgJyRsb2NhdGlvblByb3ZpZGVyJywgY29uZmlnXSk7XG5cbiAgICBmdW5jdGlvbiBjb25maWcoJHJvdXRlUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyKSB7XG4gICAgICAgICRyb3V0ZVByb3ZpZGVyXG4gICAgICAgICAgICAud2hlbignLycsIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2hvbWUvd2VsY29tZS93ZWxjb21lLnZpZXcuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3dlbGNvbWVDdHJsJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICd3dm0nLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC53aGVuKCcvY291bmNpbG1lbWJlcnMnLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb3VuY2lsbWVtYmVycy9jb3VuY2lsbWVtYmVycy52aWV3Lmh0bWwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdjb3VuY2lsQ3RybCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnY2x2bScsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLndoZW4oJy9zaWdudXAnLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdzaWdudXAvc2lnbnVwLnZpZXcuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3NpZ251cEN0cmwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3JlZ3ZtJyxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAud2hlbignL3NpZ25pbicsIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3NpZ25pbi9zaWduaW4udmlldy5odG1sJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnc2lnbmluQ3RybCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnbHZtJyxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAud2hlbignL3Byb2ZpbGUnLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwcm9maWxlL3Byb2ZpbGUudmlldy5odG1sJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAncHJvZmlsZUN0cmwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3Byb3ZtJyxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAud2hlbignL2hlbHAnLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdoZWxwL2hlbHAudmlldy5odG1sJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnaGVscEN0cmwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2h2bScsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLndoZW4oJy9zaXRlY29udHJvbGwnLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhZG1pbi9zaXRlY29udHJvbGwvc2l0ZWNvbnRyb2xsLnZpZXcuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3NpdGVjb250cm9sbEN0cmwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2FkU2l0ZScsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLndoZW4oJy91c2VyY29udHJvbGwnLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhZG1pbi91c2VyY29udHJvbGwvdXNlcmNvbnRyb2xsLnZpZXcuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3VzZXJjb250cm9sbEN0cmwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3VzZXJ2bScsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLndoZW4oJy9zdGFmZmNvbnRyb2xsJywge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnYWRtaW4vc3RhZmZjb250cm9sbC9zdGFmZmNvbnRyb2xsLnZpZXcuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3N0YWZmQ3RybCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnc3ZtJyxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAud2hlbignL3dlbGNvbWUnLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd3ZWxjb21lL3dlbGNvbWUudmlldy5odG1sJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnd2VsY29tZUN0cmwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3d2bScsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLndoZW4oJy9jb21taXR0ZWVzJywge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tbWl0dGVlcy9jb21taXR0ZWVzLnZpZXcuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2NvbW1pdHRlZXNDdHJsJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdjdm0nLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC53aGVuKCcvZXZlbnRzJywge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnZXZlbnRzL2V2ZW50cy52aWV3Lmh0bWwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdldmVudHNDdHJsJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdldm0nLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC53aGVuKCcvYWJvdXR1cycsIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2Fib3V0dXMvYWJvdXR1cy52aWV3Lmh0bWwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdhYm91dHVzQ3RybCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnYWJ2bScsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLndoZW4oJy9jb250YWN0dXMnLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb250YWN0dXMvY29udGFjdHVzLnZpZXcuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2NvbnRhY3R1c0N0cmwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2N2bScsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAkbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUoe1xuICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgfVxufSkoKTtcbiIsIi8qXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBzZXR0aW5nIHVwIGF1dGhlbnRpY2F0aW9uIHNlcnZpY2UgXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5iYS1zbHAsIDIwMTdcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCduYmFzbHAnKVxuICAgIC5zZXJ2aWNlKCdhdXRoZW50aWNhdGlvbicsIGF1dGhlbnRpY2F0aW9uKTtcblxuYXV0aGVudGljYXRpb24uJGluamVjdCA9IFsnJHdpbmRvdycsICckaHR0cCddO1xuXG5mdW5jdGlvbiBhdXRoZW50aWNhdGlvbigkd2luZG93LCAkaHR0cCkge1xuLy8gc2F2aW5nIHRva2VuLlxuICAgIGNvbnN0IHNhdmVUb2tlbiA9XHRmdW5jdGlvbiAodG9rZW4pIHtcbiAgICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2VbJ25iYXNscCddID0gdG9rZW47XG4gICAgfTtcblxuICAgIGNvbnN0IGdldFRva2VuID1cdGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICR3aW5kb3cubG9jYWxTdG9yYWdlWyduYmFzbHAnXTtcbiAgICB9O1xuXG4gICAgY29uc3QgaXNMb2dnZWRJbiA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgdG9rZW4gPSBnZXRUb2tlbigpO1xuICAgICAgICBsZXQgcGF5bG9hZDtcblxuICAgICAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgICAgIHBheWxvYWQgPSB0b2tlbi5zcGxpdCgnLicpWzFdO1xuICAgICAgICAgICAgcGF5bG9hZCA9ICR3aW5kb3cuYXRvYihwYXlsb2FkKTtcbiAgICAgICAgICAgIHBheWxvYWQgPSBKU09OLnBhcnNlKHBheWxvYWQpO1xuICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgY3VycmVudFVzZXIgPSAoKSA9PiB7XG4gICAgICAgIGlmIChpc0xvZ2dlZEluKSB7XG4gICAgICAgICAgICBjb25zdCB0b2tlbiA9IGdldFRva2VuKCk7XG4gICAgICAgICAgICBsZXQgcGF5bG9hZCA9IHRva2VuLnNwbGl0KCcuJylbMV07XG4gICAgICAgICAgICBwYXlsb2FkID0gJHdpbmRvdy5hdG9iKHBheWxvYWQpO1xuICAgICAgICAgICAgcGF5bG9hZCA9IEpTT04ucGFyc2UocGF5bG9hZCk7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdXNlcklkOiBwYXlsb2FkLl9pZCxcbiAgICAgICAgICAgICAgICBlbWFpbDogcGF5bG9hZC5lbWFpbCxcbiAgICAgICAgICAgICAgICBhY2NvdW50U3RhdHVzOiBwYXlsb2FkLmFjY291bnRTdGF0dXMsXG4gICAgICAgICAgICAgICAgYWNjb3VudFR5cGU6IHBheWxvYWQuYWNjb3VudFR5cGUsXG4gICAgICAgICAgICAgICAgYWNjb3VudElkOiBwYXlsb2FkLnVzZXJJZCxcbiAgICAgICAgICAgICAgICBuYW1lOiBwYXlsb2FkLm5hbWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IExvZ291dCA9ICgpID0+IHtcbiAgICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnbmJhc2xwJyk7XG4gICAgfTtcblxuICAgIGNvbnN0IHNpZ25VcCA9ICh1c2VyKSA9PiB7XG4gICAgICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3NpZ251cCcsIHVzZXIpLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIHNhdmVUb2tlbihkYXRhLnRva2VuKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHNpZ25JbiA9ICh1c2VyKSA9PiB7XG4gICAgICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3NpZ25pbicsIHVzZXIpLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIHNhdmVUb2tlbihkYXRhLnRva2VuKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGNoZWNrVXNlciA9IChkYXRhKSA9PiB7XG4gICAgICAgIHJldHVybiAkaHR0cFxuICAgICAgICAgICAgLnBvc3QoJy9hcGkvY2hlY2t1c2VyJywgZGF0YSlcbiAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgIH07XG5cbiAgICBjb25zdCBjb3VudFVzZXIgPSAodXNlcklkKSA9PiB7XG4gICAgICAgIHJldHVybiAkaHR0cCBcbiAgICAgICAgICAgIC5nZXQoJy9hcGkvJyArIHVzZXJJZCArICcvY291bnQnKVxuICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZVN1Y2Nlc3MgPSAocmVzcG9uc2UpID0+IHJlc3BvbnNlO1xuXG4gICAgY29uc3QgaGFuZGxlRXJyb3IgPSAocmVzcG9uc2UpID0+IHJlc3BvbnNlO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgY3VycmVudFVzZXI6IGN1cnJlbnRVc2VyLFxuICAgICAgICBzYXZlVG9rZW46IHNhdmVUb2tlbixcbiAgICAgICAgZ2V0VG9rZW46IGdldFRva2VuLFxuICAgICAgICBpc0xvZ2dlZEluOiBpc0xvZ2dlZEluLFxuICAgICAgICBzaWduVXA6IHNpZ25VcCxcbiAgICAgICAgc2lnbkluOiBzaWduSW4sXG4gICAgICAgIGNoZWNrVXNlcjogY2hlY2tVc2VyLFxuICAgICAgICBjb3VudFVzZXI6IGNvdW50VXNlcixcbiAgICAgICAgTG9nb3V0OiBMb2dvdXQsXG4gICAgfTtcbn1cblxuIiwiLypcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG58IHNldHRpbmcgdXAgYWNjb3VudCBzZXJ2aWNlIGZvciBhcHBcbnwgQGF1dGhvcjogamFoaWQgaGFxdWUgPGphaGlkLmhhcXVlQHlhaG9vLmNvbT5cbnwgQGNvcHlyaWdodDogbmJhLXNscCwgMjAxN1xufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25iYXNscCcpXG4gICAgICAgIC5zZXJ2aWNlKCdhY2NvdW50JywgYWNjb3VudCk7XG5cbiAgICBhY2NvdW50LiRpbmplY3QgPSBbJyR3aW5kb3cnLCAnJGh0dHAnXTtcblxuICAgIGZ1bmN0aW9uIGFjY291bnQoJHdpbmRvdywgJGh0dHApIHtcblxuICAgICAgICBjb25zdCByZXNldFBhc3N3b3JkID0gKHVzZXJJZCwgcmVzZXREYXRhKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAgXG4gICAgICAgICAgICAgICAgLnBvc3QoJy9hcGkvJyArIHVzZXJJZCArICcvcmVzZXRwYXNzd29yZCcsIHJlc2V0RGF0YSlcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgY3JlYXRlQWN0aXZhdGlvbkNvZGUgPSAodXNlcklkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAgXG4gICAgICAgICAgICAgICAgLnBvc3QoJy9hcGkvJyArIHVzZXJJZCArICcvZ2VuZXJhdGV2YWxpZGF0aW9uY29kZScpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHZhbGlkYXRlQWN0aXZhdGlvbkNvZGUgPSAodXNlcklkLCBjb2RlKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAgXG4gICAgICAgICAgICAgICAgLnBvc3QoJy9hcGkvJyArIHVzZXJJZCArICcvJyArIGNvZGUgKyAnL3ZhbGlkYXRlJylcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgZ2V0QWNjb3VudFN0YXR1c2VzID0gKHVzZXJJZCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwIFxuICAgICAgICAgICAgICAgIC5nZXQoJy9hcGkvJyArIHVzZXJJZCArICcvc3RhdHVzZXMnKVxuICAgICAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBnZXRDb21taXR0ZWUgPSAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHBcbiAgICAgICAgICAgICAgICAuZ2V0KCcvYXBpL3Nob3djb21taXR0ZWUnKVxuICAgICAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCB1cGRhdGVVc2VyU3RhdHVzID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cFxuICAgICAgICAgICAgICAgIC5wb3N0KCcvYXBpL3VzZXJzdGF0dXMnLCBkYXRhKVxuICAgICAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBzYXZlQmFzaWNJbmZvID0gKGRhdGEpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cCBcbiAgICAgICAgICAgICAgICAucG9zdCgnL2FwaS9jcmVhdGViYXNpY3Byb2ZpbGUnLCBkYXRhKVxuICAgICAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBlZGl0QmFzaWNJbmZvID0gKHVzZXJJZCwgZGF0YSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwXG4gICAgICAgICAgICAgICAgLnB1dCgnL2FwaS8nICsgdXNlcklkICsgJy9lZGl0YmFzaWNpbmZvJywgZGF0YSlcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3Qgc2F2ZUJyYW5jaEluZm8gPSAodXNlcklkLCBkYXRhKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHBcbiAgICAgICAgICAgICAgICAucG9zdCgnL2FwaS8nICsgdXNlcklkICsgJy9zYXZlYnJhbmNoaW5mbycsIGRhdGEpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHVwbG9hZFRlbGxlckRvY3MgPSAoZmlsZSwgdXNlcklkKSA9PiB7XG4gICAgICAgICAgICB2YXIgZmQgPSBuZXcgRm9ybURhdGEoKTtcbiAgICAgICAgICAgIGZkLmFwcGVuZCgndGVsbGVyRG9jJywgZmlsZSk7XG5cbiAgICAgICAgICAgIHJldHVybiAkaHR0cFxuICAgICAgICAgICAgICAgIC5wb3N0KCcvYXBpL2RvY3VwbG9hZC8nICsgdXNlcklkLCBmZCwge1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm1SZXF1ZXN0OiBhbmd1bGFyLmlkZW50aXR5LFxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiB1bmRlZmluZWQgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHNhdmVCYW5rVGVsbGVyID0gKHRlbGxlcikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwXG4gICAgICAgICAgICAgICAgLnBvc3QoJy9hcGkvc2F2ZWJhbmt0ZWxsZXInLCB0ZWxsZXIpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGdldEJhbmtUZWxsZXIgPSAodXNlcklkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAgXG4gICAgICAgICAgICAgICAgLmdldCgnL2FwaS8nICsgdXNlcklkICsgJy9iYW5rdGVsbGVyJylcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgLypcbiAgICAgICAgfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgfCBGb2xsb3dpbmcgZnVuY3Rpb24gd2lsbCBsb2FkIGFsbCBkYXRhIGZvciB1c2VyXG4gICAgICAgIHwgYmFzZWQgb24gZ2l2ZW4gdXNlckVtYWlsIGFuZCBjb2xsZWN0aW9uIG5hbWVcbiAgICAgICAgfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgKi9cbiAgICAgICAgY29uc3QgbG9hZFVzZXJJbmZvID0gKGNvbGxlY3Rpb25OYW1lLCB1c2VySWQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cCBcbiAgICAgICAgICAgICAgICAuZ2V0KCcvYXBpLycgKyB1c2VySWQgKyAnLycgKyBjb2xsZWN0aW9uTmFtZSArICcvdXNlcmluZm8nKVxuICAgICAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBoYW5kbGVTdWNjZXNzID0gKHJlc3BvbnNlKSA9PiByZXNwb25zZTtcblxuICAgICAgICBjb25zdCBoYW5kbGVFcnJvciA9IChyZXNwb25zZSkgPT4gcmVzcG9uc2U7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlc2V0UGFzc3dvcmQ6IHJlc2V0UGFzc3dvcmQsXG4gICAgICAgICAgICB1cGxvYWRUZWxsZXJEb2NzOiB1cGxvYWRUZWxsZXJEb2NzLFxuICAgICAgICAgICAgY3JlYXRlQWN0aXZhdGlvbkNvZGU6IGNyZWF0ZUFjdGl2YXRpb25Db2RlLFxuICAgICAgICAgICAgdmFsaWRhdGVBY3RpdmF0aW9uQ29kZTogdmFsaWRhdGVBY3RpdmF0aW9uQ29kZSxcbiAgICAgICAgICAgIGdldEFjY291bnRTdGF0dXNlczogZ2V0QWNjb3VudFN0YXR1c2VzLFxuICAgICAgICAgICAgdXBkYXRlVXNlclN0YXR1czogdXBkYXRlVXNlclN0YXR1cyxcbiAgICAgICAgICAgIHNhdmVCYXNpY0luZm86IHNhdmVCYXNpY0luZm8sXG4gICAgICAgICAgICBlZGl0QmFzaWNJbmZvOiBlZGl0QmFzaWNJbmZvLFxuICAgICAgICAgICAgc2F2ZUJyYW5jaEluZm86IHNhdmVCcmFuY2hJbmZvLFxuICAgICAgICAgICAgbG9hZFVzZXJJbmZvOiBsb2FkVXNlckluZm8sXG4gICAgICAgICAgICBnZXRDb21taXR0ZWU6IGdldENvbW1pdHRlZSxcbiAgICAgICAgICAgIHNhdmVCYW5rVGVsbGVyOiBzYXZlQmFua1RlbGxlcixcbiAgICAgICAgICAgIGdldEJhbmtUZWxsZXI6IGdldEJhbmtUZWxsZXIsXG4gICAgICAgIH07XG4gICAgfVxuXG59KSgpO1xuIiwiLypcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG58IHNldHRpbmcgdXAgc2VydmljZSBmb3Igc2l0ZS1jb250cm9sbGVyIGZvciBhZG1pblxufCBAYXV0aG9yOiBqYWhpZCBoYXF1ZSA8amFoaWQuaGFxdWVAeWFob28uY29tPlxufCBAY29weXJpZ2h0OiBuYmEtc2xwLCAyMDE4XG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4oZnVuY3Rpb24gKCkge1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCduYmFzbHAnKVxuICAgICAgICAuc2VydmljZSgnc2l0ZWNvbnRyb2xsZXInLCBzaXRlY29udHJvbGxlcik7XG5cbiAgICBzaXRlY29udHJvbGxlci4kaW5qZWN0ID0gWyckaHR0cCddO1xuXG4gICAgZnVuY3Rpb24gc2l0ZWNvbnRyb2xsZXIoJGh0dHApIHtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGFkZFByZWZlcnJlZENvbW1pdHRlZSA9IChkYXRhKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHBcbiAgICAgICAgICAgICAgICAucG9zdCgnL2FwaS9jcmVhdGVjb21taXR0ZWUnLCBkYXRhKVxuICAgICAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBzaG93QWxsQ29tbWl0dGVlID0gKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwXG4gICAgICAgICAgICAgICAgLmdldCgnL2FwaS9zaG93Y29tbWl0dGVlJylcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgcmVtb3ZlQ29tbWl0dGVlID0gKGNvbW1pdHRlZUlkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAgXG4gICAgICAgICAgICAgICAgLmRlbGV0ZSgnL2FwaS8nICsgY29tbWl0dGVlSWQgKyAnL3JlbW92ZWNvbW1pdHRlZScpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGFkZENvdW5jaWwgPSAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwIFxuICAgICAgICAgICAgICAgIC5wb3N0KCcvYXBpL2NvdW5jaWxtZW1iZXInLCBkYXRhKVxuICAgICAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBzaG93Q291bmNpbE1lbWJlciA9ICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cCBcbiAgICAgICAgICAgICAgICAuZ2V0KCcvYXBpL3Nob3djb3VuY2lsJylcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgcmVtb3ZlQ291bmNpbCA9IChjb3VuY2lsSWQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cCBcbiAgICAgICAgICAgICAgICAuZGVsZXRlKCcvYXBpLycgKyBjb3VuY2lsSWQgKyAnL2NvdW5jaWwnKVxuICAgICAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBhZGRFdmVudCA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwIFxuICAgICAgICAgICAgICAgIC5wb3N0KCcvYXBpL2V2ZW50JywgZXZlbnQpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHNob3dFdmVudCA9ICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cFxuICAgICAgICAgICAgICAgIC5nZXQoJy9hcGkvc2hvd0V2ZW50JylcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgcmVtb3ZlRXZlbnQgPSAoZXZlbnRJZCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwXG4gICAgICAgICAgICAgICAgLmRlbGV0ZSgnL2FwaS8nICsgZXZlbnRJZCArICcvZXZlbnQnKVxuICAgICAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBoYW5kbGVTdWNjZXNzID0gKHJlc3BvbnNlKSA9PiByZXNwb25zZTtcblxuICAgICAgICBjb25zdCBoYW5kbGVFcnJvciA9IChyZXNwb25zZSkgPT4gcmVzcG9uc2U7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFkZFByZWZlcnJlZENvbW1pdHRlZTogYWRkUHJlZmVycmVkQ29tbWl0dGVlLFxuICAgICAgICAgICAgc2hvd0FsbENvbW1pdHRlZTogc2hvd0FsbENvbW1pdHRlZSxcbiAgICAgICAgICAgIHJlbW92ZUNvbW1pdHRlZTogcmVtb3ZlQ29tbWl0dGVlLFxuICAgICAgICAgICAgYWRkQ291bmNpbDogYWRkQ291bmNpbCxcbiAgICAgICAgICAgIHNob3dDb3VuY2lsTWVtYmVyOiBzaG93Q291bmNpbE1lbWJlcixcbiAgICAgICAgICAgIHJlbW92ZUNvdW5jaWw6IHJlbW92ZUNvdW5jaWwsXG4gICAgICAgICAgICBhZGRFdmVudDogYWRkRXZlbnQsXG4gICAgICAgICAgICBzaG93RXZlbnQ6IHNob3dFdmVudCxcbiAgICAgICAgICAgIHJlbW92ZUV2ZW50OiByZW1vdmVFdmVudCxcbiAgICAgICAgfTtcblxuICAgIH1cblxufSkoKTtcbiIsIi8qXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBzZXR0aW5nIHVwIHVzZXIgY29udHJvbGxlciBzZXJ2aWNlXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5iYS1zbHAsIDIwMThcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbihmdW5jdGlvbiAoKSB7XG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCduYmFzbHAnKVxuICAgICAgICAuc2VydmljZSgndXNlcmNvbnRyb2xsZXInLCB1c2VyY29udHJvbGxlcik7XG5cbiAgICB1c2VyY29udHJvbGxlci4kaW5qZWN0ID0gWyckaHR0cCddO1xuXG4gICAgZnVuY3Rpb24gdXNlcmNvbnRyb2xsZXIoJGh0dHApIHtcblxuXG4gICAgICAgIGNvbnN0IHNob3dNZW1iZXJzID0gKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwXG4gICAgICAgICAgICAgICAgLmdldCgnL2FwaS9tZW1iZXJzJylcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3Qgc2hvd1NpbmdsZU1lbWJlciA9IChtZW1iZXJJZCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwIFxuICAgICAgICAgICAgICAgIC5nZXQoJy9hcGkvJyArIG1lbWJlcklkICsgJy9tZW1iZXInKVxuICAgICAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBzaG93TWVtYmVyUHJvZmlsZSA9IChtZW1iZXJJZCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwIFxuICAgICAgICAgICAgICAgIC5nZXQoJy9hcGkvJyArIG1lbWJlcklkICsgJy9wcm9maWxlJylcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3Qgc2hvd01lbWJlckJyYW5jaCA9IChtZW1iZXJJZCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwIFxuICAgICAgICAgICAgICAgIC5nZXQoJy9hcGkvJyArIG1lbWJlcklkICsgJy9icmFuY2gnKVxuICAgICAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKTtcbiAgICAgICAgfTtcblxuXG4gICAgICAgIGNvbnN0IGhhbmRsZVN1Y2Nlc3MgPSAocmVzcG9uc2UpID0+IHJlc3BvbnNlO1xuXG4gICAgICAgIGNvbnN0IGhhbmRsZUVycm9yID0gKHJlc3BvbnNlKSA9PiByZXNwb25zZTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2hvd01lbWJlcnM6IHNob3dNZW1iZXJzLFxuICAgICAgICAgICAgc2hvd1NpbmdsZU1lbWJlcjogc2hvd1NpbmdsZU1lbWJlcixcbiAgICAgICAgICAgIHNob3dNZW1iZXJQcm9maWxlOiBzaG93TWVtYmVyUHJvZmlsZSxcbiAgICAgICAgICAgIHNob3dNZW1iZXJCcmFuY2g6IHNob3dNZW1iZXJCcmFuY2gsXG4gICAgICAgIH07XG4gICAgfVxuXG59KSgpOyIsIi8qXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBzZXR0aW5nIHVwIHVzZXIgY29udHJvbGxlciBmb3IgdGhlIGFwcFxufCBAYXV0aG9yOiBqYWhpZCBoYXF1ZSA8amFoaWQuaGFxdWVAeWFob28uY29tPlxufCBAY29weXJpZ2h0OiBuYmEtc2xwLCAyMDE4XG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4oZnVuY3Rpb24gKCkge1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCduYmFzbHAnKVxuICAgICAgICAuY29udHJvbGxlcigndXNlcmNvbnRyb2xsQ3RybCcsIHVzZXJjb250cm9sbEN0cmwpO1xuXG4gICAgdXNlcmNvbnRyb2xsQ3RybC4kaW5qZWN0ID0gWyd1c2VyY29udHJvbGxlcicsICdhY2NvdW50JywgJyRyb3V0ZVBhcmFtcyddO1xuXG4gICAgZnVuY3Rpb24gdXNlcmNvbnRyb2xsQ3RybCh1c2VyY29udHJvbGxlciwgYWNjb3VudCwgJHJvdXRlUGFyYW1zKSB7XG4gICAgICAgIFxuICAgICAgICBjb25zdCB1c2Vydm0gPSB0aGlzO1xuXG4gICAgICAgIHVzZXJjb250cm9sbGVyXG4gICAgICAgICAgICAuc2hvd01lbWJlcnMoKVxuICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5zaG93TWVtYmVyRXJyb3IgPSB0cnVlOyBcbiAgICAgICAgICAgICAgICAgICAgdXNlcnZtLnNob3dNZW1iZXJFcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7IFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdXNlcnZtLm1lbWJlcnMgPSByZXNwb25zZS5kYXRhLm1lbWJlcnM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgIHVzZXJ2bS5zaG93TWVtYmVyRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHVzZXJ2bS5zaG93TWVtYmVyRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICB9KTtcblxuXG4gICAgICAgIC8vIGluaXRpYWwgZnVuY3Rpb24gdG8gY2hlY2sgd2hldGhlciB1c2VyIGNsaWNrZWQgYW55IG1lbWJlciBuYW1lXG4gICAgICAgIHVzZXJ2bS5jaGVja1JvdXRlcyA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICgkcm91dGVQYXJhbXMudikge1xuICAgICAgICAgICAgICAgIHVzZXJ2bS5jbGlja2VkTWVtYmVyTmFtZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB1c2Vydm0uY2xpY2tlZE1lbWJlck5hbWUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuXG4gICAgICAgIC8qXG4gICAgICAgIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIHwgRm9sbG93aW5nIGZ1bmN0aW9uIHdpbGwgZ2V0IGluZGl2aWR1YWwgbWVtYmVyJ3NcbiAgICAgICAgfCBkZXRhaWxzXG4gICAgICAgIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICovXG4gICAgICAgIHVzZXJ2bS5sb2FkVXNlckluZm8gPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBtZW1lYnJJZCA9ICRyb3V0ZVBhcmFtcy52O1xuXG4gICAgICAgICAgICB1c2VyY29udHJvbGxlclxuICAgICAgICAgICAgICAgIC5zaG93U2luZ2xlTWVtYmVyKG1lbWVicklkKVxuICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5zaW5nbGVNZW1iZXJMb2FkaW5nRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcnZtLnNpbmdsZU1lbWJlckxvYWRpbmdFcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2Vydm0uc2luZ2xlTWVtYmVyTG9hZGluZ0Vycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2Vydm0uc2luZ2xlTWVtYmVyID0gcmVzcG9uc2UuZGF0YS5tZW1iZXI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICB1c2Vydm0uc2luZ2xlTWVtYmVyTG9hZGluZ0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdXNlcnZtLnNpbmdsZU1lbWJlckxvYWRpbmdFcnJvck1zZyA9IGVycjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICB1c2Vydm0ubG9hZFVzZXJQcm9maWxlID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbWVtZWJySWQgPSAkcm91dGVQYXJhbXMudjtcblxuICAgICAgICAgICAgdXNlcmNvbnRyb2xsZXJcbiAgICAgICAgICAgICAgICAuc2hvd01lbWJlclByb2ZpbGUobWVtZWJySWQpXG4gICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcnZtLnByb2ZpbGVMb2FkaW5nRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcnZtLnByb2ZpbGVMb2FkaW5nRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcnZtLnByb2ZpbGVMb2FkaW5nRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5tZW1iZXJQcm9maWxlID0gcmVzcG9uc2UuZGF0YS5wcm9maWxlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdXNlcnZtLnByb2ZpbGVMb2FkaW5nRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB1c2Vydm0ucHJvZmlsZUxvYWRpbmdFcnJvck1zZyA9IGVycjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICB1c2Vydm0ubG9hZFVzZXJCcmFuY2ggPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBtZW1lYnJJZCA9ICRyb3V0ZVBhcmFtcy52O1xuXG4gICAgICAgICAgICB1c2VyY29udHJvbGxlclxuICAgICAgICAgICAgICAgIC5zaG93TWVtYmVyQnJhbmNoKG1lbWVicklkKVxuICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5icmFuY2hMb2FkaW5nRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcnZtLmJyYW5jaExvYWRpbmdFcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2Vydm0uYnJhbmNoTG9hZGluZ0Vycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2Vydm0ubWVtYmVyQnJhbmNoID0gcmVzcG9uc2UuZGF0YS5icmFuY2g7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICB1c2Vydm0uYnJhbmNoTG9hZGluZ0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdXNlcnZtLmJyYW5jaExvYWRpbmdFcnJvck1zZyA9IGVycjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICB1c2Vydm0ubG9hZEJhbmtUZWxsZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBtZW1lYnJJZCA9ICRyb3V0ZVBhcmFtcy52O1xuXG4gICAgICAgICAgICBhY2NvdW50XG4gICAgICAgICAgICAgICAgLmdldEJhbmtUZWxsZXIobWVtZWJySWQpXG4gICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcnZtLmJhbmtUZWxsZXJMb2FkaW5nRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcnZtLmJhbmtUZWxsZXJMb2FkaW5nRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcnZtLmJhbmtUZWxsZXJMb2FkaW5nRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5tZW1iZXJiYW5rVGVsbGVyID0gcmVzcG9uc2UuZGF0YS5iYW5rVGVsbGVyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdXNlcnZtLmJhbmtUZWxsZXJMb2FkaW5nRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB1c2Vydm0uYmFua1RlbGxlckxvYWRpbmdFcnJvck1zZyA9IGVycjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICB9XG5cblxufSkoKTsiLCIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCBzdGFmZiBjb250cm9sbGVyIGZvciB0aGUgYXBwXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5iYS1zbHAsIDIwMThcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbihmdW5jdGlvbiAoKSB7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25iYXNscCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdzdGFmZkN0cmwnLCBzdGFmZkN0cmwpO1xuXG4gICAgc3RhZmZDdHJsLiRpbmplY3QgPSBbJ2F1dGhlbnRpY2F0aW9uJywgJyRsb2NhdGlvbiddO1xuXG4gICAgZnVuY3Rpb24gc3RhZmZDdHJsKGF1dGhlbnRpY2F0aW9uLCAkbG9jYXRpb24pIHsgICAgXHRcbiAgICAgICAgY29uc3Qgc3ZtID0gdGhpcztcbiAgICAgICBcbiAgICAgICAgaWYgKGF1dGhlbnRpY2F0aW9uLmlzTG9nZ2VkSW4oKSkge1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5hY2NvdW50VHlwZSA9PT0gJ2FkbWluJykge1xuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL3dlbGNvbWUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvc2lnbmluJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbn0pKCk7IiwiLypcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG58IHNldHRpbmcgdXAgc3lzdGVtIHNlcnZpY2UgZm9yIHRoZSBhcHBcbnwgQGF1dGhvcjogamFoaWQgaGFxdWUgPGphaGlkLmhhcXVlQHlhaG9vLmNvbT5cbnwgQGNvcHlyaWdodDogbmFiLXNscCwgMjAxOFxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbmJhc2xwJylcbiAgICAgICAgLnNlcnZpY2UoJ3N5c3RlbVNlcnZpY2UnLCBzeXN0ZW1TZXJ2aWNlKTtcbiAgICAgICAgXG4gICAgc3lzdGVtU2VydmljZS4kaW5qZWN0ID0gWyckaHR0cCddO1xuXG4gICAgZnVuY3Rpb24gc3lzdGVtU2VydmljZSgkaHR0cCkge1xuICAgICAgICBcbiAgICAgICAgY29uc3Qgc2VuZENvbnRhY3RNZXNzYWdlID0gKG1lc3NhZ2UpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cFxuICAgICAgICAgICAgICAgIC5wb3N0KCcvYXBpL3NlbmRtZXNzYWdlJywgbWVzc2FnZSlcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgaGFuZGxlU3VjY2VzcyA9IChyZXNwb25zZSkgPT4gcmVzcG9uc2U7XG5cbiAgICAgICAgY29uc3QgaGFuZGxlRXJyb3IgPSAocmVzcG9uc2UpID0+IHJlc3BvbnNlO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzZW5kQ29udGFjdE1lc3NhZ2U6IHNlbmRDb250YWN0TWVzc2FnZSxcbiAgICAgICAgfTtcbiAgICB9XG5cbn0pKCk7IiwiLypcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG58IHNldHRpbmcgdXAgbmF2aWdhdGlvbiBkaXJlY3RpdmUgZm9yIHRoZSBhcHBcbnwgQGF1dGhvcjogamFoaWQgaGFxdWUgPGphaGlkLmhhcXVlQHlhaG9vLmNvbT5cbnwgQGNvcHlyaWdodDogbmJhc2xwLCAyMDE3XG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4oZnVuY3Rpb24gKCkge1xuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbmJhc2xwJylcbiAgICAgICAgLmRpcmVjdGl2ZSgnc2l0ZU5hdicsIHNpdGVOYXYpO1xuXG4gICAgZnVuY3Rpb24gc2l0ZU5hdigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21tb24vZGlyZWN0aXZlcy9uYXYvc2l0ZS1uYXYudGVtcGxhdGUuaHRtbCcsXG4gICAgICAgICAgICBjb250cm9sbGVyOiAnbmF2Q3RybCBhcyBudm0nLFxuICAgICAgICB9O1xuICAgIH1cbn0pKCk7XG4iLCIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCBjb250cm9sbGVyIGZvciBuYXZpZ2F0aW9uXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5iYXNscCwgMjAxN1xufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25iYXNscCcpXG4gICAgICAgIC5jb250cm9sbGVyKCduYXZDdHJsJywgbmF2Q3RybCk7XG5cbiAgICBuYXZDdHJsLiRpbmplY3QgPSBbJ2F1dGhlbnRpY2F0aW9uJywgJyRsb2NhdGlvbiddO1xuXG4gICAgZnVuY3Rpb24gbmF2Q3RybChhdXRoZW50aWNhdGlvbiwgJGxvY2F0aW9uKSB7XG4gICAgICAgIGNvbnN0IG52bSA9IHRoaXM7XG5cbiAgICAgICAgaWYgKGF1dGhlbnRpY2F0aW9uLmlzTG9nZ2VkSW4oKSkge1xuICAgICAgICAgICAgbnZtLmxvZ2dlZEluVXJpID0gdHJ1ZTtcbiAgICAgICAgICAgIG52bS5sb2dnZWRJbk5hbWUgPSBhdXRoZW50aWNhdGlvbi5jdXJyZW50VXNlcigpLm5hbWU7XG4gICAgICAgICAgICBudm0uY3VycmVudEFjY291bnRUeXBlID0gYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5hY2NvdW50VHlwZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG52bS5sb2dnZWRJblVyaSA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgbnZtLmxvZ291dCA9ICgpID0+IHtcbiAgICAgICAgICAgIGF1dGhlbnRpY2F0aW9uLkxvZ291dCgpO1xuICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9zaWduaW4nKTtcbiAgICAgICAgfTtcbiAgICB9XG59KSgpO1xuIiwiLypcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG58IHNldHRpbmcgdXAgZm9vdGVyIGRpcmVjdGl2ZSBmb3IgYXBwbGljYXRpb25cbnwgQGF1dGhvcjogamFoaWQgaGFxdWUgPGphaGlkLmhhcXVlQHlhaG9vLmNvbT5cbnwgQGNvcHlyaWdodDogbmJhc2xwLCAyMDE3XG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4oZnVuY3Rpb24gKCkge1xuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbmJhc2xwJylcbiAgICAgICAgLmRpcmVjdGl2ZSgnc2l0ZUZvb3RlcicsIHNpdGVGb290ZXIpO1xuICAgIGZ1bmN0aW9uIHNpdGVGb290ZXIoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tbW9uL2RpcmVjdGl2ZXMvZm9vdGVyL2Zvb3Rlci50ZW1wbGF0ZS5odG1sJyxcbiAgICAgICAgfTtcbiAgICB9XG59KSgpO1xuIiwiLypcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG58IHNldHRpbmcgdXAgZmlsZSB1cGxvYWQgZGlyZWN0aXZlXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5jbGhhbGFsLCAyMDE3XG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuKi9cbihmdW5jdGlvbigpe1xuXHRhbmd1bGFyXG5cdFx0Lm1vZHVsZSgnbmJhc2xwJylcblx0XHQuZGlyZWN0aXZlKCdmaWxlTW9kZWwnLCBmaWxlTW9kZWwpO1xuXG5cdGZpbGVNb2RlbC4kaW5qZWN0ID0gWyckcGFyc2UnXTtcblxuXHRmdW5jdGlvbiBmaWxlTW9kZWwoJHBhcnNlKXtcblx0XHRyZXR1cm4ge1xuICAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCAkZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgICAgIHZhciBwYXJzZWRGaWxlID0gJHBhcnNlKGF0dHJzLmZpbGVNb2RlbCk7XG4gICAgICAgICAgICB2YXIgcGFyc2VkRmlsZVNldHRlciA9IHBhcnNlZEZpbGUuYXNzaWduO1xuICAgICAgICAgICAgJGVsZW1lbnQub24oJ2NoYW5nZScsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgIHBhcnNlZEZpbGVTZXR0ZXIoc2NvcGUsICRlbGVtZW50WzBdLmZpbGVzWzBdKTtcbiAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICB9LFxuICAgIH07XG5cdH1cbn0pKCk7XG4iLCIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCBzaWRlYmFyIGRpcmVjdGl2ZSBmb3IgdGhlIGFwcFxufCBAYXV0aG9yOiBqYWhpZCBoYXF1ZSA8amFoaWQuaGFxdWVAeWFob28uY29tPlxufCBAY29weXJpZ2h0OiBuYmEtc2xwLCAyMDE4XG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4oZnVuY3Rpb24gKCkge1xuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbmJhc2xwJylcbiAgICAgICAgLmRpcmVjdGl2ZSgnc2lkZUJhcicsIHNpZGVCYXIpO1xuXG4gICAgZnVuY3Rpb24gc2lkZUJhcigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21tb24vZGlyZWN0aXZlcy9zaWRlYmFyL3NpZGViYXIudGVtcGxhdGUuaHRtbCcsXG4gICAgICAgIH07XG4gICAgfVxufSkoKTsiLCIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCBjb250cm9sbGVyIGZvciB3ZWxjb21lIHBhZ2VcbnwgQGF1dGhvcjogamFoaWQgaGFxdWUgPGphaGlkLmhhcXVlQHlhaG9vLmNvbT5cbnwgQGNvcHlyaWdodDogbmJhc2xwLCAyMDE3XG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4oZnVuY3Rpb24gKCkge1xuICAgIFxuICAgIGFuZ3VsYXIgXG4gICAgICAgIC5tb2R1bGUoJ25iYXNscCcpXG4gICAgICAgIC5jb250cm9sbGVyKCd3ZWxjb21lQ3RybCcsIHdlbGNvbWVDdHJsKTtcblxuICAgIHdlbGNvbWVDdHJsLiRpbmplY3QgPSBbJ2F1dGhlbnRpY2F0aW9uJywgJyRsb2NhdGlvbiddO1xuXG4gICAgZnVuY3Rpb24gd2VsY29tZUN0cmwoYXV0aGVudGljYXRpb24sICRsb2NhdGlvbikge1xuICAgICAgICBjb25zdCB3dm0gPSB0aGlzO1xuXG4gICAgICAgIFxuICAgIH1cblxufSkoKTtcbiIsIi8qXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBzZXR0aW5nIHVwIGNvbW1pdHRlZXMgZm9yIHRoZSBhcHBcbnwgQGF1dGhvcjogamFoaWQgaGFxdWUgPGphaGlkLmhhcXVlQHlhaG9vLmNvbT5cbnwgQGNvcHlyaWdodDogbmJhLXNscCwgMjAxOFxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbmJhc2xwJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ2NvbW1pdHRlZXNDdHJsJywgY29tbWl0dGVlc0N0cmwpO1xuXG4gICAgY29tbWl0dGVlc0N0cmwuJGluamVjdCA9IFsnc2l0ZWNvbnRyb2xsZXInXTtcblxuICAgIGZ1bmN0aW9uIGNvbW1pdHRlZXNDdHJsKHNpdGVjb250cm9sbGVyKSB7XG4gICAgICAgIGNvbnN0IGN2bSA9IHRoaXM7XG5cbiAgICAgICAgY3ZtLmxvYWRDb21taXR0ZWUgPSAoKSA9PiB7XG4gICAgICAgICAgICBzaXRlY29udHJvbGxlclxuICAgICAgICAgICAgICAgIC5zaG93QWxsQ29tbWl0dGVlKClcdFxuICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN2bS5jb21taXR0ZWVMb2FkaW5nRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3ZtLmNvbW1pdHRlZUxvYWRpbmdFcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdm0uY29tbWl0dGVlTG9hZGluZ0Vycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdm0uY29tbWl0dGVlcyA9IHJlc3BvbnNlLmRhdGEuY29tbWl0dGVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY3ZtLmNvbW1pdHRlZUxvYWRpbmdFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGN2bS5jb21taXR0ZWVMb2FkaW5nRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbn0pKCk7IiwiLypcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG58IHNldHRpbmcgdXAgY291bmNpbG1lbWJlcnMgY29udHJvbGxlciBmb3IgdGhlIGFwcFxufCBAYXV0aG9yOiBqYWhpZCBoYXF1ZSA8amFoaWQuaGFxdWVAeWFob28uY29tPlxufCBAY29weXJpZ2h0OiBuYmEtc2xwLCAyMDE4XG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4oZnVuY3Rpb24gKCkge1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCduYmFzbHAnKVxuICAgICAgICAuY29udHJvbGxlcignY291bmNpbEN0cmwnLCBjb3VuY2lsQ3RybCk7XG5cbiAgICBjb3VuY2lsQ3RybC4kaW5qZWN0ID0gWydzaXRlY29udHJvbGxlciddO1xuXG4gICAgZnVuY3Rpb24gY291bmNpbEN0cmwoc2l0ZWNvbnRyb2xsZXIpIHtcbiAgICAgICAgY29uc3QgY2x2bSA9IHRoaXM7XG5cbiAgICAgICAgY2x2bS5sb2FkQ291bmNpbE1lbWJlcnMgPSAoKSA9PiB7XG4gICAgICAgICAgICBzaXRlY29udHJvbGxlclxuICAgICAgICAgICAgICAgIC5zaG93Q291bmNpbE1lbWJlcigpXG4gICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbHZtLmNvbW1pdHRlZUxvYWRpbmdFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbHZtLmNvbW1pdHRlZUxvYWRpbmdFcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbHZtLmNvbW1pdHRlZUxvYWRpbmdFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2x2bS5jb3VuY2lscyA9IHJlc3BvbnNlLmRhdGEuZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNsdm0uY29tbWl0dGVlTG9hZGluZ0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgY2x2bS5jb21taXR0ZWVMb2FkaW5nRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfVxuXG59KSgpOyIsIi8qXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBzZXR0aW5nIHVwIGV2ZW50IGNvbnRyb2xsZXIgZm9yIHRoZSBhcHBcbnwgQGF1dGhvcjogamFoaWQgaGFxdWUgPGphaGlkLmhhcXVlQHlhaG9vLmNvbT5cbnwgQGNvcHlyaWdodDogbmJhLXNscCwgMjAxOFxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcbiAgICBcbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25iYXNscCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdldmVudHNDdHJsJywgZXZlbnRzQ3RybCk7XG5cbiAgICBldmVudHNDdHJsLiRpbmplY3QgPSBbJ3NpdGVjb250cm9sbGVyJ107XG5cbiAgICBmdW5jdGlvbiBldmVudHNDdHJsKHNpdGVjb250cm9sbGVyKSB7XG5cbiAgICAgICAgY29uc3QgZXZtID0gdGhpcztcblxuICAgICAgICBldm0uc2hvd0V2ZW50cyA9ICgpID0+IHtcbiAgICAgICAgICAgIHNpdGVjb250cm9sbGVyXG4gICAgICAgICAgICAgICAgLnNob3dFdmVudCgpXG4gICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZtLmV2ZW50TG9hZEVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2bS5ldmVudExvYWRFcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBldm0uZXZlbnRMb2FkRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2bS5ldmVudHMgPSByZXNwb25zZS5kYXRhLmV2ZW50cztcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2bS5ldmVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2bS5ub0V2ZW50ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldm0ubm9FdmVudCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICBldm0uZXZlbnRMb2FkRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBldm0uZXZlbnRMb2FkRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfVxuXG59KSgpOyIsIi8qXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBzZXR0aW5nIHVwIGFib3V0IHVzIGNvbnRyb2xsZXIgZm9yIGFwcFxufCBAYXV0aG9yOiBqYWhpZCBoYXF1ZSA8amFoaWQuaGFxdWVAeWFob28uY29tPlxufCBAY29weXJpZ2h0OiBuYmEtc2xwLCAyMDE4XG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4oZnVuY3Rpb24gKCkge1xuICAgIFxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbmJhc2xwJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ2Fib3V0dXNDdHJsJywgYWJvdXR1c0N0cmwpO1xuXG4gICAgZnVuY3Rpb24gYWJvdXR1c0N0cmwoKSB7XG4gICAgICAgIGNvbnN0IGFidm0gPSB0aGlzO1xuICAgIH1cbiBcbn0pKCk7IiwiLypcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG58IHNldHRpbmcgdXAgY29udGFjdCBjb250cm9sbGVyIGZvciB0aGUgYXBwXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5iYS1zbHAsIDIwMThcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbihmdW5jdGlvbiAoKSB7XG4gICAgXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCduYmFzbHAnKVxuICAgICAgICAuY29udHJvbGxlcignY29udGFjdHVzQ3RybCcsIGNvbnRhY3R1c0N0cmwpO1xuXG4gICAgY29udGFjdHVzQ3RybC4kaW5qZWN0ID0gWydzeXN0ZW1TZXJ2aWNlJ107XG5cbiAgICBmdW5jdGlvbiBjb250YWN0dXNDdHJsKHN5c3RlbVNlcnZpY2UpIHtcbiAgICAgICAgY29uc3QgY3ZtID0gdGhpcztcblxuICAgICAgICBjdm0uY29udGFjdCA9IHtcbiAgICAgICAgICAgIG5hbWU6ICcnLFxuICAgICAgICAgICAgZW1haWw6ICcnLFxuICAgICAgICAgICAgbWVzc2FnZTogJycsXG4gICAgICAgIH07XG5cbiAgICAgICAgY3ZtLmNvbnRhY3RVcyA9ICgpID0+IHtcbiAgICAgICAgICAgIHN5c3RlbVNlcnZpY2VcbiAgICAgICAgICAgICAgICAuc2VuZENvbnRhY3RNZXNzYWdlKGN2bS5jb250YWN0KVxuICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN2bS5zZW5kTWVzc2FnZUVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN2bS5zZW5kTWVzc2FnZUVycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN2bS5zZW5kTWVzc2FnZVN1Y2Nlc3MgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3ZtLnNlbmRNZXNzYWdlU3VjY2Vzc01zZyA9ICdXZSBoYXZlIHJlY2VpdmVkIHlvdXIgbWVzc2FnZS4gV2Ugd2lsbCBiZSBpbiB0b3VjaCB3aXRoIHlvdSBzb29uJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGN2bS5zZW5kTWVzc2FnZUVycm9yID0gdHJ1ZTtcdFxuICAgICAgICAgICAgICAgICAgICBjdm0uc2VuZE1lc3NhZ2VFcnJvck1zZyA9IGVycjtcdFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgIH1cblxufSkoKTsiLCIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCBzaWdudXAgY29udHJvbGxlciBmb3IgdGhlIGFwcFxufCBAYXV0aG9yOiBqYWhpZCBoYXF1ZSA8amFoaWQuaGFxdWVAeWFob28uY29tPlxufCBAY29weXJpZ2h0OiBuYmFzbHAsIDIwMTdcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbihmdW5jdGlvbiAoKSB7XG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCduYmFzbHAnKVxuICAgICAgICAuY29udHJvbGxlcignc2lnbnVwQ3RybCcsIHNpZ251cEN0cmwpO1xuXG4gICAgc2lnbnVwQ3RybC4kaW5qZWN0ID0gWydhdXRoZW50aWNhdGlvbicsICckbG9jYXRpb24nXTtcblxuICAgIGZ1bmN0aW9uIHNpZ251cEN0cmwoYXV0aGVudGljYXRpb24sICRsb2NhdGlvbikge1xuICAgICAgICBjb25zdCByZWd2bSA9IHRoaXM7XG5cbiAgICAgICAgLy8gdXNlciBvYmplY3QuXG4gICAgICAgIHJlZ3ZtLnVzZXIgPSB7XG4gICAgICAgICAgICBmaXJzdE5hbWU6ICcnLFxuICAgICAgICAgICAgbGFzdE5hbWU6ICcnLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICcnLFxuICAgICAgICAgICAgZW1haWw6ICcnLFxuICAgICAgICAgICAgcGFzc3dvcmQ6ICcnLFxuICAgICAgICAgICAgY29uZmlybVBhc3N3b3JkOiAnJyxcbiAgICAgICAgfTtcblxuICAgICAgICByZWd2bS5yZWdpc3RlciA9ICgpID0+IHtcbiAgICAgICAgICAgIGF1dGhlbnRpY2F0aW9uXG4gICAgICAgICAgICAgICAgLnNpZ25VcChyZWd2bS51c2VyKVxuICAgICAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVndm0uUmVnaXN0cmF0aW9uRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVndm0uUmVnaXN0cmF0aW9uRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVndm0uUmVnaXN0cmF0aW9uRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvd2VsY29tZScpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWd2bS5SZWdpc3RyYXRpb25FcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWd2bS5SZWdpc3RyYXRpb25FcnJvck1zZyA9IGVyci5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGF1dGhlbnRpY2F0aW9uLmlzTG9nZ2VkSW4oKSkge1xuICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy93ZWxjb21lJyk7XG4gICAgICAgIH1cbiAgICB9XG59KSgpO1xuIiwiLypcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG58IHNldHRpbmcgdXAgY29udHJvbGxlciBmb3IgbG9naW4gcGFnZVxufCBAYXV0aG9yOiBqYWhpZCBoYXF1ZSA8amFoaWQuaGFxdWVAeWFob28uY29tPlxufCBAY29weXJpZ2h0OiBuYmFzbHAsIDIwMTdcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbihmdW5jdGlvbiAoKSB7XG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCduYmFzbHAnKVxuICAgICAgICAuY29udHJvbGxlcignc2lnbmluQ3RybCcsIHNpZ25pbkN0cmwpO1xuXG4gICAgc2lnbmluQ3RybC4kaW5qZWN0ID0gWydhdXRoZW50aWNhdGlvbicsICckbG9jYXRpb24nXTtcblxuICAgIGZ1bmN0aW9uIHNpZ25pbkN0cmwoYXV0aGVudGljYXRpb24sICRsb2NhdGlvbikge1xuICAgICAgICBjb25zdCBsdm0gPSB0aGlzO1xuXG4gICAgICAgIGx2bS51c2VyID0ge1xuICAgICAgICAgICAgZW1haWw6ICcnLFxuICAgICAgICAgICAgcGFzc3dvcmQ6ICcnLFxuICAgICAgICB9OyBcblxuICAgICAgICBpZiAoYXV0aGVudGljYXRpb24uaXNMb2dnZWRJbigpKSB7XG4gICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL3dlbGNvbWUnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGx2bS5sb2dpbiA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWx2bS51c2VyLmVtYWlsIHx8ICFsdm0udXNlci5wYXNzd29yZCkge1xuICAgICAgICAgICAgICAgICAgICBsdm0ubG9naW5FcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGx2bS5sb2dpbkVycm9yTXNnID0gYEVycm9yISBhbGwgKiBmaWVsZHMgYXJlIHJlcXVpcmVkYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGx2bS5sb2dpbkVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGx2bS5kb0xvZ2luKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgbHZtLmRvTG9naW4gPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgYXV0aGVudGljYXRpb25cbiAgICAgICAgICAgICAgICAgICAgLnNpZ25Jbihsdm0udXNlcilcbiAgICAgICAgICAgICAgICAgICAgLmVycm9yKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGx2bS5sb2dpbkVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGx2bS5sb2dpbkVycm9yTXNnID0gZXJyLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL3dlbGNvbWUnKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG59KSgpO1xuIiwiLypcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG58IHNldHRpbmcgdXAgY29udHJvbGxlciBmb3IgcHJvZmlsZSBwYWdlXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5iYS1zbHAsIDIwMTdcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbihmdW5jdGlvbiAoKSB7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25iYXNscCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdwcm9maWxlQ3RybCcsIHByb2ZpbGVDdHJsKTtcblxuICAgIHByb2ZpbGVDdHJsLiRpbmplY3QgPSBbJyRzY29wZScsICdhdXRoZW50aWNhdGlvbicsICckbG9jYXRpb24nLCAnYWNjb3VudCcsICckcm91dGUnXTtcblxuICAgIGZ1bmN0aW9uIHByb2ZpbGVDdHJsKCRzY29wZSwgYXV0aGVudGljYXRpb24sICRsb2NhdGlvbiwgYWNjb3VudCwgJHJvdXRlKSB7XG5cbiAgICAgICAgY29uc3QgcHJvdm0gPSB0aGlzO1xuXG4gICAgICAgIHByb3ZtLnJlc2V0cGFzc3dvcmQgPSB7XG4gICAgICAgICAgICBwYXNzd29yZDogJycsXG4gICAgICAgICAgICByZXBlYXRfcGFzc3dvcmQ6ICcnLFxuICAgICAgICAgICAgbmV3X3Bhc3N3b3JkOiAnJyxcbiAgICAgICAgfTtcblxuICAgICAgICBwcm92bS5yZXNldFBhc3N3b3JkID0gKCkgPT4ge1xuICAgICAgICAgICAgYWNjb3VudFxuICAgICAgICAgICAgICAgIC5yZXNldFBhc3N3b3JkKGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkuZW1haWwsIHByb3ZtLnJlc2V0cGFzc3dvcmQpXG4gICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0ucmVzZXRQYXNzd29yZEVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnJlc2V0UGFzc3dvcmRFcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5yZXNldFBhc3N3b3JkRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnJlc2V0U3VjY2VzcyA9IHRydWU7IFxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRpb24uTG9nb3V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvdXRlLnJlbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMjAwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHByb3ZtLnJlc2V0UGFzc3dvcmRFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHByb3ZtLnJlc2V0UGFzc3dvcmRFcnJvck1zZyA9IGVycjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICBmdW5jdGlvbiBzdGF0dXNVcGRhdGVyKHVwZGF0ZU9iamVjdCkge1xuXG4gICAgICAgICAgICAvLyBjYWxsaW5nIHNlcnZpY2UgZnVuY3Rpb24uXG4gICAgICAgICAgICBhY2NvdW50XG4gICAgICAgICAgICAgICAgLnVwZGF0ZVVzZXJTdGF0dXModXBkYXRlT2JqZWN0KVxuICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEudXBkYXRlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uc3RhdHVzVXBkYXRlRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRyb3V0ZS5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJhc2ljQWNjb3VudEluZm9FcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5iYXNpY0FjY291bnRJbmZvRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcHJvdm0uc3RhdHVzVXBkYXRlRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBwcm92bS5iYXNpY0FjY291bnRJbmZvRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYXV0aGVudGljYXRpb24uaXNMb2dnZWRJbigpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIHByb3ZtLmN1cnJlbnRBY2NvdW50VHlwZSA9IGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkuYWNjb3VudFR5cGU7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIGNoZWNraW5nIGFjY291bnQgdHlwZVxuICAgICAgICAgICAgaWYgKGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkuYWNjb3VudFR5cGUgPT09ICdjdXN0b21lcicpIHtcblxuICAgICAgICAgICAgICAgIHByb3ZtLnByb2ZpbGVTdGF0dXMgPSBhdXRoZW50aWNhdGlvbi5jdXJyZW50VXNlcigpLmFjY291bnRTdGF0dXM7XG5cbiAgICAgICAgICAgICAgICBwcm92bS5jb2RlUmVhZHkgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIHByb3ZtLmJhc2ljUHJvZmlsZUVkaXRPbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHByb3ZtLnNlbmRBY3RpdmF0aW9uQ29kZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcHJvdm0uY29kZVJlYWR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgLmNyZWF0ZUFjdGl2YXRpb25Db2RlKGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkuZW1haWwpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYWN0aXZhdGlvbkNvZGVFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmFjdGl2YXRpb25Db2RlRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZFN0YXR1cyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZV9hdDogJ3Byb2ZpbGVBY3RpdmF0aW9uTWFpbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5lbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzVXBkYXRlcih1cGRhdGVkU3RhdHVzKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5jb2RlUmVhZHkgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5hY3RpdmF0aW9uQ29kZUVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmFjdGl2YXRpb25Db2RlRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmFjdGl2YXRpb25Db2RlRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLy8gZ2V0IHVzZXIgYWNjb3VudCBzdGF0dWVzIFxuICAgICAgICAgICAgICAgIHByb3ZtLmdldFByb2ZpbGVTdGF0dXNlcyA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgLmdldEFjY291bnRTdGF0dXNlcyhhdXRoZW50aWNhdGlvbi5jdXJyZW50VXNlcigpLmVtYWlsKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnN0YXR1c0xvYWRFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnN0YXR1c0xvYWRFcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5zdGF0dXNMb2FkRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0udXNlclN0YXR1c2VzID0gcmVzcG9uc2UuZGF0YS5zdGF0dXNlcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uc3RhdHVzTG9hZEVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5zdGF0dXNMb2FkRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLy8gc2F2aW5nIGJhc2ljIHByb2ZpbGUgaW5mb1xuICAgICAgICAgICAgICAgIHByb3ZtLmJhc2ljUHJvZmlsZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgd2hvczogYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5lbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgdXNlcklkOiBhdXRoZW50aWNhdGlvbi5jdXJyZW50VXNlcigpLnVzZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgZm9ybWVyTmFtZTogJycsXG4gICAgICAgICAgICAgICAgICAgIHNleDogJycsXG4gICAgICAgICAgICAgICAgICAgIHRlbGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICBhZGRyZXNzOiAnJyxcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgcHJvdm0uc2F2ZUJhc2ljSW5mbyA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgLnNhdmVCYXNpY0luZm8ocHJvdm0uYmFzaWNQcm9maWxlKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYmFzaWNBY2NvdW50SW5mb0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYmFzaWNBY2NvdW50SW5mb0Vycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkU3RhdHVzID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlX2F0OiAnYmFzaWNfaW5mbycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5lbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjYWxsaW5nIHNlcnZpY2UgZnVuY3Rpb24uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC51cGRhdGVVc2VyU3RhdHVzKHVwZGF0ZWRTdGF0dXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEudXBkYXRlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5zdGF0dXNVcGRhdGVFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm91dGUucmVsb2FkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5iYXNpY0FjY291bnRJbmZvRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5iYXNpY0FjY291bnRJbmZvRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5zdGF0dXNVcGRhdGVFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYmFzaWNBY2NvdW50SW5mb0Vycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBwcm92bS5icmFuY2ggPSB7XG4gICAgICAgICAgICAgICAgICAgIHllYXI6ICcnLFxuICAgICAgICAgICAgICAgICAgICBicmFuY2g6ICcnLFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvLyBhZGRpbmcgYnJhbmNoIGluZm9cbiAgICAgICAgICAgICAgICBwcm92bS5zYXZlQmF0Y2hJbmZvID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBhY2NvdW50XG4gICAgICAgICAgICAgICAgICAgICAgICAuc2F2ZUJyYW5jaEluZm8oYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5lbWFpbCwgcHJvdm0uYnJhbmNoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJyYW5jaEluZm9FcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJyYW5jaEluZm9FcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5icmFuY2hJbmZvRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRTdGF0dXMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVfYXQ6ICdicmFuY2gnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkuZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2FsbGluZyBzZXJ2aWNlIGZ1bmN0aW9uLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudXBkYXRlVXNlclN0YXR1cyh1cGRhdGVkU3RhdHVzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnVwZGF0ZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYnJhbmNoSW5mb0Vycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb3V0ZS5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJyYW5jaEluZm9FcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJyYW5jaEluZm9FcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJyYW5jaEluZm9FcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYnJhbmNoSW5mb0Vycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJyYW5jaEluZm9FcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYnJhbmNoSW5mb0Vycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8vIHNob3cgYmFzaWMgaW5mb1xuICAgICAgICAgICAgICAgIHByb3ZtLmxvYWRCYXNpY0luZm8gPSAoY29sbGVjdGlvbk5hbWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgLmxvYWRVc2VySW5mbyhjb2xsZWN0aW9uTmFtZSwgYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5lbWFpbClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS51c2VyQmFzaWNJbmZvTG9hZGluZ0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0udXNlckJhc2ljSW5mb0xvYWRpbmdFcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS51c2VyQmFzaWNJbmZvTG9hZGluZ0Vycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJhc2ljSW5mbyA9IHJlc3BvbnNlLmRhdGEudXNlckluZm87XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnVzZXJCYXNpY0luZm9Mb2FkaW5nRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnVzZXJCYXNpY0luZm9Mb2FkaW5nRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLy8gZWRpdCBiYXNpYyBpbmZvXG4gICAgICAgICAgICAgICAgcHJvdm0uZWRpdEJhc2ljSW5mbyA9ICh1c2VySWQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcHJvdm0uYmFzaWNQcm9maWxlRWRpdE9uID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICBwcm92bS5lZGl0QmFzaWMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBwcm92bS5iYXNpY0luZm8uZm9ybWVyTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNleDogcHJvdm0uYmFzaWNJbmZvLnNleCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZHJlc3M6IHByb3ZtLmJhc2ljSW5mby5hZGRyZXNzLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGVsZTogcHJvdm0uYmFzaWNJbmZvLnRlbGVwaG9uZSxcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICBwcm92bS5TYXZlRWRpdEJhc2ljSW5mbyA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHByb3ZtLmVkaXRCYXNpYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmVkaXRCYXNpY0luZm8odXNlcklkLCBwcm92bS5lZGl0QmFzaWMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uZWRpdEJhc2ljSW5mb0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmVkaXRCYXNpY0luZm9FcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5lZGl0QmFzaWNJbmZvRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb3V0ZS5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmVkaXRCYXNpY0luZm9FcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmVkaXRCYXNpY0luZm9FcnJvck1zZyA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgcHJvdm0uY2FuY2xlQmFzaWNFZGl0ID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBwcm92bS5iYXNpY1Byb2ZpbGVFZGl0T24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgcHJvdm0uZ2V0Q29tbWl0dGVlID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBhY2NvdW50XG4gICAgICAgICAgICAgICAgICAgICAgICAuZ2V0Q29tbWl0dGVlKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5jb21taXR0ZWVzID0gcmVzcG9uc2UuZGF0YS5jb21taXR0ZWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvLyBzaG93IGJyYW5jaCBpbmZvXG4gICAgICAgICAgICAgICAgcHJvdm0ubG9hZFVzZXJCcmFuY2ggPSAoY29sbGVjdGlvbk5hbWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgLmxvYWRVc2VySW5mbyhjb2xsZWN0aW9uTmFtZSwgYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5lbWFpbClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS51c2VySW5mb0xvYWRpbmdFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnVzZXJJbmZvTG9hZGluZ0Vycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnVzZXJJbmZvTG9hZGluZ0Vycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJyYW5jaEluZm8gPSByZXNwb25zZS5kYXRhLnVzZXJJbmZvO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS51c2VySW5mb0xvYWRpbmdFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0udXNlckluZm9Mb2FkaW5nRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICAgIHwgZm9sbG93aW5nIGZ1bmN0aW9uIHdpbGwgYWN0aXZlIHRoZSBwcm9maWxlIFxuICAgICAgICAgICAgICAgIHwgYmFzZWQgb24gZ2l2ZW4gY29kZVxuICAgICAgICAgICAgICAgIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBwcm92bS5hY3RpdmF0aW9uID0ge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiAnJyxcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgcHJvdm0uYWN0aXZlUHJvZmlsZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgLnZhbGlkYXRlQWN0aXZhdGlvbkNvZGUoYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5lbWFpbCwgcHJvdm0uYWN0aXZhdGlvbi5jb2RlKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLkFjdGl2YXRpb25FcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLkFjdGl2YXRpb25FcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5hY3RpdmF0aW9uU3VjY2VzcyA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2FsbGluZyB0aGUgbG9nb3V0IGZ1bmN0aW9uLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0aW9uLkxvZ291dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvdXRlLnJlbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAzMDAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uQWN0aXZhdGlvbkVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5BY3RpdmF0aW9uRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICAgIHwgRm9sbG93aW5nIGZ1bmN0aW9uIHdpbGwgaGFuZGxlIGJhbmsgdGVsbGVyIFxuICAgICAgICAgICAgICAgIHwgdXBsb2FkXG4gICAgICAgICAgICAgICAgfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHByb3ZtLmJhbmtUZWxsZXJJbmZvID0ge1xuICAgICAgICAgICAgICAgICAgICBwcmVmZXJyZWRDb21taXR0ZWU6ICcnLFxuICAgICAgICAgICAgICAgICAgICBhZGRpdGlvbmFsX2NvbW1pdHRlZTogJycsXG4gICAgICAgICAgICAgICAgICAgIHdob3M6IGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkuZW1haWwsXG4gICAgICAgICAgICAgICAgICAgIHVzZXJJZDogYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5hY2NvdW50SWQsXG4gICAgICAgICAgICAgICAgICAgIHRlbGxlckRvYzogJHNjb3BlLnRlbGxlckRvYyxcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgcHJvdm0uc2F2ZUJhbmtUZWxsZXJJbmZvID0gKCkgPT4geyAgIFxuXG4gICAgICAgICAgICAgICAgICAgIGlmICghcHJvdm0uYmFua1RlbGxlckluZm8ucHJlZmVycmVkQ29tbWl0dGVlIHx8ICFwcm92bS5iYW5rVGVsbGVySW5mby5hZGRpdGlvbmFsX2NvbW1pdHRlZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uc2F2ZVRlbGxlckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnNhdmVUZWxsZXJFcnJvck1zZyA9ICdBbGwgKiBmaWVuZHMgYXJlIHJlcXVpcmVkLiBNdXN0IG5vdCBiZSBlbXB0eSc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHByb3ZtLmJhbmtUZWxsZXJJbmZvKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC51cGxvYWRUZWxsZXJEb2NzKCRzY29wZS50ZWxsZXJEb2MsIGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkuYWNjb3VudElkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnNhdmVUZWxsZXJFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5zYXZlVGVsbGVyRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEuc3VjY2VzcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYmFua1RlbGxlckluZm8udGVsbGVyRG9jID0gcmVzcG9uc2UuZGF0YS5kb2NMb2NhdGlvbjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zYXZlQmFua1RlbGxlcihwcm92bS5iYW5rVGVsbGVySW5mbylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5zYXZlVGVsbGVyRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uc2F2ZVRlbGxlckVycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRTdGF0dXMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlX2F0OiAnYmFua3RlbGxlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkuZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1c1VwZGF0ZXIodXBkYXRlZFN0YXR1cyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb3V0ZS5yZWxvYWQoKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnNhdmVUZWxsZXJFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnNhdmVUZWxsZXJFcnJvck1zZyA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnNhdmVUZWxsZXJFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnNhdmVUZWxsZXJFcnJvck1zZyA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAgICAgfCBGb2xsb3dpbmcgZnVuY3Rpb24gd2lsbCBnZXQgbGF0ZXN0IGJhbmsgdGVsbGVyXG4gICAgICAgICAgICAgICAgfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHByb3ZtLmdldEN1cnJlbnRCYW5rVGVsbGVyID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBhY2NvdW50XG4gICAgICAgICAgICAgICAgICAgICAgICAuZ2V0QmFua1RlbGxlcihhdXRoZW50aWNhdGlvbi5jdXJyZW50VXNlcigpLmVtYWlsKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJhbmtUZWxsZXJMb2FkaW5nRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5iYW5rVGVsbGVyTG9hZGluZ0Vycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJhbmtUZWxsZXJMb2FkaW5nRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0udXNlckJhbmtUZWxsZXIgPSByZXNwb25zZS5kYXRhLmJhbmtUZWxsZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJhbmtUZWxsZXJMb2FkaW5nRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJhbmtUZWxsZXJMb2FkaW5nRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChhdXRoZW50aWNhdGlvbi5jdXJyZW50VXNlcigpLmFjY291bnRUeXBlID09PSAnYWRtaW4nKSB7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvc2lnbmluJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbn0pKCk7XG4iLCIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCBoZWxwIGNvbnRyb2xsZXIgZm9yIHRoZSBhcHBcbnwgQGF1dGhvcjogamFoaWQgaGFxdWUgPGphaGlkLmhhcXVlQHlhaG9vLmNvbT5cbnwgQGNvcHlyaWdodDogbmJhLXNscCwgMjAxOFxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbihmdW5jdGlvbiAoKSB7XG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCduYmFzbHAnKVxuICAgICAgICAuY29udHJvbGxlcignaGVscEN0cmwnLCBoZWxwQ3RybCk7XG5cbiAgICBoZWxwQ3RybC4kaW5qZWN0ID0gWydhdXRoZW50aWNhdGlvbicsICckcm91dGUnXTtcblxuICAgIGZ1bmN0aW9uIGhlbHBDdHJsKGF1dGhlbnRpY2F0aW9uLCAkcm91dGUpIHtcbiAgICAgICAgY29uc3QgaHZtID0gdGhpcztcblxuICAgICAgICBodm0uY2hlY2tVc2VyRm9ybSA9IHRydWU7XG4gICAgICAgIGh2bS5QYXNzd29yZHJlc2V0Rm9ybSA9IGZhbHNlO1xuICAgICAgICBodm0udmVyaWZ5QWpheExvYWRlciA9IGZhbHNlO1xuXG4gICAgICAgIC8vIGNoZWNraW5nIHRoZSByb3V0ZSB1cmxcbiAgICAgICAgaHZtLmNoZWNraW5nUm91dGUgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoJHJvdXRlLmN1cnJlbnQucGFyYW1zICYmICRyb3V0ZS5jdXJyZW50LnBhcmFtcy52ID09PSAnZm9yZ290X3Bhc3N3b3JkJykge1xuICAgICAgICAgICAgICAgIGh2bS5QYXNzd29yZHJlc2V0Rm9ybSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGh2bS51c2VyID0ge1xuICAgICAgICAgICAgICAgICAgICBlbWFpbDogJycsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAvLyBjaGVja2luZyB1c2VyLlxuICAgICAgICAgICAgICAgIGh2bS5jaGVja1VzZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2hlY2tVc2VyKGh2bS51c2VyKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh2bS51c2VyQ2hlY2tpbmdFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh2bS51c2VyQ2hlY2tpbmdFcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEuc2VjdXJpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHZtLnVzZXJDaGVja2luZ0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHZtLnVzZXJDaGVja2luZ0Vycm9yTXNnID0gYElmIHlvdSBoYXZlIGFjY291bnQgd2l0aCB1cywgd2UgaGF2ZSBzZW50IHlvdSBwYXNzd29yZCByZXNldCBsaW5rYDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh2bS51c2VyQ2hlY2tpbmdFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBodm0udXNlckNoZWNraW5nRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh2bS51c2VyQ2hlY2tpbmdFcnJvck1zZyA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICgkcm91dGUuY3VycmVudC5wYXJhbXMgJiYgJHJvdXRlLmN1cnJlbnQucGFyYW1zLnIpIHtcblxuICAgICAgICAgICAgICAgIGh2bS5QYXNzd29yZHJlc2V0Rm9ybSA9IHRydWU7XG4gICAgICAgICAgICAgICAgaHZtLmNoZWNrVXNlckZvcm0gPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIGh2bS52ZXJpZnlBamF4TG9hZGVyID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIGh2bS52YXJpZnlVc2VyRGV0YWlscygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGh2bS52YXJpZnlVc2VyRGV0YWlscyA9ICgpID0+IHtcbiAgICAgICAgICAgIGF1dGhlbnRpY2F0aW9uXG4gICAgICAgICAgICAgICAgLmNvdW50VXNlcigkcm91dGUuY3VycmVudC5wYXJhbXMudSlcbiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBodm0udXNlclZlcmlmaWNhdGlvblVzZXJFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBodm0udXNlclZlcmlmaWNhdGlvblVzZXJFcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBodm0udXNlclZlcmlmaWNhdGlvblVzZXJFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaHZtLnVzZXJWZXJpZmljYXRpb25Vc2VyRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBodm0udXNlclZlcmlmaWNhdGlvblVzZXJFcnJvck1zZyA9IGVycjtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICB9O1xuICAgIH1cblxufSkoKTtcbiIsIi8qXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBzZXR0aW5nIHVwIGNvbnRyb2xsZXIgZm9yIHNpdGUtY29udHJvbGwgcGFnZVxufCBAYXV0aG9yOiBqYWhpZCBoYXF1ZSA8amFoaWQuaGFxdWVAeWFob28uY29tPlxufCBAY29weXJpZ2h0OiBuYmEtc2xwLCAyMDE4XG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4oZnVuY3Rpb24gKCkge1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCduYmFzbHAnKVxuICAgICAgICAuY29udHJvbGxlcignc2l0ZWNvbnRyb2xsQ3RybCcsIHNpdGVjb250cm9sbEN0cmwpO1xuXG4gICAgc2l0ZWNvbnRyb2xsQ3RybC4kaW5qZWN0ID0gWydhdXRoZW50aWNhdGlvbicsICckbG9jYXRpb24nLCAnc2l0ZWNvbnRyb2xsZXInXTtcblxuICAgIGZ1bmN0aW9uIHNpdGVjb250cm9sbEN0cmwoYXV0aGVudGljYXRpb24sICRsb2NhdGlvbiwgc2l0ZWNvbnRyb2xsZXIpIHtcbiAgICAgICAgY29uc3QgYWRTaXRlID0gdGhpcztcblxuICAgICAgIFxuICAgICAgICBpZiAoYXV0aGVudGljYXRpb24uaXNMb2dnZWRJbigpKSB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChhdXRoZW50aWNhdGlvbi5jdXJyZW50VXNlcigpLmFjY291bnRUeXBlID09PSAnYWRtaW4nKSB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgYWRTaXRlLmNvbW1pdHRlZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJycsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAvLyBhZGQgY29tbWl0dGVlXG4gICAgICAgICAgICAgICAgYWRTaXRlLmFkZFByZWZlcnJlZENvbW1pdHRlZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2l0ZWNvbnRyb2xsZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRQcmVmZXJyZWRDb21taXR0ZWUoYWRTaXRlLmNvbW1pdHRlZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuYWRkQ29tbWl0dGVlRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuYWRkQ29tbWl0dGVlRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmFkZENvbW1pdHRlZUVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5hZGRDb21taXR0ZWVTdWNjZXNzTXNnID0gJ0NvbW1pdHRlZSBzdWNjZXNzZnVsbHkgYWRkZWQnO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNldCB0aW1lIG91dCBhbmQgY2FsbCBzaG93IGNvbW1pdHRlZSBtZXRob2QuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLnNob3dDb21taXR0ZWUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMjAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmFkZENvbW1pdHRlZUVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuYWRkQ29tbWl0dGVlRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLy8gc2hvdyBjb21taXR0ZWVcbiAgICAgICAgICAgICAgICBhZFNpdGUuc2hvd0NvbW1pdHRlZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2l0ZWNvbnRyb2xsZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zaG93QWxsQ29tbWl0dGVlKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuY29tbWl0dGVlRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuY29tbWl0dGVlRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmNvbW1pdHRlZUVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5jb21taXR0ZWVMaXN0ID0gcmVzcG9uc2UuZGF0YS5jb21taXR0ZWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5jb21taXR0ZWVFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmNvbW1pdHRlZUVycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBpbmRpdmlkdWFsIGNvbW1pdHRlZS5cbiAgICAgICAgICAgICAgICBhZFNpdGUucmVtb3ZlTGlzdCA9IChjb21taXR0ZWVJZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzaXRlY29udHJvbGxlclxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUNvbW1pdHRlZShjb21taXR0ZWVJZClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydChyZXNwb25zZS5kYXRhLmVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLnNob3dDb21taXR0ZWUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBhZFNpdGUuY291bmNpbCA9IHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJycsXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGFkU2l0ZS5hZGRDb3VuY2lsTWVtYmVyID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzaXRlY29udHJvbGxlclxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENvdW5jaWwoYWRTaXRlLmNvdW5jaWwpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmNvdW5jaWxBZGRFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5jb3VuY2lsQWRkRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5jb3VuY2lsQWRkRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuc2hvd0NvdW5jaWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmNvdW5jaWxBZGRFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmNvdW5jaWxBZGRFcnJvck1zZyA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBhZFNpdGUuc2hvd0NvdW5jaWwgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNpdGVjb250cm9sbGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2hvd0NvdW5jaWxNZW1iZXIoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5jb3VuY2lsU2hvd0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmNvdW5jaWxTaG93RXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmNvdW5jaWxTaG93RXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmNvdW5jaWxzID0gcmVzcG9uc2UuZGF0YS5kYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuY291bmNpbFNob3dFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmNvdW5jaWxTaG93RXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgYWRTaXRlLnJlbW92ZUNvdW5jaWwgPSAoY291bmNpbElkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNpdGVjb250cm9sbGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQ291bmNpbChjb3VuY2lsSWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5zaG93Q291bmNpbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAgICAgfCBmb2xsb3dpbmcgZnVuY3Rpb24gd2lsbCBhZGQgbmV3IGV2ZW50IGludG8gdGhlXG4gICAgICAgICAgICAgICAgfCBkYXRhYmFzZS5cbiAgICAgICAgICAgICAgICB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgYWRTaXRlLmV2ZW50ID0ge1xuICAgICAgICAgICAgICAgICAgICBldmVudFRpdGxlOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnREZXRhaWxzOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRTdGFydHM6ICcnLFxuICAgICAgICAgICAgICAgICAgICBldmVudEVuZHM6ICcnLFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBhZFNpdGUuYWRkRXZlbnQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBzaXRlY29udHJvbGxlclxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZEV2ZW50KGFkU2l0ZS5ldmVudClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuZXZlbnRBZGRFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5ldmVudEFkZEVycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5ldmVudEFkZEVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5ldmVudEFkZFN1Y2Nlc3MgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNldCB0aW1lIG91dCBhbmQgY2FsbCBzaG93IGNvbW1pdHRlZSBtZXRob2QuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLnNob3dFdmVudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAyMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuZXZlbnRBZGRFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmV2ZW50QWRkRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgYWRTaXRlLnNob3dFdmVudCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2l0ZWNvbnRyb2xsZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zaG93RXZlbnQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5zaG93RXZlbnRFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5zaG93RXZlbnRFcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuc2hvd0V2ZW50RXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmV2ZW50cyA9IHJlc3BvbnNlLmRhdGEuZXZlbnRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuc2hvd0V2ZW50RXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5zaG93RXZlbnRFcnJvck1zZyA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBhZFNpdGUucmVtb3ZlRXZlbnQgPSAoZXZlbnRJZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzaXRlY29udHJvbGxlclxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUV2ZW50KGV2ZW50SWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLnNob3dFdmVudEVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLnNob3dFdmVudEVycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLnNob3dFdmVudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy93ZWxjb21lJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL3NpZ25pbicpO1xuICAgICAgICB9XG4gICAgfVxuXG59KSgpOyIsIi8qXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBzZXR0aW5nIHVwIHNpdGUgb3B0IGZpbGUgZm9yIGpxdWVyeSBhbmQganNcbnwgZ2VuZXJhbCBvcGVyYXRpb25cbnwgQGF1dGhvcjogamFoaWQgaGFxdWUgPGphaGlkLmhhcXVlQHlhaG9vLmNvbT5cbnwgQGNvcHlyaWdodDogbmJhLXNscCwgMjAxOFxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbihmdW5jdGlvbiAoKSB7XG5cbiAgICAkKGRvY3VtZW50KS5yZWFkeSgoKSA9PiB7XG4gICAgICAgIFxuICAgICAgICAkKFwiI2NoZWNrVXNlclwiKS5mb2N1cygpO1xuICAgIH0pO1xufSkoKTtcbiJdfQ==
