"use strict";!function(){angular.module("nbaslp",["ngResource","ngRoute","720kb.datepicker"]).config(["$routeProvider","$locationProvider",function(l,e){l.when("/",{templateUrl:"home/welcome/welcome.view.html",controller:"welcomeCtrl",controllerAs:"wvm"}).when("/councilmembers",{templateUrl:"councilmembers/councilmembers.view.html",controller:"councilCtrl",controllerAs:"clvm"}).when("/signup",{templateUrl:"signup/signup.view.html",controller:"signupCtrl",controllerAs:"regvm"}).when("/signin",{templateUrl:"signin/signin.view.html",controller:"signinCtrl",controllerAs:"lvm"}).when("/profile",{templateUrl:"profile/profile.view.html",controller:"profileCtrl",controllerAs:"provm"}).when("/help",{templateUrl:"help/help.view.html",controller:"helpCtrl",controllerAs:"hvm"}).when("/sitecontroll",{templateUrl:"admin/sitecontroll/sitecontroll.view.html",controller:"sitecontrollCtrl",controllerAs:"adSite"}).when("/usercontroll",{templateUrl:"admin/usercontroll/usercontroll.view.html",controller:"usercontrollCtrl",controllerAs:"uservm"}).when("/staffcontroll",{templateUrl:"admin/staffcontroll/staffcontroll.view.html",controller:"staffCtrl",controllerAs:"svm"}).when("/welcome",{templateUrl:"welcome/welcome.view.html",controller:"welcomeCtrl",controllerAs:"wvm"}).when("/committees",{templateUrl:"committees/committees.view.html",controller:"committeesCtrl",controllerAs:"cvm"}).when("/events",{templateUrl:"events/events.view.html",controller:"eventsCtrl",controllerAs:"evm"}).when("/aboutus",{templateUrl:"aboutus/aboutus.view.html",controller:"aboutusCtrl",controllerAs:"abvm"}).when("/contactus",{templateUrl:"contactus/contactus.view.html",controller:"contactusCtrl",controllerAs:"cvm"}),e.html5Mode({enabled:!0})}])}();
"use strict";function authentication(n,t){var e=function(t){n.localStorage.nbaslp=t},c=function(){return n.localStorage.nbaslp},a=function(){var t=c(),e=void 0;return!!t&&(e=t.split(".")[1],e=n.atob(e),e=JSON.parse(e))},u=function(n){return n},o=function(n){return n};return{currentUser:function(){if(a){var t=c().split(".")[1];return t=n.atob(t),{userId:(t=JSON.parse(t))._id,email:t.email,accountStatus:t.accountStatus,accountType:t.accountType,accountId:t.userId,name:t.name}}return!1},saveToken:e,getToken:c,isLoggedIn:a,signUp:function(n){return t.post("/api/signup",n).success(function(n){e(n.token)})},signIn:function(n){return t.post("/api/signin",n).success(function(n){e(n.token)})},checkUser:function(n){return t.post("/api/checkuser",n).then(u).catch(o)},countUser:function(n){return t.get("/api/"+n+"/count").then(u).catch(o)},verifyKey:function(n,e){return t.get("/api/"+n+"/"+e+"/verify").then(u).catch(o)},changePassword:function(n){return t.post("/api/changepassword",n).then(u).catch(o)},Logout:function(){n.localStorage.removeItem("nbaslp")}}}angular.module("nbaslp").service("authentication",authentication),authentication.$inject=["$window","$http"];
"use strict";!function(){function t(t,e){var n=function(t){return t},a=function(t){return t};return{resetPassword:function(t,c){return e.post("/api/"+t+"/resetpassword",c).then(n).catch(a)},uploadTellerDocs:function(t,c){var r=new FormData;return r.append("tellerDoc",t),e.post("/api/docupload/"+c,r,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(n).catch(a)},createActivationCode:function(t){return e.post("/api/"+t+"/generatevalidationcode").then(n).catch(a)},validateActivationCode:function(t,c){return e.post("/api/"+t+"/"+c+"/validate").then(n).catch(a)},getAccountStatuses:function(t){return e.get("/api/"+t+"/statuses").then(n).catch(a)},updateUserStatus:function(t){return e.post("/api/userstatus",t).then(n).catch(a)},saveBasicInfo:function(t){return e.post("/api/createbasicprofile",t).then(n).catch(a)},editBasicInfo:function(t,c){return e.put("/api/"+t+"/editbasicinfo",c).then(n).catch(a)},saveBranchInfo:function(t,c){return e.post("/api/"+t+"/savebranchinfo",c).then(n).catch(a)},editBranchInfo:function(t,c){return e.put("/api/"+t+"/branch",c).then(n).catch(a)},loadUserInfo:function(t,c){return e.get("/api/"+c+"/"+t+"/userinfo").then(n).catch(a)},getCommittee:function(){return e.get("/api/showcommittee").then(n).catch(a)},saveBankTeller:function(t){return e.post("/api/savebankteller",t).then(n).catch(a)},getBankTeller:function(t){return e.get("/api/"+t+"/bankteller").then(n).catch(a)}}}angular.module("nbaslp").service("account",t),t.$inject=["$window","$http"]}();
"use strict";!function(){function t(t){var e=function(t){return t},n=function(t){return t};return{addPreferredCommittee:function(c){return t.post("/api/createcommittee",c).then(e).catch(n)},showAllCommittee:function(){return t.get("/api/showcommittee").then(e).catch(n)},removeCommittee:function(c){return t.delete("/api/"+c+"/removecommittee").then(e).catch(n)},addCouncil:function(c){return t.post("/api/councilmember",c).then(e).catch(n)},showCouncilMember:function(){return t.get("/api/showcouncil").then(e).catch(n)},removeCouncil:function(c){return t.delete("/api/"+c+"/council").then(e).catch(n)},addEvent:function(c){return t.post("/api/event",c).then(e).catch(n)},showEvent:function(){return t.get("/api/showEvent").then(e).catch(n)},removeEvent:function(c){return t.delete("/api/"+c+"/event").then(e).catch(n)}}}angular.module("nbaslp").service("sitecontroller",t),t.$inject=["$http"]}();
"use strict";!function(){function e(e){var n=function(e){return e},t=function(e){return e};return{showMembers:function(){return e.get("/api/members").then(n).catch(t)},showSingleMember:function(r){return e.get("/api/"+r+"/member").then(n).catch(t)},showMemberProfile:function(r){return e.get("/api/"+r+"/profile").then(n).catch(t)},showMemberBranch:function(r){return e.get("/api/"+r+"/branch").then(n).catch(t)}}}angular.module("nbaslp").service("usercontroller",e),e.$inject=["$http"]}();
"use strict";!function(){function r(r,e,o){var n=this;r.showMembers().then(function(r){r.data.error?(n.showMemberError=!0,n.showMemberErrorMsg=r.data.error):n.members=r.data.members}).catch(function(r){n.showMemberError=!0,n.showMemberErrorMsg=r}),n.checkRoutes=function(){o.v?n.clickedMemberName=!0:n.clickedMemberName=!1},n.loadUserInfo=function(){var e=o.v;r.showSingleMember(e).then(function(r){r.data.error?(n.singleMemberLoadingError=!0,n.singleMemberLoadingErrorMsg=r.data.error):(n.singleMemberLoadingError=!1,n.singleMember=r.data.member)}).catch(function(r){n.singleMemberLoadingError=!0,n.singleMemberLoadingErrorMsg=r})},n.loadUserProfile=function(){var e=o.v;r.showMemberProfile(e).then(function(r){r.data.error?(n.profileLoadingError=!0,n.profileLoadingErrorMsg=r.data.error):(n.profileLoadingError=!1,n.memberProfile=r.data.profile)}).catch(function(r){n.profileLoadingError=!0,n.profileLoadingErrorMsg=r})},n.loadUserBranch=function(){var e=o.v;r.showMemberBranch(e).then(function(r){r.data.error?(n.branchLoadingError=!0,n.branchLoadingErrorMsg=r.data.error):(n.branchLoadingError=!1,n.memberBranch=r.data.branch)}).catch(function(r){n.branchLoadingError=!0,n.branchLoadingErrorMsg=r})},n.loadBankTeller=function(){var r=o.v;e.getBankTeller(r).then(function(r){r.data.error?(n.bankTellerLoadingError=!0,n.bankTellerLoadingErrorMsg=r.data.error):(n.bankTellerLoadingError=!1,n.memberbankTeller=r.data.bankTeller)}).catch(function(r){n.bankTellerLoadingError=!0,n.bankTellerLoadingErrorMsg=r})}}angular.module("nbaslp").controller("usercontrollCtrl",r),r.$inject=["usercontroller","account","$routeParams"]}();
"use strict";!function(){function n(n,t){n.isLoggedIn()?"admin"===n.currentUser().accountType||t.path("/welcome"):t.path("/signin")}angular.module("nbaslp").controller("staffCtrl",n),n.$inject=["authentication","$location"]}();
"use strict";!function(){function n(n){var t=function(n){return n},e=function(n){return n};return{sendContactMessage:function(r){return n.post("/api/sendmessage",r).then(t).catch(e)}}}angular.module("nbaslp").service("systemService",n),n.$inject=["$http"]}();
"use strict";!function(){angular.module("nbaslp").directive("siteNav",function(){return{restrict:"EA",templateUrl:"common/directives/nav/site-nav.template.html",controller:"navCtrl as nvm"}})}();
"use strict";!function(){function n(n,t){var o=this;n.isLoggedIn()?(o.loggedInUri=!0,o.loggedInName=n.currentUser().name,o.currentAccountType=n.currentUser().accountType):o.loggedInUri=!1,o.logout=function(){n.Logout(),t.path("/signin")}}angular.module("nbaslp").controller("navCtrl",n),n.$inject=["authentication","$location"]}();
"use strict";!function(){angular.module("nbaslp").directive("siteFooter",function(){return{restrict:"EA",templateUrl:"common/directives/footer/footer.template.html"}})}();
"use strict";!function(){function n(n){return{restrict:"A",link:function(i,e,t){var c=n(t.fileModel).assign;e.on("change",function(){i.$apply(function(){c(i,e[0].files[0])})})}}}angular.module("nbaslp").directive("fileModel",n),n.$inject=["$parse"]}();
"use strict";!function(){angular.module("nbaslp").directive("sideBar",function(){return{restrict:"EA",templateUrl:"common/directives/sidebar/sidebar.template.html"}})}();
"use strict";!function(){angular.module("nbaslp").controller("welcomeCtrl",function(){})}();
"use strict";!function(){function t(t){var o=this;o.loadCommittee=function(){t.showAllCommittee().then(function(t){t.data.error?(o.committeeLoadingError=!0,o.committeeLoadingErrorMsg=t.data.error):(o.committeeLoadingError=!1,o.committees=t.data.committee)}).catch(function(t){o.committeeLoadingError=!0,o.committeeLoadingErrorMsg=t})}}angular.module("nbaslp").controller("committeesCtrl",t),t.$inject=["sitecontroller"]}();
"use strict";!function(){function o(o){var r=this;r.loadCouncilMembers=function(){o.showCouncilMember().then(function(o){console.log(o),o.data.error?(r.committeeLoadingError=!0,r.committeeLoadingErrorMsg=o.data.error):(r.committeeLoadingError=!1,r.councils=o.data.data)}).catch(function(o){r.committeeLoadingError=!0,r.committeeLoadingErrorMsg=o})}}angular.module("nbaslp").controller("councilCtrl",o),o.$inject=["sitecontroller"]}();
"use strict";!function(){function e(e){var n=this;n.showEvents=function(){e.showEvent().then(function(e){e.data.error?(n.eventLoadError=!0,n.eventLoadErrorMsg=e.data.error):(n.eventLoadError=!1,n.events=e.data.events,n.events.length>0?n.noEvent=!1:n.noEvent=!0)}).catch(function(e){n.eventLoadError=!0,n.eventLoadErrorMsg=e})}}angular.module("nbaslp").controller("eventsCtrl",e),e.$inject=["sitecontroller"]}();
"use strict";!function(){angular.module("nbaslp").controller("aboutusCtrl",function(){})}();
"use strict";!function(){function e(e){var s=this;s.contact={name:"",email:"",message:""},s.contactUs=function(){e.sendContactMessage(s.contact).then(function(e){e.data.error?(s.sendMessageError=!0,s.sendMessageErrorMsg=e.data.error):(s.sendMessageSuccess=!0,s.sendMessageSuccessMsg="We have received your message. We will be in touch with you soon")}).catch(function(e){s.sendMessageError=!0,s.sendMessageErrorMsg=e})}}angular.module("nbaslp").controller("contactusCtrl",e),e.$inject=["systemService"]}();
"use strict";!function(){function r(r,t){var o=this;o.user={firstName:"",lastName:"",displayName:"",email:"",password:"",confirmPassword:""},o.register=function(){r.signUp(o.user).then(function(r){r.data.error?(o.RegistrationError=!0,o.RegistrationErrorMsg=r.data.error):(o.RegistrationError=!1,t.path("/welcome"))}).catch(function(r){r&&(o.RegistrationError=!0,o.RegistrationErrorMsg=r.data.error)})},r.isLoggedIn()&&t.path("/welcome")}angular.module("nbaslp").controller("signupCtrl",r),r.$inject=["authentication","$location"]}();
"use strict";!function(){function r(r,o){var n=this;n.user={email:"",password:""},r.isLoggedIn()?o.path("/welcome"):(n.login=function(){n.user.email&&n.user.password?(n.loginError=!1,n.doLogin()):(n.loginError=!0,n.loginErrorMsg="Error! all * fields are required")},n.doLogin=function(){r.signIn(n.user).error(function(r){n.loginError=!0,n.loginErrorMsg=r.error}).then(function(){o.path("/welcome")})})}angular.module("nbaslp").controller("signinCtrl",r),r.$inject=["authentication","$location"]}();
"use strict";!function(){function r(r,e,a,o,t){var n=this;function c(r){o.updateUserStatus(r).then(function(r){!0===r.data.updated?(n.statusUpdateError=!1,t.reload()):(n.basicAccountInfoError=!0,n.basicAccountInfoErrorMsg=r.data.error)}).catch(function(r){n.statusUpdateError=!0,n.basicAccountInfoErrorMsg=r})}n.resetpassword={password:"",repeat_password:"",new_password:""},n.resetPassword=function(){o.resetPassword(e.currentUser().email,n.resetpassword).then(function(r){r.data.error?(n.resetPasswordError=!0,n.resetPasswordErrorMsg=r.data.error):(n.resetPasswordError=!1,n.resetSuccess=!0,setTimeout(function(){e.Logout(),t.reload()},200))}).catch(function(r){n.resetPasswordError=!0,n.resetPasswordErrorMsg=r})},e.isLoggedIn()?(n.currentAccountType=e.currentUser().accountType,"customer"===e.currentUser().accountType?(n.profileStatus=e.currentUser().accountStatus,n.codeReady=!1,n.basicProfileEditOn=!1,n.branchInfoEditOn=!1,n.sendActivationCode=function(){n.codeReady=!0,o.createActivationCode(e.currentUser().email).then(function(r){r.data.error?(n.activationCodeError=!0,n.activationCodeErrorMsg=r.data.error):(c({update_at:"profileActivationMail",email:e.currentUser().email,status:!0}),n.codeReady=!1,n.activationCodeError=!1)}).catch(function(r){n.activationCodeError=!0,n.activationCodeErrorMsg=r})},n.getProfileStatuses=function(){o.getAccountStatuses(e.currentUser().email).then(function(r){r.data.error?(n.statusLoadError=!0,n.statusLoadErrorMsg=r.data.error):(n.statusLoadError=!1,n.userStatuses=r.data.statuses)}).catch(function(r){n.statusLoadError=!0,n.statusLoadErrorMsg=r})},n.basicProfile={whos:e.currentUser().email,userId:e.currentUser().userId,formerName:"",sex:"",tele:"",address:""},n.saveBasicInfo=function(){o.saveBasicInfo(n.basicProfile).then(function(r){if(r.data.error)n.basicAccountInfoError=!0,n.basicAccountInfoErrorMsg=r.data.error;else{var a={update_at:"basic_info",email:e.currentUser().email,status:!0};o.updateUserStatus(a).then(function(r){!0===r.data.updated?(n.statusUpdateError=!1,t.reload()):(n.basicAccountInfoError=!0,n.basicAccountInfoErrorMsg=r.data.error)}).catch(function(r){n.statusUpdateError=!0,n.basicAccountInfoErrorMsg=r})}}).catch(function(r){})},n.branch={year:"",branch:""},n.saveBatchInfo=function(){o.saveBranchInfo(e.currentUser().email,n.branch).then(function(r){if(r.data.error)n.branchInfoError=!0,n.branchInfoErrorMsg=r.data.error;else if(r.data.success){n.branchInfoError=!1;var a={update_at:"branch",email:e.currentUser().email,status:!0};o.updateUserStatus(a).then(function(r){!0===r.data.updated?(n.branchInfoError=!1,t.reload()):(n.branchInfoError=!0,n.branchInfoErrorMsg=r.data.error)}).catch(function(r){n.branchInfoError=!0,n.branchInfoErrorMsg=r})}}).catch(function(r){n.branchInfoError=!0,n.branchInfoErrorMsg=r})},n.loadBasicInfo=function(r){o.loadUserInfo(r,e.currentUser().email).then(function(r){r.data.error?(n.userBasicInfoLoadingError=!0,n.userBasicInfoLoadingErrorMsg=r.data.error):(n.userBasicInfoLoadingError=!1,n.basicInfo=r.data.userInfo)}).catch(function(r){n.userBasicInfoLoadingError=!0,n.userBasicInfoLoadingErrorMsg=r})},n.editBasicInfo=function(r){n.basicProfileEditOn=!0,n.editBasic={name:n.basicInfo.formerName,sex:n.basicInfo.sex,address:n.basicInfo.address,tele:n.basicInfo.telephone},n.SaveEditBasicInfo=function(){o.editBasicInfo(r,n.editBasic).then(function(r){r.data.error?(n.editBasicInfoError=!0,n.editBasicInfoErrorMsg=r.data.error):(n.editBasicInfoError=!1,t.reload())}).catch(function(r){n.editBasicInfoError=!0,n.editBasicInfoErrorMsg=r})}},n.cancleBasicEdit=function(){n.basicProfileEditOn=!1},n.getCommittee=function(){o.getCommittee().then(function(r){n.committees=r.data.committee}).catch(function(r){console.log(r)})},n.loadUserBranch=function(r){o.loadUserInfo(r,e.currentUser().email).then(function(r){r.data.error?(n.userInfoLoadingError=!0,n.userInfoLoadingErrorMsg=r.data.error):(n.userInfoLoadingError=!1,n.branchInfo=r.data.userInfo)}).catch(function(r){n.userInfoLoadingError=!0,n.userInfoLoadingErrorMsg=r})},n.editBranchInfo=function(r){n.branchInfoEditOn=!0,n.editBranch={baryear:n.branchInfo.barYear,branch:n.branchInfo.nbaBranch},n.saveEditBranchInfo=function(){o.editBranchInfo(r,n.editBranch).then(function(r){r.data.error?(n.editBranchInfoError=!0,n.editBranchInfoErrorMsg=r.data.error):(n.editBranchInfoError=!1,t.reload())}).catch(function(r){n.editBranchInfoError=!0,n.editBranchInfoErrorMsg=r})}},n.cancelEditBranchInfo=function(){n.branchInfoEditOn=!1},n.activation={code:""},n.activeProfile=function(){o.validateActivationCode(e.currentUser().email,n.activation.code).then(function(r){r.data.error?(n.ActivationError=!0,n.ActivationErrorMsg=r.data.error):r.data.success&&(n.activationSuccess=!0,setTimeout(function(){e.Logout(),t.reload()},3e3))}).catch(function(r){n.ActivationError=!0,n.ActivationErrorMsg=r})},n.bankTellerInfo={preferredCommittee:"",additional_committee:"",whos:e.currentUser().email,userId:e.currentUser().accountId,tellerDoc:r.tellerDoc},n.saveBankTellerInfo=function(){n.bankTellerInfo.preferredCommittee&&n.bankTellerInfo.additional_committee?(console.log(n.bankTellerInfo),o.uploadTellerDocs(r.tellerDoc,e.currentUser().accountId).then(function(r){!1===r.data.success?(n.saveTellerError=!0,n.saveTellerErrorMsg=r.data.error):!0===r.data.success&&(n.bankTellerInfo.tellerDoc=r.data.docLocation,o.saveBankTeller(n.bankTellerInfo).then(function(r){r.data.error?(n.saveTellerError=!0,n.saveTellerErrorMsg=r.data.error):(c({update_at:"bankteller",email:e.currentUser().email,status:!0}),t.reload())}).catch(function(r){n.saveTellerError=!0,n.saveTellerErrorMsg=r}))}).catch(function(r){n.saveTellerError=!0,n.saveTellerErrorMsg=r})):(n.saveTellerError=!0,n.saveTellerErrorMsg="All * fiends are required. Must not be empty")},n.getCurrentBankTeller=function(){o.getBankTeller(e.currentUser().email).then(function(r){r.data.error?(n.bankTellerLoadingError=!0,n.bankTellerLoadingErrorMsg=r.data.error):(n.bankTellerLoadingError=!1,n.userBankTeller=r.data.bankTeller)}).catch(function(r){n.bankTellerLoadingError=!0,n.bankTellerLoadingErrorMsg=r})}):e.currentUser().accountType):a.path("/signin")}angular.module("nbaslp").controller("profileCtrl",r),r.$inject=["$scope","authentication","$location","account","$route"]}();
"use strict";!function(){function n(n,t){}angular.module("nbaslp").controller("welcomeCtrl",n),n.$inject=["authentication","$location"]}();
"use strict";!function(){function r(r,e){var s=this;s.checkUserForm=!0,s.PasswordresetForm=!1,s.verifyAjaxLoader=!1,s.showPassResetForm=!1,s.checkingRoute=function(){e.current.params&&"forgot_password"===e.current.params.v?(s.PasswordresetForm=!1,s.user={email:""},s.checkUser=function(){r.checkUser(s.user).then(function(r){r.data.error?(s.userCheckingError=!0,s.userCheckingErrorMsg=r.data.error):r.data.security?(s.userCheckingError=!0,s.userCheckingErrorMsg="If you have account with us, we have sent you password reset link"):s.userCheckingError=!1}).catch(function(r){s.userCheckingError=!0,s.userCheckingErrorMsg=r})}):e.current.params&&e.current.params.r&&e.current.params.u&&(s.PasswordresetForm=!0,s.checkUserForm=!1,s.verifyAjaxLoader=!0,s.varifyUserDetails(),s.changePasswordInfo={key:e.current.params.r,user:e.current.params.u,newpassword:"",repeatpassword:""},s.changePassword=function(){r.changePassword(s.changePasswordInfo).then(function(r){console.log(r),r.data.error?(s.changePassError=!0,s.changePassErrorMsg=r.data.error):s.changePassError=!1}).catch(function(r){s.changePassError=!0,s.changePassErrorMsg=r})})},s.varifyUserDetails=function(){r.countUser(e.current.params.u).then(function(a){a.data.error?(s.userVerificationUserError=!0,s.userVerificationUserErrorMsg=a.data.error,s.verifyAjaxLoader=!1):r.verifyKey(e.current.params.u,e.current.params.r).then(function(r){r.data.error?(s.userVerificationUserError=!0,s.userVerificationUserErrorMsg=r.data.error):(s.userVerificationUserError=!1,s.showPassResetForm=!0,s.verifyAjaxLoader=!1)}).catch(function(r){s.userVerificationUserError=!0,s.userVerificationUserErrorMsg=r})}).catch(function(r){s.userVerificationUserError=!0,s.userVerificationUserErrorMsg=r,s.verifyAjaxLoader=!1})}}angular.module("nbaslp").controller("helpCtrl",r),r.$inject=["authentication","$route"]}();
"use strict";!function(){function t(t,o,e){var r=this;t.isLoggedIn()?"admin"===t.currentUser().accountType?(r.committee={name:""},r.addPreferredCommittee=function(){e.addPreferredCommittee(r.committee).then(function(t){t.data.error?(r.addCommitteeError=!0,r.addCommitteeErrorMsg=t.data.error):(r.addCommitteeError=!1,r.addCommitteeSuccessMsg="Committee successfully added",setTimeout(function(){r.showCommittee()},200))}).catch(function(t){r.addCommitteeError=!0,r.addCommitteeErrorMsg=t})},r.showCommittee=function(){e.showAllCommittee().then(function(t){t.data.error?(r.committeeError=!0,r.committeeErrorMsg=t.data.error):(r.committeeError=!1,r.committeeList=t.data.committee)}).catch(function(t){r.committeeError=!0,r.committeeErrorMsg=t})},r.removeList=function(t){e.removeCommittee(t).then(function(t){t.data.error?alert(t.data.error):setTimeout(function(){r.showCommittee()},100)}).catch(function(t){alert(t)})},r.council={name:""},r.addCouncilMember=function(){e.addCouncil(r.council).then(function(t){t.data.error?(r.councilAddError=!0,r.councilAddErrorMsg=t.data.error):(r.councilAddError=!1,setTimeout(function(){r.showCouncil()},100))}).catch(function(t){r.councilAddError=!0,r.councilAddErrorMsg=t})},r.showCouncil=function(){e.showCouncilMember().then(function(t){t.data.error?(r.councilShowError=!0,r.councilShowErrorMsg=t.data.error):(r.councilShowError=!1,r.councils=t.data.data)}).catch(function(t){r.councilShowError=!0,r.councilShowErrorMsg=t})},r.removeCouncil=function(t){e.removeCouncil(t).then(function(t){setTimeout(function(){r.showCouncil()},100)}).catch(function(t){alert(t)})},r.event={eventTitle:"",eventDetails:"",eventStarts:"",eventEnds:""},r.addEvent=function(){e.addEvent(r.event).then(function(t){t.data.error?(r.eventAddError=!0,r.eventAddErrorMsg=t.data.error):t.data.success&&(r.eventAddError=!1,r.eventAddSuccess=!0,setTimeout(function(){r.showEvent()},200))}).catch(function(t){r.eventAddError=!0,r.eventAddErrorMsg=t})},r.showEvent=function(){e.showEvent().then(function(t){t.data.error?(r.showEventError=!0,r.showEventErrorMsg=t.data.error):t.data.success&&(r.showEventError=!1,r.events=t.data.events)}).catch(function(t){r.showEventError=!0,r.showEventErrorMsg=t})},r.removeEvent=function(t){e.removeEvent(t).then(function(t){t.data.error?(r.showEventError=!0,r.showEventErrorMsg=t.data.error):t.data.success&&setTimeout(function(){r.showEvent()},100)}).catch(function(t){console.log(t)})}):o.path("/welcome"):o.path("/signin")}angular.module("nbaslp").controller("sitecontrollCtrl",t),t.$inject=["authentication","$location","sitecontroller"]}();
"use strict";$(document).ready(function(){$("#checkUser").focus()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImF1dGhlbnRpY2F0aW9uLnNlcnZpY2UuanMiLCJhY2NvdW50LnNlcnZpY2UuanMiLCJzaXRlLWNvbnRyb2xsZXIuc2VydmljZS5qcyIsInVzZXItY29udHJvbGxlci5zZXJ2aWNlLmpzIiwidXNlcmNvbnRyb2xsLmNvbnRyb2xsZXIuanMiLCJzdGFmZmNvbnRyb2xsZXIuY29udHJvbGxlci5qcyIsInN5c3RlbS5zZXJ2aWNlLmpzIiwibmF2LmRpcmVjdGl2ZS5qcyIsIm5hdi5jb250cm9sbGVyLmpzIiwiZm9vdGVyLmRpcmVjdGl2ZS5qcyIsImZpbGVNb2RlbC5kaXJlY3RpdmUuanMiLCJzaWRlYmFyLmRpcmVjdGl2ZS5qcyIsIndlbGNvbWUuY29udHJvbGxlci5qcyIsImNvbW1pdHRlZXMuY29udHJvbGxlci5qcyIsImNvdW5jaWxtZW1iZXJzLmNvbnRyb2xsZXIuanMiLCJldmVudHMuY29udHJvbGxlci5qcyIsImFib3V0dXMuY29udHJvbGxlci5qcyIsImNvbnRhY3R1cy5jb250cm9sbGVyLmpzIiwic2lnbnVwLmNvbnRyb2xsZXIuanMiLCJzaWduaW4uY29udHJvbGxlci5qcyIsInByb2ZpbGUuY29udHJvbGxlci5qcyIsImhlbHAuY29udHJvbGxlci5qcyIsInNpdGVjb250cm9sbC5jb250cm9sbGVyLmpzIiwic2l0ZS1vcHIuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImNvbmZpZyIsInRlbXBsYXRlVXJsIiwiJGxvY2F0aW9uUHJvdmlkZXIiLCJjb250cm9sbGVyIiwiY29udHJvbGxlckFzIiwid2hlbiIsImVuYWJsZWQiLCJodG1sNU1vZGUiLCJzYXZlVG9rZW4iLCIkd2luZG93IiwidG9rZW4iLCJsb2NhbFN0b3JhZ2UiLCJnZXRUb2tlbiIsImlzTG9nZ2VkSW4iLCJwYXlsb2FkIiwiSlNPTiIsInBhcnNlIiwiYXRvYiIsImNvdW50VXNlciIsInJlc3BvbnNlIiwiY2hhbmdlUGFzc3dvcmQiLCJjdXJyZW50VXNlciIsInNwbGl0IiwiYWNjb3VudFN0YXR1cyIsImFjY291bnRUeXBlIiwidXNlcklkIiwiX2lkIiwiYWNjb3VudElkIiwibmFtZSIsIkxvZ291dCIsInNpZ25VcCIsInVzZXIiLCIkaHR0cCIsInBvc3QiLCJzdWNjZXNzIiwiZGF0YSIsInNpZ25JbiIsImNoZWNrVXNlciIsInRoZW4iLCJoYW5kbGVTdWNjZXNzIiwidmVyaWZ5S2V5IiwiZ2V0IiwiY2F0Y2giLCJoYW5kbGVFcnJvciIsImtleSIsInJlbW92ZUl0ZW0iLCJhdXRoZW50aWNhdGlvbiIsInJlc2V0UGFzc3dvcmQiLCJyZXNldERhdGEiLCJjcmVhdGVBY3RpdmF0aW9uQ29kZSIsInVwbG9hZFRlbGxlckRvY3MiLCJmaWxlIiwiZmQiLCJhcHBlbmQiLCJpZGVudGl0eSIsImdldEFjY291bnRTdGF0dXNlcyIsInVwZGF0ZVVzZXJTdGF0dXMiLCJ2YWxpZGF0ZUFjdGl2YXRpb25Db2RlIiwiZ2V0Q29tbWl0dGVlIiwiY29kZSIsInNhdmVCYXNpY0luZm8iLCJ0cmFuc2Zvcm1SZXF1ZXN0IiwiaGVhZGVycyIsInVuZGVmaW5lZCIsImVkaXRCYXNpY0luZm8iLCJwdXQiLCJnZXRCYW5rVGVsbGVyIiwic2F2ZUJyYW5jaEluZm8iLCJlZGl0QnJhbmNoSW5mbyIsImxvYWRVc2VySW5mbyIsImNvbGxlY3Rpb25OYW1lIiwic2F2ZUJhbmtUZWxsZXIiLCJ0ZWxsZXIiLCJhY2NvdW50IiwiJGluamVjdCIsImFkZFByZWZlcnJlZENvbW1pdHRlZSIsInNob3dBbGxDb21taXR0ZWUiLCJhZGRDb3VuY2lsIiwicmVtb3ZlQ29tbWl0dGVlIiwiY29tbWl0dGVlSWQiLCJkZWxldGUiLCJyZW1vdmVDb3VuY2lsIiwiYWRkRXZlbnQiLCJldmVudCIsInNob3dDb3VuY2lsTWVtYmVyIiwicmVtb3ZlRXZlbnQiLCJjb3VuY2lsSWQiLCJzaG93RXZlbnQiLCJldmVudElkIiwic2l0ZWNvbnRyb2xsZXIiLCJzaG93TWVtYmVycyIsInNob3dTaW5nbGVNZW1iZXIiLCJtZW1iZXJJZCIsInNob3dNZW1iZXJCcmFuY2giLCJzaG93TWVtYmVyUHJvZmlsZSIsInVzZXJjb250cm9sbGVyIiwidXNlcnZtIiwiJHJvdXRlUGFyYW1zIiwibWVtYmVycyIsInNob3dNZW1iZXJFcnJvciIsInNob3dNZW1iZXJFcnJvck1zZyIsImVycm9yIiwiY2hlY2tSb3V0ZXMiLCJjbGlja2VkTWVtYmVyTmFtZSIsImVyciIsInYiLCJzaW5nbGVNZW1iZXIiLCJtZW1lYnJJZCIsInNpbmdsZU1lbWJlckxvYWRpbmdFcnJvck1zZyIsInNpbmdsZU1lbWJlckxvYWRpbmdFcnJvciIsImxvYWRVc2VyUHJvZmlsZSIsIm1lbWJlciIsInByb2ZpbGVMb2FkaW5nRXJyb3IiLCJtZW1iZXJQcm9maWxlIiwicHJvZmlsZSIsInByb2ZpbGVMb2FkaW5nRXJyb3JNc2ciLCJsb2FkVXNlckJyYW5jaCIsImJyYW5jaExvYWRpbmdFcnJvciIsImJyYW5jaExvYWRpbmdFcnJvck1zZyIsImxvYWRCYW5rVGVsbGVyIiwiYmFua1RlbGxlckxvYWRpbmdFcnJvck1zZyIsImJhbmtUZWxsZXJMb2FkaW5nRXJyb3IiLCJicmFuY2giLCJtZW1iZXJiYW5rVGVsbGVyIiwiYmFua1RlbGxlciIsInVzZXJjb250cm9sbEN0cmwiLCJzdGFmZkN0cmwiLCIkbG9jYXRpb24iLCJwYXRoIiwic2VuZENvbnRhY3RNZXNzYWdlIiwibWVzc2FnZSIsInN5c3RlbVNlcnZpY2UiLCJkaXJlY3RpdmUiLCJzaXRlTmF2IiwicmVzdHJpY3QiLCJuYXZDdHJsIiwibnZtIiwibG9nZ2VkSW5OYW1lIiwiY3VycmVudEFjY291bnRUeXBlIiwibG9nZ2VkSW5VcmkiLCJsb2dvdXQiLCJzaXRlRm9vdGVyIiwiZmlsZU1vZGVsIiwibGluayIsInNjb3BlIiwiJGVsZW1lbnQiLCJwYXJzZWRGaWxlU2V0dGVyIiwiJHBhcnNlIiwiYXR0cnMiLCJhc3NpZ24iLCJvbiIsIiRhcHBseSIsImZpbGVzIiwic2lkZUJhciIsImNvbW1pdHRlZXNDdHJsIiwiY3ZtIiwibG9hZENvbW1pdHRlZSIsImNvbW1pdHRlZUxvYWRpbmdFcnJvciIsImNvbW1pdHRlZXMiLCJjb21taXR0ZWUiLCJjb21taXR0ZWVMb2FkaW5nRXJyb3JNc2ciLCJjb3VuY2lsQ3RybCIsImNsdm0iLCJsb2FkQ291bmNpbE1lbWJlcnMiLCJjb25zb2xlIiwibG9nIiwiY291bmNpbHMiLCJldm0iLCJzaG93RXZlbnRzIiwiZXZlbnRMb2FkRXJyb3IiLCJldmVudHMiLCJldmVudExvYWRFcnJvck1zZyIsIm5vRXZlbnQiLCJsZW5ndGgiLCJldmVudHNDdHJsIiwiYWJvdXR1c0N0cmwiLCJjb250YWN0dXNDdHJsIiwiY29udGFjdCIsInRoaXMiLCJlbWFpbCIsImNvbnRhY3RVcyIsInNlbmRNZXNzYWdlRXJyb3JNc2ciLCJzZW5kTWVzc2FnZVN1Y2Nlc3MiLCJzZW5kTWVzc2FnZVN1Y2Nlc3NNc2ciLCJzZW5kTWVzc2FnZUVycm9yIiwic2lnbnVwQ3RybCIsInJlZ3ZtIiwibGFzdE5hbWUiLCJkaXNwbGF5TmFtZSIsInBhc3N3b3JkIiwiY29uZmlybVBhc3N3b3JkIiwicmVnaXN0ZXIiLCJSZWdpc3RyYXRpb25FcnJvck1zZyIsIlJlZ2lzdHJhdGlvbkVycm9yIiwic2lnbmluQ3RybCIsImx2bSIsImxvZ2luRXJyb3JNc2ciLCJsb2dpbkVycm9yIiwiZG9Mb2dpbiIsInByb3ZtIiwiJHNjb3BlIiwiJHJvdXRlIiwicmVzZXRwYXNzd29yZCIsInJlbG9hZCIsInVwZGF0ZU9iamVjdCIsInN0YXR1c1VwZGF0ZUVycm9yIiwiYmFzaWNBY2NvdW50SW5mb0Vycm9yTXNnIiwicmVwZWF0X3Bhc3N3b3JkIiwibmV3X3Bhc3N3b3JkIiwicmVzZXRQYXNzd29yZEVycm9yTXNnIiwicmVzZXRQYXNzd29yZEVycm9yIiwicmVzZXRTdWNjZXNzIiwic2V0VGltZW91dCIsInN0YXR1c1VwZGF0ZXIiLCJjb2RlUmVhZHkiLCJwcm9maWxlU3RhdHVzIiwiYWN0aXZhdGlvbkNvZGVFcnJvck1zZyIsImJhc2ljUHJvZmlsZUVkaXRPbiIsInVwZGF0ZWRTdGF0dXMiLCJ1cGRhdGVfYXQiLCJzdGF0dXMiLCJhY3RpdmF0aW9uQ29kZUVycm9yIiwiZ2V0UHJvZmlsZVN0YXR1c2VzIiwic3RhdHVzTG9hZEVycm9yTXNnIiwiYmFzaWNQcm9maWxlIiwid2hvcyIsInN0YXR1c0xvYWRFcnJvciIsInVzZXJTdGF0dXNlcyIsInN0YXR1c2VzIiwiYmFzaWNBY2NvdW50SW5mb0Vycm9yIiwiZm9ybWVyTmFtZSIsInNleCIsImFkZHJlc3MiLCJ1cGRhdGVkIiwiYnJhbmNoSW5mb0Vycm9yIiwiYnJhbmNoSW5mb0Vycm9yTXNnIiwieWVhciIsInNhdmVCYXRjaEluZm8iLCJ1c2VyQmFzaWNJbmZvTG9hZGluZ0Vycm9yTXNnIiwidXNlckJhc2ljSW5mb0xvYWRpbmdFcnJvciIsImJhc2ljSW5mbyIsImVkaXRCYXNpY0luZm9FcnJvck1zZyIsImVkaXRCYXNpY0luZm9FcnJvciIsImNhbmNsZUJhc2ljRWRpdCIsInVzZXJJbmZvIiwidXNlckluZm9Mb2FkaW5nRXJyb3IiLCJicmFuY2hJbmZvIiwidGVsZSIsInRlbGVwaG9uZSIsInVzZXJJbmZvTG9hZGluZ0Vycm9yTXNnIiwiZWRpdEJhc2ljIiwiYnJhbmNoSW5mb0VkaXRPbiIsInNhdmVFZGl0QnJhbmNoSW5mbyIsImVkaXRCcmFuY2hJbmZvRXJyb3JNc2ciLCJjYW5jZWxFZGl0QnJhbmNoSW5mbyIsImFjdGl2YXRpb25TdWNjZXNzIiwiYmFyeWVhciIsImJhclllYXIiLCJuYmFCcmFuY2giLCJlZGl0QnJhbmNoIiwiZWRpdEJyYW5jaEluZm9FcnJvciIsInByZWZlcnJlZENvbW1pdHRlZSIsInRlbGxlckRvYyIsInNhdmVCYW5rVGVsbGVySW5mbyIsImJhbmtUZWxsZXJJbmZvIiwiYWN0aXZhdGlvbiIsIkFjdGl2YXRpb25FcnJvciIsInNhdmVUZWxsZXJFcnJvciIsInNhdmVUZWxsZXJFcnJvck1zZyIsIkFjdGl2YXRpb25FcnJvck1zZyIsInVzZXJCYW5rVGVsbGVyIiwiYWRkaXRpb25hbF9jb21taXR0ZWUiLCJkb2NMb2NhdGlvbiIsImdldEN1cnJlbnRCYW5rVGVsbGVyIiwicHJvZmlsZUN0cmwiLCJ3ZWxjb21lQ3RybCIsImhlbHBDdHJsIiwiaHZtIiwiY2hlY2tVc2VyRm9ybSIsIlBhc3N3b3JkcmVzZXRGb3JtIiwidmVyaWZ5QWpheExvYWRlciIsInNob3dQYXNzUmVzZXRGb3JtIiwiY2hlY2tpbmdSb3V0ZSIsImN1cnJlbnQiLCJwYXJhbXMiLCJ1c2VyQ2hlY2tpbmdFcnJvck1zZyIsInNlY3VyaXR5IiwidXNlckNoZWNraW5nRXJyb3IiLCJyIiwidSIsImNoYW5nZVBhc3N3b3JkSW5mbyIsImNoYW5nZVBhc3NFcnJvciIsImNoYW5nZVBhc3NFcnJvck1zZyIsInVzZXJWZXJpZmljYXRpb25Vc2VyRXJyb3IiLCJ1c2VyVmVyaWZpY2F0aW9uVXNlckVycm9yTXNnIiwic2l0ZWNvbnRyb2xsQ3RybCIsImFkU2l0ZSIsImFkZENvbW1pdHRlZUVycm9yIiwiYWRkQ29tbWl0dGVlU3VjY2Vzc01zZyIsImFkZENvbW1pdHRlZUVycm9yTXNnIiwic2hvd0NvbW1pdHRlZSIsImNvbW1pdHRlZUxpc3QiLCJjb21taXR0ZWVFcnJvck1zZyIsImNvbW1pdHRlZUVycm9yIiwicmVtb3ZlTGlzdCIsImNvdW5jaWwiLCJhbGVydCIsImNvdW5jaWxBZGRFcnJvciIsImFkZENvdW5jaWxNZW1iZXIiLCJzaG93Q291bmNpbCIsImNvdW5jaWxTaG93RXJyb3IiLCJjb3VuY2lsU2hvd0Vycm9yTXNnIiwiZXZlbnRUaXRsZSIsImV2ZW50RGV0YWlscyIsImV2ZW50U3RhcnRzIiwiZXZlbnRBZGRFcnJvciIsImV2ZW50QWRkRXJyb3JNc2ciLCJldmVudEVuZHMiLCJzaG93RXZlbnRFcnJvciIsInNob3dFdmVudEVycm9yTXNnIiwiJCIsImRvY3VtZW50IiwicmVhZHkiLCJmb2N1cyJdLCJtYXBwaW5ncyI6IkFBUUEsY0FFQSxXQUNJQSxRQUNLQyxPQUFPLFVBQVcsYUFBYyxVQUFXLHFCQUdoREMsUUFB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U0FBQ0csR0FDbEJDLEVBQ0tKLFlBQVlHLEdBQ1psRCxLQUFLLFNBQUFuQixHQUNFQSxFQUFTZ0IsS0FBS2tFLE9BQ2RtTSxFQUFPc0IsZ0JBQWlCLEVBQ3hCdEIsRUFBT3VCLGtCQUFvQjVTLEVBQVNnQixLQUFLa0UsT0FFcENsRixFQUFTZ0IsS0FBS0QsU0FDbkJrTCxXQUFXLFdBQ1BvRixFQUFPak4sYUFDUixPQUdWN0MsTUFBTSxTQUFBOEQsR0FDSDRELFFBQVFDLElBQUk3RCxPQU14QnVCLEVBQVVDLEtBQUssWUFJbkJELEVBQVVDLEtBQUssV0E1TnZCbEksUUFDS0MsT0FBTyxVQUdad1MsV0FBQUEsbUJBQTRCQSxHQUU1QkEsRUFBU0EsU0FBaUJ6UCxpQkFBZ0JpRixZQUFXdEMsa0JBUnpEO2FDREN1TyxFQUFBQyxVQUFZQyxNQUFBLFdBRVBELEVBQUFBLGNBQWdCRSIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG58IHNldHRpbmcgdXAgZW50cnkgcG9pbnQgZm9yIGFuZ3VsYXIgZnJvbnQtZW5kXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5iYS1zbHAsIDIwMTdcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbihmdW5jdGlvbiAoKSB7XG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCduYmFzbHAnLCBbJ25nUmVzb3VyY2UnLCAnbmdSb3V0ZScsICc3MjBrYi5kYXRlcGlja2VyJ10pXG4gICAgICAgIC5jb25maWcoWyckcm91dGVQcm92aWRlcicsICckbG9jYXRpb25Qcm92aWRlcicsIGNvbmZpZ10pO1xuXG4gICAgZnVuY3Rpb24gY29uZmlnKCRyb3V0ZVByb3ZpZGVyLCAkbG9jYXRpb25Qcm92aWRlcikge1xuICAgICAgICAkcm91dGVQcm92aWRlclxuICAgICAgICAgICAgLndoZW4oJy8nLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdob21lL3dlbGNvbWUvd2VsY29tZS52aWV3Lmh0bWwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd3ZWxjb21lQ3RybCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnd3ZtJyxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAud2hlbignL2NvdW5jaWxtZW1iZXJzJywge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY291bmNpbG1lbWJlcnMvY291bmNpbG1lbWJlcnMudmlldy5odG1sJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnY291bmNpbEN0cmwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2Nsdm0nLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC53aGVuKCcvc2lnbnVwJywge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnc2lnbnVwL3NpZ251cC52aWV3Lmh0bWwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdzaWdudXBDdHJsJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdyZWd2bScsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLndoZW4oJy9zaWduaW4nLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdzaWduaW4vc2lnbmluLnZpZXcuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3NpZ25pbkN0cmwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2x2bScsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLndoZW4oJy9wcm9maWxlJywge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncHJvZmlsZS9wcm9maWxlLnZpZXcuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3Byb2ZpbGVDdHJsJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdwcm92bScsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLndoZW4oJy9oZWxwJywge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnaGVscC9oZWxwLnZpZXcuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2hlbHBDdHJsJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdodm0nLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC53aGVuKCcvc2l0ZWNvbnRyb2xsJywge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnYWRtaW4vc2l0ZWNvbnRyb2xsL3NpdGVjb250cm9sbC52aWV3Lmh0bWwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdzaXRlY29udHJvbGxDdHJsJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdhZFNpdGUnLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC53aGVuKCcvdXNlcmNvbnRyb2xsJywge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnYWRtaW4vdXNlcmNvbnRyb2xsL3VzZXJjb250cm9sbC52aWV3Lmh0bWwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd1c2VyY29udHJvbGxDdHJsJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICd1c2Vydm0nLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC53aGVuKCcvc3RhZmZjb250cm9sbCcsIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2FkbWluL3N0YWZmY29udHJvbGwvc3RhZmZjb250cm9sbC52aWV3Lmh0bWwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdzdGFmZkN0cmwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3N2bScsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLndoZW4oJy93ZWxjb21lJywge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnd2VsY29tZS93ZWxjb21lLnZpZXcuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3dlbGNvbWVDdHJsJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICd3dm0nLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC53aGVuKCcvY29tbWl0dGVlcycsIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbW1pdHRlZXMvY29tbWl0dGVlcy52aWV3Lmh0bWwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdjb21taXR0ZWVzQ3RybCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnY3ZtJyxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAud2hlbignL2V2ZW50cycsIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2V2ZW50cy9ldmVudHMudmlldy5odG1sJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnZXZlbnRzQ3RybCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnZXZtJyxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAud2hlbignL2Fib3V0dXMnLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhYm91dHVzL2Fib3V0dXMudmlldy5odG1sJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnYWJvdXR1c0N0cmwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2Fidm0nLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC53aGVuKCcvY29udGFjdHVzJywge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29udGFjdHVzL2NvbnRhY3R1cy52aWV3Lmh0bWwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdjb250YWN0dXNDdHJsJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdjdm0nLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgJGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKHtcbiAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgIH0pO1xuICAgIH1cbn0pKCk7XG4iLCIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCBhdXRoZW50aWNhdGlvbiBzZXJ2aWNlIFxufCBAYXV0aG9yOiBqYWhpZCBoYXF1ZSA8amFoaWQuaGFxdWVAeWFob28uY29tPlxufCBAY29weXJpZ2h0OiBuYmEtc2xwLCAyMDE3XG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnbmJhc2xwJylcbiAgICAuc2VydmljZSgnYXV0aGVudGljYXRpb24nLCBhdXRoZW50aWNhdGlvbik7XG5cbmF1dGhlbnRpY2F0aW9uLiRpbmplY3QgPSBbJyR3aW5kb3cnLCAnJGh0dHAnXTtcblxuZnVuY3Rpb24gYXV0aGVudGljYXRpb24oJHdpbmRvdywgJGh0dHApIHtcbi8vIHNhdmluZyB0b2tlbi5cbiAgICBjb25zdCBzYXZlVG9rZW4gPVx0ZnVuY3Rpb24gKHRva2VuKSB7XG4gICAgICAgICR3aW5kb3cubG9jYWxTdG9yYWdlWyduYmFzbHAnXSA9IHRva2VuO1xuICAgIH07XG5cbiAgICBjb25zdCBnZXRUb2tlbiA9XHRmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAkd2luZG93LmxvY2FsU3RvcmFnZVsnbmJhc2xwJ107XG4gICAgfTtcblxuICAgIGNvbnN0IGlzTG9nZ2VkSW4gPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHRva2VuID0gZ2V0VG9rZW4oKTtcbiAgICAgICAgbGV0IHBheWxvYWQ7XG5cbiAgICAgICAgaWYgKHRva2VuKSB7XG4gICAgICAgICAgICBwYXlsb2FkID0gdG9rZW4uc3BsaXQoJy4nKVsxXTtcbiAgICAgICAgICAgIHBheWxvYWQgPSAkd2luZG93LmF0b2IocGF5bG9hZCk7XG4gICAgICAgICAgICBwYXlsb2FkID0gSlNPTi5wYXJzZShwYXlsb2FkKTtcbiAgICAgICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGN1cnJlbnRVc2VyID0gKCkgPT4ge1xuICAgICAgICBpZiAoaXNMb2dnZWRJbikge1xuICAgICAgICAgICAgY29uc3QgdG9rZW4gPSBnZXRUb2tlbigpO1xuICAgICAgICAgICAgbGV0IHBheWxvYWQgPSB0b2tlbi5zcGxpdCgnLicpWzFdO1xuICAgICAgICAgICAgcGF5bG9hZCA9ICR3aW5kb3cuYXRvYihwYXlsb2FkKTtcbiAgICAgICAgICAgIHBheWxvYWQgPSBKU09OLnBhcnNlKHBheWxvYWQpO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVzZXJJZDogcGF5bG9hZC5faWQsXG4gICAgICAgICAgICAgICAgZW1haWw6IHBheWxvYWQuZW1haWwsXG4gICAgICAgICAgICAgICAgYWNjb3VudFN0YXR1czogcGF5bG9hZC5hY2NvdW50U3RhdHVzLFxuICAgICAgICAgICAgICAgIGFjY291bnRUeXBlOiBwYXlsb2FkLmFjY291bnRUeXBlLFxuICAgICAgICAgICAgICAgIGFjY291bnRJZDogcGF5bG9hZC51c2VySWQsXG4gICAgICAgICAgICAgICAgbmFtZTogcGF5bG9hZC5uYW1lLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBMb2dvdXQgPSAoKSA9PiB7XG4gICAgICAgICR3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ25iYXNscCcpO1xuICAgIH07XG5cbiAgICBjb25zdCBzaWduVXAgPSAodXNlcikgPT4ge1xuICAgICAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9zaWdudXAnLCB1c2VyKS5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICBzYXZlVG9rZW4oZGF0YS50b2tlbik7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBzaWduSW4gPSAodXNlcikgPT4ge1xuICAgICAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9zaWduaW4nLCB1c2VyKS5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICBzYXZlVG9rZW4oZGF0YS50b2tlbik7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBjaGVja1VzZXIgPSAoZGF0YSkgPT4ge1xuICAgICAgICByZXR1cm4gJGh0dHBcbiAgICAgICAgICAgIC5wb3N0KCcvYXBpL2NoZWNrdXNlcicsIGRhdGEpXG4gICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKTtcbiAgICB9O1xuXG4gICAgY29uc3QgY291bnRVc2VyID0gKHVzZXJJZCkgPT4ge1xuICAgICAgICByZXR1cm4gJGh0dHAgXG4gICAgICAgICAgICAuZ2V0KCcvYXBpLycgKyB1c2VySWQgKyAnL2NvdW50JylcbiAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgIH07XG5cbiAgICBjb25zdCB2ZXJpZnlLZXkgPSAodXNlcklkLCBrZXkpID0+IHtcbiAgICAgICAgcmV0dXJuICRodHRwXG4gICAgICAgICAgICAuZ2V0KCcvYXBpLycgKyB1c2VySWQgKyAnLycgKyBrZXkgKyAnL3ZlcmlmeScpXG4gICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKTtcbiAgICB9O1xuXG4gICAgY29uc3QgY2hhbmdlUGFzc3dvcmQgPSAoZGF0YSkgPT4ge1xuICAgICAgICByZXR1cm4gJGh0dHAgXG4gICAgICAgICAgICAucG9zdCgnL2FwaS9jaGFuZ2VwYXNzd29yZCcsIGRhdGEpXG4gICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlU3VjY2VzcyA9IChyZXNwb25zZSkgPT4gcmVzcG9uc2U7XG5cbiAgICBjb25zdCBoYW5kbGVFcnJvciA9IChyZXNwb25zZSkgPT4gcmVzcG9uc2U7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBjdXJyZW50VXNlcjogY3VycmVudFVzZXIsXG4gICAgICAgIHNhdmVUb2tlbjogc2F2ZVRva2VuLFxuICAgICAgICBnZXRUb2tlbjogZ2V0VG9rZW4sXG4gICAgICAgIGlzTG9nZ2VkSW46IGlzTG9nZ2VkSW4sXG4gICAgICAgIHNpZ25VcDogc2lnblVwLFxuICAgICAgICBzaWduSW46IHNpZ25JbixcbiAgICAgICAgY2hlY2tVc2VyOiBjaGVja1VzZXIsXG4gICAgICAgIGNvdW50VXNlcjogY291bnRVc2VyLFxuICAgICAgICB2ZXJpZnlLZXk6IHZlcmlmeUtleSxcbiAgICAgICAgY2hhbmdlUGFzc3dvcmQ6IGNoYW5nZVBhc3N3b3JkLFxuICAgICAgICBMb2dvdXQ6IExvZ291dCxcbiAgICB9O1xufVxuXG4iLCIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCBhY2NvdW50IHNlcnZpY2UgZm9yIGFwcFxufCBAYXV0aG9yOiBqYWhpZCBoYXF1ZSA8amFoaWQuaGFxdWVAeWFob28uY29tPlxufCBAY29weXJpZ2h0OiBuYmEtc2xwLCAyMDE3XG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4oZnVuY3Rpb24gKCkge1xuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbmJhc2xwJylcbiAgICAgICAgLnNlcnZpY2UoJ2FjY291bnQnLCBhY2NvdW50KTtcblxuICAgIGFjY291bnQuJGluamVjdCA9IFsnJHdpbmRvdycsICckaHR0cCddO1xuXG4gICAgZnVuY3Rpb24gYWNjb3VudCgkd2luZG93LCAkaHR0cCkge1xuXG4gICAgICAgIGNvbnN0IHJlc2V0UGFzc3dvcmQgPSAodXNlcklkLCByZXNldERhdGEpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cCBcbiAgICAgICAgICAgICAgICAucG9zdCgnL2FwaS8nICsgdXNlcklkICsgJy9yZXNldHBhc3N3b3JkJywgcmVzZXREYXRhKVxuICAgICAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBjcmVhdGVBY3RpdmF0aW9uQ29kZSA9ICh1c2VySWQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cCBcbiAgICAgICAgICAgICAgICAucG9zdCgnL2FwaS8nICsgdXNlcklkICsgJy9nZW5lcmF0ZXZhbGlkYXRpb25jb2RlJylcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgdmFsaWRhdGVBY3RpdmF0aW9uQ29kZSA9ICh1c2VySWQsIGNvZGUpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cCBcbiAgICAgICAgICAgICAgICAucG9zdCgnL2FwaS8nICsgdXNlcklkICsgJy8nICsgY29kZSArICcvdmFsaWRhdGUnKVxuICAgICAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBnZXRBY2NvdW50U3RhdHVzZXMgPSAodXNlcklkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAgXG4gICAgICAgICAgICAgICAgLmdldCgnL2FwaS8nICsgdXNlcklkICsgJy9zdGF0dXNlcycpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGdldENvbW1pdHRlZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cFxuICAgICAgICAgICAgICAgIC5nZXQoJy9hcGkvc2hvd2NvbW1pdHRlZScpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHVwZGF0ZVVzZXJTdGF0dXMgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwXG4gICAgICAgICAgICAgICAgLnBvc3QoJy9hcGkvdXNlcnN0YXR1cycsIGRhdGEpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHNhdmVCYXNpY0luZm8gPSAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwIFxuICAgICAgICAgICAgICAgIC5wb3N0KCcvYXBpL2NyZWF0ZWJhc2ljcHJvZmlsZScsIGRhdGEpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGVkaXRCYXNpY0luZm8gPSAodXNlcklkLCBkYXRhKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHBcbiAgICAgICAgICAgICAgICAucHV0KCcvYXBpLycgKyB1c2VySWQgKyAnL2VkaXRiYXNpY2luZm8nLCBkYXRhKVxuICAgICAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBzYXZlQnJhbmNoSW5mbyA9ICh1c2VySWQsIGRhdGEpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cFxuICAgICAgICAgICAgICAgIC5wb3N0KCcvYXBpLycgKyB1c2VySWQgKyAnL3NhdmVicmFuY2hpbmZvJywgZGF0YSlcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgZWRpdEJyYW5jaEluZm8gPSAodXNlcklkLCBkYXRhKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAgXG4gICAgICAgICAgICAgICAgLnB1dCgnL2FwaS8nICsgdXNlcklkICsgJy9icmFuY2gnLCBkYXRhKVxuICAgICAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCB1cGxvYWRUZWxsZXJEb2NzID0gKGZpbGUsIHVzZXJJZCkgPT4ge1xuICAgICAgICAgICAgdmFyIGZkID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgICAgICAgICBmZC5hcHBlbmQoJ3RlbGxlckRvYycsIGZpbGUpO1xuXG4gICAgICAgICAgICByZXR1cm4gJGh0dHBcbiAgICAgICAgICAgICAgICAucG9zdCgnL2FwaS9kb2N1cGxvYWQvJyArIHVzZXJJZCwgZmQsIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtUmVxdWVzdDogYW5ndWxhci5pZGVudGl0eSxcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogdW5kZWZpbmVkIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBzYXZlQmFua1RlbGxlciA9ICh0ZWxsZXIpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cFxuICAgICAgICAgICAgICAgIC5wb3N0KCcvYXBpL3NhdmViYW5rdGVsbGVyJywgdGVsbGVyKVxuICAgICAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBnZXRCYW5rVGVsbGVyID0gKHVzZXJJZCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwIFxuICAgICAgICAgICAgICAgIC5nZXQoJy9hcGkvJyArIHVzZXJJZCArICcvYmFua3RlbGxlcicpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qXG4gICAgICAgIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIHwgRm9sbG93aW5nIGZ1bmN0aW9uIHdpbGwgbG9hZCBhbGwgZGF0YSBmb3IgdXNlclxuICAgICAgICB8IGJhc2VkIG9uIGdpdmVuIHVzZXJFbWFpbCBhbmQgY29sbGVjdGlvbiBuYW1lXG4gICAgICAgIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICovXG4gICAgICAgIGNvbnN0IGxvYWRVc2VySW5mbyA9IChjb2xsZWN0aW9uTmFtZSwgdXNlcklkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAgXG4gICAgICAgICAgICAgICAgLmdldCgnL2FwaS8nICsgdXNlcklkICsgJy8nICsgY29sbGVjdGlvbk5hbWUgKyAnL3VzZXJpbmZvJylcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgaGFuZGxlU3VjY2VzcyA9IChyZXNwb25zZSkgPT4gcmVzcG9uc2U7XG5cbiAgICAgICAgY29uc3QgaGFuZGxlRXJyb3IgPSAocmVzcG9uc2UpID0+IHJlc3BvbnNlO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXNldFBhc3N3b3JkOiByZXNldFBhc3N3b3JkLFxuICAgICAgICAgICAgdXBsb2FkVGVsbGVyRG9jczogdXBsb2FkVGVsbGVyRG9jcyxcbiAgICAgICAgICAgIGNyZWF0ZUFjdGl2YXRpb25Db2RlOiBjcmVhdGVBY3RpdmF0aW9uQ29kZSxcbiAgICAgICAgICAgIHZhbGlkYXRlQWN0aXZhdGlvbkNvZGU6IHZhbGlkYXRlQWN0aXZhdGlvbkNvZGUsXG4gICAgICAgICAgICBnZXRBY2NvdW50U3RhdHVzZXM6IGdldEFjY291bnRTdGF0dXNlcyxcbiAgICAgICAgICAgIHVwZGF0ZVVzZXJTdGF0dXM6IHVwZGF0ZVVzZXJTdGF0dXMsXG4gICAgICAgICAgICBzYXZlQmFzaWNJbmZvOiBzYXZlQmFzaWNJbmZvLFxuICAgICAgICAgICAgZWRpdEJhc2ljSW5mbzogZWRpdEJhc2ljSW5mbyxcbiAgICAgICAgICAgIHNhdmVCcmFuY2hJbmZvOiBzYXZlQnJhbmNoSW5mbyxcbiAgICAgICAgICAgIGVkaXRCcmFuY2hJbmZvOiBlZGl0QnJhbmNoSW5mbyxcbiAgICAgICAgICAgIGxvYWRVc2VySW5mbzogbG9hZFVzZXJJbmZvLFxuICAgICAgICAgICAgZ2V0Q29tbWl0dGVlOiBnZXRDb21taXR0ZWUsXG4gICAgICAgICAgICBzYXZlQmFua1RlbGxlcjogc2F2ZUJhbmtUZWxsZXIsXG4gICAgICAgICAgICBnZXRCYW5rVGVsbGVyOiBnZXRCYW5rVGVsbGVyLFxuICAgICAgICB9O1xuICAgIH1cblxufSkoKTtcbiIsIi8qXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBzZXR0aW5nIHVwIHNlcnZpY2UgZm9yIHNpdGUtY29udHJvbGxlciBmb3IgYWRtaW5cbnwgQGF1dGhvcjogamFoaWQgaGFxdWUgPGphaGlkLmhhcXVlQHlhaG9vLmNvbT5cbnwgQGNvcHlyaWdodDogbmJhLXNscCwgMjAxOFxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbmJhc2xwJylcbiAgICAgICAgLnNlcnZpY2UoJ3NpdGVjb250cm9sbGVyJywgc2l0ZWNvbnRyb2xsZXIpO1xuXG4gICAgc2l0ZWNvbnRyb2xsZXIuJGluamVjdCA9IFsnJGh0dHAnXTtcblxuICAgIGZ1bmN0aW9uIHNpdGVjb250cm9sbGVyKCRodHRwKSB7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBhZGRQcmVmZXJyZWRDb21taXR0ZWUgPSAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwXG4gICAgICAgICAgICAgICAgLnBvc3QoJy9hcGkvY3JlYXRlY29tbWl0dGVlJywgZGF0YSlcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3Qgc2hvd0FsbENvbW1pdHRlZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cFxuICAgICAgICAgICAgICAgIC5nZXQoJy9hcGkvc2hvd2NvbW1pdHRlZScpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHJlbW92ZUNvbW1pdHRlZSA9IChjb21taXR0ZWVJZCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwIFxuICAgICAgICAgICAgICAgIC5kZWxldGUoJy9hcGkvJyArIGNvbW1pdHRlZUlkICsgJy9yZW1vdmVjb21taXR0ZWUnKVxuICAgICAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBhZGRDb3VuY2lsID0gKGRhdGEpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cCBcbiAgICAgICAgICAgICAgICAucG9zdCgnL2FwaS9jb3VuY2lsbWVtYmVyJywgZGF0YSlcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3Qgc2hvd0NvdW5jaWxNZW1iZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAgXG4gICAgICAgICAgICAgICAgLmdldCgnL2FwaS9zaG93Y291bmNpbCcpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHJlbW92ZUNvdW5jaWwgPSAoY291bmNpbElkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAgXG4gICAgICAgICAgICAgICAgLmRlbGV0ZSgnL2FwaS8nICsgY291bmNpbElkICsgJy9jb3VuY2lsJylcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgYWRkRXZlbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cCBcbiAgICAgICAgICAgICAgICAucG9zdCgnL2FwaS9ldmVudCcsIGV2ZW50KVxuICAgICAgICAgICAgICAgIC50aGVuKGhhbmRsZVN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBzaG93RXZlbnQgPSAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHBcbiAgICAgICAgICAgICAgICAuZ2V0KCcvYXBpL3Nob3dFdmVudCcpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHJlbW92ZUV2ZW50ID0gKGV2ZW50SWQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cFxuICAgICAgICAgICAgICAgIC5kZWxldGUoJy9hcGkvJyArIGV2ZW50SWQgKyAnL2V2ZW50JylcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgaGFuZGxlU3VjY2VzcyA9IChyZXNwb25zZSkgPT4gcmVzcG9uc2U7XG5cbiAgICAgICAgY29uc3QgaGFuZGxlRXJyb3IgPSAocmVzcG9uc2UpID0+IHJlc3BvbnNlO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhZGRQcmVmZXJyZWRDb21taXR0ZWU6IGFkZFByZWZlcnJlZENvbW1pdHRlZSxcbiAgICAgICAgICAgIHNob3dBbGxDb21taXR0ZWU6IHNob3dBbGxDb21taXR0ZWUsXG4gICAgICAgICAgICByZW1vdmVDb21taXR0ZWU6IHJlbW92ZUNvbW1pdHRlZSxcbiAgICAgICAgICAgIGFkZENvdW5jaWw6IGFkZENvdW5jaWwsXG4gICAgICAgICAgICBzaG93Q291bmNpbE1lbWJlcjogc2hvd0NvdW5jaWxNZW1iZXIsXG4gICAgICAgICAgICByZW1vdmVDb3VuY2lsOiByZW1vdmVDb3VuY2lsLFxuICAgICAgICAgICAgYWRkRXZlbnQ6IGFkZEV2ZW50LFxuICAgICAgICAgICAgc2hvd0V2ZW50OiBzaG93RXZlbnQsXG4gICAgICAgICAgICByZW1vdmVFdmVudDogcmVtb3ZlRXZlbnQsXG4gICAgICAgIH07XG5cbiAgICB9XG5cbn0pKCk7XG4iLCIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCB1c2VyIGNvbnRyb2xsZXIgc2VydmljZVxufCBAYXV0aG9yOiBqYWhpZCBoYXF1ZSA8amFoaWQuaGFxdWVAeWFob28uY29tPlxufCBAY29weXJpZ2h0OiBuYmEtc2xwLCAyMDE4XG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4oZnVuY3Rpb24gKCkge1xuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbmJhc2xwJylcbiAgICAgICAgLnNlcnZpY2UoJ3VzZXJjb250cm9sbGVyJywgdXNlcmNvbnRyb2xsZXIpO1xuXG4gICAgdXNlcmNvbnRyb2xsZXIuJGluamVjdCA9IFsnJGh0dHAnXTtcblxuICAgIGZ1bmN0aW9uIHVzZXJjb250cm9sbGVyKCRodHRwKSB7XG5cblxuICAgICAgICBjb25zdCBzaG93TWVtYmVycyA9ICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cFxuICAgICAgICAgICAgICAgIC5nZXQoJy9hcGkvbWVtYmVycycpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHNob3dTaW5nbGVNZW1iZXIgPSAobWVtYmVySWQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cCBcbiAgICAgICAgICAgICAgICAuZ2V0KCcvYXBpLycgKyBtZW1iZXJJZCArICcvbWVtYmVyJylcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3Qgc2hvd01lbWJlclByb2ZpbGUgPSAobWVtYmVySWQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cCBcbiAgICAgICAgICAgICAgICAuZ2V0KCcvYXBpLycgKyBtZW1iZXJJZCArICcvcHJvZmlsZScpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHNob3dNZW1iZXJCcmFuY2ggPSAobWVtYmVySWQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cCBcbiAgICAgICAgICAgICAgICAuZ2V0KCcvYXBpLycgKyBtZW1iZXJJZCArICcvYnJhbmNoJylcbiAgICAgICAgICAgICAgICAudGhlbihoYW5kbGVTdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgICAgIH07XG5cblxuICAgICAgICBjb25zdCBoYW5kbGVTdWNjZXNzID0gKHJlc3BvbnNlKSA9PiByZXNwb25zZTtcblxuICAgICAgICBjb25zdCBoYW5kbGVFcnJvciA9IChyZXNwb25zZSkgPT4gcmVzcG9uc2U7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNob3dNZW1iZXJzOiBzaG93TWVtYmVycyxcbiAgICAgICAgICAgIHNob3dTaW5nbGVNZW1iZXI6IHNob3dTaW5nbGVNZW1iZXIsXG4gICAgICAgICAgICBzaG93TWVtYmVyUHJvZmlsZTogc2hvd01lbWJlclByb2ZpbGUsXG4gICAgICAgICAgICBzaG93TWVtYmVyQnJhbmNoOiBzaG93TWVtYmVyQnJhbmNoLFxuICAgICAgICB9O1xuICAgIH1cblxufSkoKTsiLCIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCB1c2VyIGNvbnRyb2xsZXIgZm9yIHRoZSBhcHBcbnwgQGF1dGhvcjogamFoaWQgaGFxdWUgPGphaGlkLmhhcXVlQHlhaG9vLmNvbT5cbnwgQGNvcHlyaWdodDogbmJhLXNscCwgMjAxOFxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbmJhc2xwJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ3VzZXJjb250cm9sbEN0cmwnLCB1c2VyY29udHJvbGxDdHJsKTtcblxuICAgIHVzZXJjb250cm9sbEN0cmwuJGluamVjdCA9IFsndXNlcmNvbnRyb2xsZXInLCAnYWNjb3VudCcsICckcm91dGVQYXJhbXMnXTtcblxuICAgIGZ1bmN0aW9uIHVzZXJjb250cm9sbEN0cmwodXNlcmNvbnRyb2xsZXIsIGFjY291bnQsICRyb3V0ZVBhcmFtcykge1xuICAgICAgICBcbiAgICAgICAgY29uc3QgdXNlcnZtID0gdGhpcztcblxuICAgICAgICB1c2VyY29udHJvbGxlclxuICAgICAgICAgICAgLnNob3dNZW1iZXJzKClcbiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB1c2Vydm0uc2hvd01lbWJlckVycm9yID0gdHJ1ZTsgXG4gICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5zaG93TWVtYmVyRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yOyBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5tZW1iZXJzID0gcmVzcG9uc2UuZGF0YS5tZW1iZXJzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICB1c2Vydm0uc2hvd01lbWJlckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB1c2Vydm0uc2hvd01lbWJlckVycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgfSk7XG5cblxuICAgICAgICAvLyBpbml0aWFsIGZ1bmN0aW9uIHRvIGNoZWNrIHdoZXRoZXIgdXNlciBjbGlja2VkIGFueSBtZW1iZXIgbmFtZVxuICAgICAgICB1c2Vydm0uY2hlY2tSb3V0ZXMgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoJHJvdXRlUGFyYW1zLnYpIHtcbiAgICAgICAgICAgICAgICB1c2Vydm0uY2xpY2tlZE1lbWJlck5hbWUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdXNlcnZtLmNsaWNrZWRNZW1iZXJOYW1lID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cblxuICAgICAgICAvKlxuICAgICAgICB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICB8IEZvbGxvd2luZyBmdW5jdGlvbiB3aWxsIGdldCBpbmRpdmlkdWFsIG1lbWJlcidzXG4gICAgICAgIHwgZGV0YWlsc1xuICAgICAgICB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAqL1xuICAgICAgICB1c2Vydm0ubG9hZFVzZXJJbmZvID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbWVtZWJySWQgPSAkcm91dGVQYXJhbXMudjtcblxuICAgICAgICAgICAgdXNlcmNvbnRyb2xsZXJcbiAgICAgICAgICAgICAgICAuc2hvd1NpbmdsZU1lbWJlcihtZW1lYnJJZClcbiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2Vydm0uc2luZ2xlTWVtYmVyTG9hZGluZ0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5zaW5nbGVNZW1iZXJMb2FkaW5nRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcnZtLnNpbmdsZU1lbWJlckxvYWRpbmdFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcnZtLnNpbmdsZU1lbWJlciA9IHJlc3BvbnNlLmRhdGEubWVtYmVyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdXNlcnZtLnNpbmdsZU1lbWJlckxvYWRpbmdFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5zaW5nbGVNZW1iZXJMb2FkaW5nRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdXNlcnZtLmxvYWRVc2VyUHJvZmlsZSA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1lbWVicklkID0gJHJvdXRlUGFyYW1zLnY7XG5cbiAgICAgICAgICAgIHVzZXJjb250cm9sbGVyXG4gICAgICAgICAgICAgICAgLnNob3dNZW1iZXJQcm9maWxlKG1lbWVicklkKVxuICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5wcm9maWxlTG9hZGluZ0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5wcm9maWxlTG9hZGluZ0Vycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5wcm9maWxlTG9hZGluZ0Vycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2Vydm0ubWVtYmVyUHJvZmlsZSA9IHJlc3BvbnNlLmRhdGEucHJvZmlsZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5wcm9maWxlTG9hZGluZ0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdXNlcnZtLnByb2ZpbGVMb2FkaW5nRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdXNlcnZtLmxvYWRVc2VyQnJhbmNoID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbWVtZWJySWQgPSAkcm91dGVQYXJhbXMudjtcblxuICAgICAgICAgICAgdXNlcmNvbnRyb2xsZXJcbiAgICAgICAgICAgICAgICAuc2hvd01lbWJlckJyYW5jaChtZW1lYnJJZClcbiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2Vydm0uYnJhbmNoTG9hZGluZ0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5icmFuY2hMb2FkaW5nRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcnZtLmJyYW5jaExvYWRpbmdFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcnZtLm1lbWJlckJyYW5jaCA9IHJlc3BvbnNlLmRhdGEuYnJhbmNoO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdXNlcnZtLmJyYW5jaExvYWRpbmdFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5icmFuY2hMb2FkaW5nRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdXNlcnZtLmxvYWRCYW5rVGVsbGVyID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbWVtZWJySWQgPSAkcm91dGVQYXJhbXMudjtcblxuICAgICAgICAgICAgYWNjb3VudFxuICAgICAgICAgICAgICAgIC5nZXRCYW5rVGVsbGVyKG1lbWVicklkKVxuICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5iYW5rVGVsbGVyTG9hZGluZ0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5iYW5rVGVsbGVyTG9hZGluZ0Vycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5iYW5rVGVsbGVyTG9hZGluZ0Vycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2Vydm0ubWVtYmVyYmFua1RlbGxlciA9IHJlc3BvbnNlLmRhdGEuYmFua1RlbGxlcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHVzZXJ2bS5iYW5rVGVsbGVyTG9hZGluZ0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdXNlcnZtLmJhbmtUZWxsZXJMb2FkaW5nRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfVxuXG5cbn0pKCk7IiwiLypcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG58IHNldHRpbmcgdXAgc3RhZmYgY29udHJvbGxlciBmb3IgdGhlIGFwcFxufCBAYXV0aG9yOiBqYWhpZCBoYXF1ZSA8amFoaWQuaGFxdWVAeWFob28uY29tPlxufCBAY29weXJpZ2h0OiBuYmEtc2xwLCAyMDE4XG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4oZnVuY3Rpb24gKCkge1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCduYmFzbHAnKVxuICAgICAgICAuY29udHJvbGxlcignc3RhZmZDdHJsJywgc3RhZmZDdHJsKTtcblxuICAgIHN0YWZmQ3RybC4kaW5qZWN0ID0gWydhdXRoZW50aWNhdGlvbicsICckbG9jYXRpb24nXTtcblxuICAgIGZ1bmN0aW9uIHN0YWZmQ3RybChhdXRoZW50aWNhdGlvbiwgJGxvY2F0aW9uKSB7ICAgIFx0XG4gICAgICAgIGNvbnN0IHN2bSA9IHRoaXM7XG4gICAgICAgXG4gICAgICAgIGlmIChhdXRoZW50aWNhdGlvbi5pc0xvZ2dlZEluKCkpIHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkuYWNjb3VudFR5cGUgPT09ICdhZG1pbicpIHtcblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy93ZWxjb21lJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL3NpZ25pbicpO1xuICAgICAgICB9XG4gICAgfVxuXG59KSgpOyIsIi8qXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBzZXR0aW5nIHVwIHN5c3RlbSBzZXJ2aWNlIGZvciB0aGUgYXBwXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5hYi1zbHAsIDIwMThcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbihmdW5jdGlvbiAoKSB7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25iYXNscCcpXG4gICAgICAgIC5zZXJ2aWNlKCdzeXN0ZW1TZXJ2aWNlJywgc3lzdGVtU2VydmljZSk7XG4gICAgICAgIFxuICAgIHN5c3RlbVNlcnZpY2UuJGluamVjdCA9IFsnJGh0dHAnXTtcblxuICAgIGZ1bmN0aW9uIHN5c3RlbVNlcnZpY2UoJGh0dHApIHtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHNlbmRDb250YWN0TWVzc2FnZSA9IChtZXNzYWdlKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHBcbiAgICAgICAgICAgICAgICAucG9zdCgnL2FwaS9zZW5kbWVzc2FnZScsIG1lc3NhZ2UpXG4gICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlU3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGhhbmRsZVN1Y2Nlc3MgPSAocmVzcG9uc2UpID0+IHJlc3BvbnNlO1xuXG4gICAgICAgIGNvbnN0IGhhbmRsZUVycm9yID0gKHJlc3BvbnNlKSA9PiByZXNwb25zZTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2VuZENvbnRhY3RNZXNzYWdlOiBzZW5kQ29udGFjdE1lc3NhZ2UsXG4gICAgICAgIH07XG4gICAgfVxuXG59KSgpOyIsIi8qXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBzZXR0aW5nIHVwIG5hdmlnYXRpb24gZGlyZWN0aXZlIGZvciB0aGUgYXBwXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5iYXNscCwgMjAxN1xufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25iYXNscCcpXG4gICAgICAgIC5kaXJlY3RpdmUoJ3NpdGVOYXYnLCBzaXRlTmF2KTtcblxuICAgIGZ1bmN0aW9uIHNpdGVOYXYoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tbW9uL2RpcmVjdGl2ZXMvbmF2L3NpdGUtbmF2LnRlbXBsYXRlLmh0bWwnLFxuICAgICAgICAgICAgY29udHJvbGxlcjogJ25hdkN0cmwgYXMgbnZtJyxcbiAgICAgICAgfTtcbiAgICB9XG59KSgpO1xuIiwiLypcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG58IHNldHRpbmcgdXAgY29udHJvbGxlciBmb3IgbmF2aWdhdGlvblxufCBAYXV0aG9yOiBqYWhpZCBoYXF1ZSA8amFoaWQuaGFxdWVAeWFob28uY29tPlxufCBAY29weXJpZ2h0OiBuYmFzbHAsIDIwMTdcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbihmdW5jdGlvbiAoKSB7XG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCduYmFzbHAnKVxuICAgICAgICAuY29udHJvbGxlcignbmF2Q3RybCcsIG5hdkN0cmwpO1xuXG4gICAgbmF2Q3RybC4kaW5qZWN0ID0gWydhdXRoZW50aWNhdGlvbicsICckbG9jYXRpb24nXTtcblxuICAgIGZ1bmN0aW9uIG5hdkN0cmwoYXV0aGVudGljYXRpb24sICRsb2NhdGlvbikge1xuICAgICAgICBjb25zdCBudm0gPSB0aGlzO1xuXG4gICAgICAgIGlmIChhdXRoZW50aWNhdGlvbi5pc0xvZ2dlZEluKCkpIHtcbiAgICAgICAgICAgIG52bS5sb2dnZWRJblVyaSA9IHRydWU7XG4gICAgICAgICAgICBudm0ubG9nZ2VkSW5OYW1lID0gYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5uYW1lO1xuICAgICAgICAgICAgbnZtLmN1cnJlbnRBY2NvdW50VHlwZSA9IGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkuYWNjb3VudFR5cGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBudm0ubG9nZ2VkSW5VcmkgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIG52bS5sb2dvdXQgPSAoKSA9PiB7XG4gICAgICAgICAgICBhdXRoZW50aWNhdGlvbi5Mb2dvdXQoKTtcbiAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvc2lnbmluJyk7XG4gICAgICAgIH07XG4gICAgfVxufSkoKTtcbiIsIi8qXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBzZXR0aW5nIHVwIGZvb3RlciBkaXJlY3RpdmUgZm9yIGFwcGxpY2F0aW9uXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5iYXNscCwgMjAxN1xufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25iYXNscCcpXG4gICAgICAgIC5kaXJlY3RpdmUoJ3NpdGVGb290ZXInLCBzaXRlRm9vdGVyKTtcbiAgICBmdW5jdGlvbiBzaXRlRm9vdGVyKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbW1vbi9kaXJlY3RpdmVzL2Zvb3Rlci9mb290ZXIudGVtcGxhdGUuaHRtbCcsXG4gICAgICAgIH07XG4gICAgfVxufSkoKTtcbiIsIi8qXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBzZXR0aW5nIHVwIGZpbGUgdXBsb2FkIGRpcmVjdGl2ZVxufCBAYXV0aG9yOiBqYWhpZCBoYXF1ZSA8amFoaWQuaGFxdWVAeWFob28uY29tPlxufCBAY29weXJpZ2h0OiBuY2xoYWxhbCwgMjAxN1xufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG4oZnVuY3Rpb24oKXtcblx0YW5ndWxhclxuXHRcdC5tb2R1bGUoJ25iYXNscCcpXG5cdFx0LmRpcmVjdGl2ZSgnZmlsZU1vZGVsJywgZmlsZU1vZGVsKTtcblxuXHRmaWxlTW9kZWwuJGluamVjdCA9IFsnJHBhcnNlJ107XG5cblx0ZnVuY3Rpb24gZmlsZU1vZGVsKCRwYXJzZSl7XG5cdFx0cmV0dXJuIHtcbiAgICAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgJGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgICAgICB2YXIgcGFyc2VkRmlsZSA9ICRwYXJzZShhdHRycy5maWxlTW9kZWwpO1xuICAgICAgICAgICAgdmFyIHBhcnNlZEZpbGVTZXR0ZXIgPSBwYXJzZWRGaWxlLmFzc2lnbjtcbiAgICAgICAgICAgICRlbGVtZW50Lm9uKCdjaGFuZ2UnLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICBwYXJzZWRGaWxlU2V0dGVyKHNjb3BlLCAkZWxlbWVudFswXS5maWxlc1swXSk7XG4gICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgfSxcbiAgICB9O1xuXHR9XG59KSgpO1xuIiwiLypcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG58IHNldHRpbmcgdXAgc2lkZWJhciBkaXJlY3RpdmUgZm9yIHRoZSBhcHBcbnwgQGF1dGhvcjogamFoaWQgaGFxdWUgPGphaGlkLmhhcXVlQHlhaG9vLmNvbT5cbnwgQGNvcHlyaWdodDogbmJhLXNscCwgMjAxOFxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25iYXNscCcpXG4gICAgICAgIC5kaXJlY3RpdmUoJ3NpZGVCYXInLCBzaWRlQmFyKTtcblxuICAgIGZ1bmN0aW9uIHNpZGVCYXIoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tbW9uL2RpcmVjdGl2ZXMvc2lkZWJhci9zaWRlYmFyLnRlbXBsYXRlLmh0bWwnLFxuICAgICAgICB9O1xuICAgIH1cbn0pKCk7IiwiLypcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG58IHNldHRpbmcgdXAgY29udHJvbGxlciBmb3Igd2VsY29tZSBwYWdlXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5iYXNscCwgMjAxN1xufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcbiAgICBcbiAgICBhbmd1bGFyIFxuICAgICAgICAubW9kdWxlKCduYmFzbHAnKVxuICAgICAgICAuY29udHJvbGxlcignd2VsY29tZUN0cmwnLCB3ZWxjb21lQ3RybCk7XG5cbiAgICB3ZWxjb21lQ3RybC4kaW5qZWN0ID0gWydhdXRoZW50aWNhdGlvbicsICckbG9jYXRpb24nXTtcblxuICAgIGZ1bmN0aW9uIHdlbGNvbWVDdHJsKGF1dGhlbnRpY2F0aW9uLCAkbG9jYXRpb24pIHtcbiAgICAgICAgY29uc3Qgd3ZtID0gdGhpcztcblxuICAgICAgICBcbiAgICB9XG5cbn0pKCk7XG4iLCIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCBjb21taXR0ZWVzIGZvciB0aGUgYXBwXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5iYS1zbHAsIDIwMThcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbihmdW5jdGlvbiAoKSB7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25iYXNscCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdjb21taXR0ZWVzQ3RybCcsIGNvbW1pdHRlZXNDdHJsKTtcblxuICAgIGNvbW1pdHRlZXNDdHJsLiRpbmplY3QgPSBbJ3NpdGVjb250cm9sbGVyJ107XG5cbiAgICBmdW5jdGlvbiBjb21taXR0ZWVzQ3RybChzaXRlY29udHJvbGxlcikge1xuICAgICAgICBjb25zdCBjdm0gPSB0aGlzO1xuXG4gICAgICAgIGN2bS5sb2FkQ29tbWl0dGVlID0gKCkgPT4ge1xuICAgICAgICAgICAgc2l0ZWNvbnRyb2xsZXJcbiAgICAgICAgICAgICAgICAuc2hvd0FsbENvbW1pdHRlZSgpXHRcbiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdm0uY29tbWl0dGVlTG9hZGluZ0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN2bS5jb21taXR0ZWVMb2FkaW5nRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3ZtLmNvbW1pdHRlZUxvYWRpbmdFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3ZtLmNvbW1pdHRlZXMgPSByZXNwb25zZS5kYXRhLmNvbW1pdHRlZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGN2bS5jb21taXR0ZWVMb2FkaW5nRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBjdm0uY29tbWl0dGVlTG9hZGluZ0Vycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG59KSgpOyIsIi8qXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBzZXR0aW5nIHVwIGNvdW5jaWxtZW1iZXJzIGNvbnRyb2xsZXIgZm9yIHRoZSBhcHBcbnwgQGF1dGhvcjogamFoaWQgaGFxdWUgPGphaGlkLmhhcXVlQHlhaG9vLmNvbT5cbnwgQGNvcHlyaWdodDogbmJhLXNscCwgMjAxOFxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbmJhc2xwJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ2NvdW5jaWxDdHJsJywgY291bmNpbEN0cmwpO1xuXG4gICAgY291bmNpbEN0cmwuJGluamVjdCA9IFsnc2l0ZWNvbnRyb2xsZXInXTtcblxuICAgIGZ1bmN0aW9uIGNvdW5jaWxDdHJsKHNpdGVjb250cm9sbGVyKSB7XG4gICAgICAgIGNvbnN0IGNsdm0gPSB0aGlzO1xuXG4gICAgICAgIGNsdm0ubG9hZENvdW5jaWxNZW1iZXJzID0gKCkgPT4ge1xuICAgICAgICAgICAgc2l0ZWNvbnRyb2xsZXJcbiAgICAgICAgICAgICAgICAuc2hvd0NvdW5jaWxNZW1iZXIoKVxuICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2x2bS5jb21taXR0ZWVMb2FkaW5nRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2x2bS5jb21taXR0ZWVMb2FkaW5nRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2x2bS5jb21taXR0ZWVMb2FkaW5nRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsdm0uY291bmNpbHMgPSByZXNwb25zZS5kYXRhLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjbHZtLmNvbW1pdHRlZUxvYWRpbmdFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGNsdm0uY29tbWl0dGVlTG9hZGluZ0Vycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgIH1cblxufSkoKTsiLCIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCBldmVudCBjb250cm9sbGVyIGZvciB0aGUgYXBwXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5iYS1zbHAsIDIwMThcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbihmdW5jdGlvbiAoKSB7XG4gICAgXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCduYmFzbHAnKVxuICAgICAgICAuY29udHJvbGxlcignZXZlbnRzQ3RybCcsIGV2ZW50c0N0cmwpO1xuXG4gICAgZXZlbnRzQ3RybC4kaW5qZWN0ID0gWydzaXRlY29udHJvbGxlciddO1xuXG4gICAgZnVuY3Rpb24gZXZlbnRzQ3RybChzaXRlY29udHJvbGxlcikge1xuXG4gICAgICAgIGNvbnN0IGV2bSA9IHRoaXM7XG5cbiAgICAgICAgZXZtLnNob3dFdmVudHMgPSAoKSA9PiB7XG4gICAgICAgICAgICBzaXRlY29udHJvbGxlclxuICAgICAgICAgICAgICAgIC5zaG93RXZlbnQoKVxuICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2bS5ldmVudExvYWRFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBldm0uZXZlbnRMb2FkRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZtLmV2ZW50TG9hZEVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBldm0uZXZlbnRzID0gcmVzcG9uc2UuZGF0YS5ldmVudHM7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldm0uZXZlbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldm0ubm9FdmVudCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZtLm5vRXZlbnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZXZtLmV2ZW50TG9hZEVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgZXZtLmV2ZW50TG9hZEVycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgIH1cblxufSkoKTsiLCIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCBhYm91dCB1cyBjb250cm9sbGVyIGZvciBhcHBcbnwgQGF1dGhvcjogamFoaWQgaGFxdWUgPGphaGlkLmhhcXVlQHlhaG9vLmNvbT5cbnwgQGNvcHlyaWdodDogbmJhLXNscCwgMjAxOFxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcbiAgICBcbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25iYXNscCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdhYm91dHVzQ3RybCcsIGFib3V0dXNDdHJsKTtcblxuICAgIGZ1bmN0aW9uIGFib3V0dXNDdHJsKCkge1xuICAgICAgICBjb25zdCBhYnZtID0gdGhpcztcbiAgICB9XG4gXG59KSgpOyIsIi8qXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBzZXR0aW5nIHVwIGNvbnRhY3QgY29udHJvbGxlciBmb3IgdGhlIGFwcFxufCBAYXV0aG9yOiBqYWhpZCBoYXF1ZSA8amFoaWQuaGFxdWVAeWFob28uY29tPlxufCBAY29weXJpZ2h0OiBuYmEtc2xwLCAyMDE4XG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4oZnVuY3Rpb24gKCkge1xuICAgIFxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbmJhc2xwJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ2NvbnRhY3R1c0N0cmwnLCBjb250YWN0dXNDdHJsKTtcblxuICAgIGNvbnRhY3R1c0N0cmwuJGluamVjdCA9IFsnc3lzdGVtU2VydmljZSddO1xuXG4gICAgZnVuY3Rpb24gY29udGFjdHVzQ3RybChzeXN0ZW1TZXJ2aWNlKSB7XG4gICAgICAgIGNvbnN0IGN2bSA9IHRoaXM7XG5cbiAgICAgICAgY3ZtLmNvbnRhY3QgPSB7XG4gICAgICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgICAgIGVtYWlsOiAnJyxcbiAgICAgICAgICAgIG1lc3NhZ2U6ICcnLFxuICAgICAgICB9O1xuXG4gICAgICAgIGN2bS5jb250YWN0VXMgPSAoKSA9PiB7XG4gICAgICAgICAgICBzeXN0ZW1TZXJ2aWNlXG4gICAgICAgICAgICAgICAgLnNlbmRDb250YWN0TWVzc2FnZShjdm0uY29udGFjdClcbiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdm0uc2VuZE1lc3NhZ2VFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdm0uc2VuZE1lc3NhZ2VFcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdm0uc2VuZE1lc3NhZ2VTdWNjZXNzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN2bS5zZW5kTWVzc2FnZVN1Y2Nlc3NNc2cgPSAnV2UgaGF2ZSByZWNlaXZlZCB5b3VyIG1lc3NhZ2UuIFdlIHdpbGwgYmUgaW4gdG91Y2ggd2l0aCB5b3Ugc29vbic7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjdm0uc2VuZE1lc3NhZ2VFcnJvciA9IHRydWU7XHRcbiAgICAgICAgICAgICAgICAgICAgY3ZtLnNlbmRNZXNzYWdlRXJyb3JNc2cgPSBlcnI7XHRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICB9XG5cbn0pKCk7IiwiLypcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG58IHNldHRpbmcgdXAgc2lnbnVwIGNvbnRyb2xsZXIgZm9yIHRoZSBhcHBcbnwgQGF1dGhvcjogamFoaWQgaGFxdWUgPGphaGlkLmhhcXVlQHlhaG9vLmNvbT5cbnwgQGNvcHlyaWdodDogbmJhc2xwLCAyMDE3XG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4oZnVuY3Rpb24gKCkge1xuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbmJhc2xwJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ3NpZ251cEN0cmwnLCBzaWdudXBDdHJsKTtcblxuICAgIHNpZ251cEN0cmwuJGluamVjdCA9IFsnYXV0aGVudGljYXRpb24nLCAnJGxvY2F0aW9uJ107XG5cbiAgICBmdW5jdGlvbiBzaWdudXBDdHJsKGF1dGhlbnRpY2F0aW9uLCAkbG9jYXRpb24pIHtcbiAgICAgICAgY29uc3QgcmVndm0gPSB0aGlzO1xuXG4gICAgICAgIC8vIHVzZXIgb2JqZWN0LlxuICAgICAgICByZWd2bS51c2VyID0ge1xuICAgICAgICAgICAgZmlyc3ROYW1lOiAnJyxcbiAgICAgICAgICAgIGxhc3ROYW1lOiAnJyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnJyxcbiAgICAgICAgICAgIGVtYWlsOiAnJyxcbiAgICAgICAgICAgIHBhc3N3b3JkOiAnJyxcbiAgICAgICAgICAgIGNvbmZpcm1QYXNzd29yZDogJycsXG4gICAgICAgIH07XG5cbiAgICAgICAgcmVndm0ucmVnaXN0ZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICBhdXRoZW50aWNhdGlvblxuICAgICAgICAgICAgICAgIC5zaWduVXAocmVndm0udXNlcilcbiAgICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ3ZtLlJlZ2lzdHJhdGlvbkVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ3ZtLlJlZ2lzdHJhdGlvbkVycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ3ZtLlJlZ2lzdHJhdGlvbkVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL3dlbGNvbWUnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVndm0uUmVnaXN0cmF0aW9uRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVndm0uUmVnaXN0cmF0aW9uRXJyb3JNc2cgPSBlcnIuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChhdXRoZW50aWNhdGlvbi5pc0xvZ2dlZEluKCkpIHtcbiAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvd2VsY29tZScpO1xuICAgICAgICB9XG4gICAgfVxufSkoKTtcbiIsIi8qXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBzZXR0aW5nIHVwIGNvbnRyb2xsZXIgZm9yIGxvZ2luIHBhZ2VcbnwgQGF1dGhvcjogamFoaWQgaGFxdWUgPGphaGlkLmhhcXVlQHlhaG9vLmNvbT5cbnwgQGNvcHlyaWdodDogbmJhc2xwLCAyMDE3XG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4oZnVuY3Rpb24gKCkge1xuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbmJhc2xwJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ3NpZ25pbkN0cmwnLCBzaWduaW5DdHJsKTtcblxuICAgIHNpZ25pbkN0cmwuJGluamVjdCA9IFsnYXV0aGVudGljYXRpb24nLCAnJGxvY2F0aW9uJ107XG5cbiAgICBmdW5jdGlvbiBzaWduaW5DdHJsKGF1dGhlbnRpY2F0aW9uLCAkbG9jYXRpb24pIHtcbiAgICAgICAgY29uc3QgbHZtID0gdGhpcztcblxuICAgICAgICBsdm0udXNlciA9IHtcbiAgICAgICAgICAgIGVtYWlsOiAnJyxcbiAgICAgICAgICAgIHBhc3N3b3JkOiAnJyxcbiAgICAgICAgfTsgXG5cbiAgICAgICAgaWYgKGF1dGhlbnRpY2F0aW9uLmlzTG9nZ2VkSW4oKSkge1xuICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy93ZWxjb21lJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsdm0ubG9naW4gPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFsdm0udXNlci5lbWFpbCB8fCAhbHZtLnVzZXIucGFzc3dvcmQpIHtcbiAgICAgICAgICAgICAgICAgICAgbHZtLmxvZ2luRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBsdm0ubG9naW5FcnJvck1zZyA9IGBFcnJvciEgYWxsICogZmllbGRzIGFyZSByZXF1aXJlZGA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsdm0ubG9naW5FcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBsdm0uZG9Mb2dpbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGx2bS5kb0xvZ2luID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0aW9uXG4gICAgICAgICAgICAgICAgICAgIC5zaWduSW4obHZtLnVzZXIpXG4gICAgICAgICAgICAgICAgICAgIC5lcnJvcigoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsdm0ubG9naW5FcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBsdm0ubG9naW5FcnJvck1zZyA9IGVyci5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy93ZWxjb21lJyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxufSkoKTtcbiIsIi8qXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBzZXR0aW5nIHVwIGNvbnRyb2xsZXIgZm9yIHByb2ZpbGUgcGFnZVxufCBAYXV0aG9yOiBqYWhpZCBoYXF1ZSA8amFoaWQuaGFxdWVAeWFob28uY29tPlxufCBAY29weXJpZ2h0OiBuYmEtc2xwLCAyMDE3XG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4oZnVuY3Rpb24gKCkge1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCduYmFzbHAnKVxuICAgICAgICAuY29udHJvbGxlcigncHJvZmlsZUN0cmwnLCBwcm9maWxlQ3RybCk7XG5cbiAgICBwcm9maWxlQ3RybC4kaW5qZWN0ID0gWyckc2NvcGUnLCAnYXV0aGVudGljYXRpb24nLCAnJGxvY2F0aW9uJywgJ2FjY291bnQnLCAnJHJvdXRlJ107XG5cbiAgICBmdW5jdGlvbiBwcm9maWxlQ3RybCgkc2NvcGUsIGF1dGhlbnRpY2F0aW9uLCAkbG9jYXRpb24sIGFjY291bnQsICRyb3V0ZSkge1xuXG4gICAgICAgIGNvbnN0IHByb3ZtID0gdGhpcztcblxuICAgICAgICBwcm92bS5yZXNldHBhc3N3b3JkID0ge1xuICAgICAgICAgICAgcGFzc3dvcmQ6ICcnLFxuICAgICAgICAgICAgcmVwZWF0X3Bhc3N3b3JkOiAnJyxcbiAgICAgICAgICAgIG5ld19wYXNzd29yZDogJycsXG4gICAgICAgIH07XG5cbiAgICAgICAgcHJvdm0ucmVzZXRQYXNzd29yZCA9ICgpID0+IHtcbiAgICAgICAgICAgIGFjY291bnRcbiAgICAgICAgICAgICAgICAucmVzZXRQYXNzd29yZChhdXRoZW50aWNhdGlvbi5jdXJyZW50VXNlcigpLmVtYWlsLCBwcm92bS5yZXNldHBhc3N3b3JkKVxuICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnJlc2V0UGFzc3dvcmRFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5yZXNldFBhc3N3b3JkRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0ucmVzZXRQYXNzd29yZEVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5yZXNldFN1Y2Nlc3MgPSB0cnVlOyBcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0aW9uLkxvZ291dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb3V0ZS5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDIwMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICBwcm92bS5yZXNldFBhc3N3b3JkRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBwcm92bS5yZXNldFBhc3N3b3JkRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgZnVuY3Rpb24gc3RhdHVzVXBkYXRlcih1cGRhdGVPYmplY3QpIHtcblxuICAgICAgICAgICAgLy8gY2FsbGluZyBzZXJ2aWNlIGZ1bmN0aW9uLlxuICAgICAgICAgICAgYWNjb3VudFxuICAgICAgICAgICAgICAgIC51cGRhdGVVc2VyU3RhdHVzKHVwZGF0ZU9iamVjdClcbiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnVwZGF0ZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnN0YXR1c1VwZGF0ZUVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAkcm91dGUucmVsb2FkKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5iYXNpY0FjY291bnRJbmZvRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYmFzaWNBY2NvdW50SW5mb0Vycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHByb3ZtLnN0YXR1c1VwZGF0ZUVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcHJvdm0uYmFzaWNBY2NvdW50SW5mb0Vycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGF1dGhlbnRpY2F0aW9uLmlzTG9nZ2VkSW4oKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBwcm92bS5jdXJyZW50QWNjb3VudFR5cGUgPSBhdXRoZW50aWNhdGlvbi5jdXJyZW50VXNlcigpLmFjY291bnRUeXBlO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBjaGVja2luZyBhY2NvdW50IHR5cGVcbiAgICAgICAgICAgIGlmIChhdXRoZW50aWNhdGlvbi5jdXJyZW50VXNlcigpLmFjY291bnRUeXBlID09PSAnY3VzdG9tZXInKSB7XG5cbiAgICAgICAgICAgICAgICBwcm92bS5wcm9maWxlU3RhdHVzID0gYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5hY2NvdW50U3RhdHVzO1xuXG4gICAgICAgICAgICAgICAgcHJvdm0uY29kZVJlYWR5ID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBwcm92bS5iYXNpY1Byb2ZpbGVFZGl0T24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBwcm92bS5icmFuY2hJbmZvRWRpdE9uID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgcHJvdm0uc2VuZEFjdGl2YXRpb25Db2RlID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBwcm92bS5jb2RlUmVhZHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBhY2NvdW50XG4gICAgICAgICAgICAgICAgICAgICAgICAuY3JlYXRlQWN0aXZhdGlvbkNvZGUoYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5lbWFpbClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5hY3RpdmF0aW9uQ29kZUVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYWN0aXZhdGlvbkNvZGVFcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkU3RhdHVzID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlX2F0OiAncHJvZmlsZUFjdGl2YXRpb25NYWlsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiBhdXRoZW50aWNhdGlvbi5jdXJyZW50VXNlcigpLmVtYWlsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNVcGRhdGVyKHVwZGF0ZWRTdGF0dXMpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmNvZGVSZWFkeSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmFjdGl2YXRpb25Db2RlRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYWN0aXZhdGlvbkNvZGVFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYWN0aXZhdGlvbkNvZGVFcnJvck1zZyA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvLyBnZXQgdXNlciBhY2NvdW50IHN0YXR1ZXMgXG4gICAgICAgICAgICAgICAgcHJvdm0uZ2V0UHJvZmlsZVN0YXR1c2VzID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBhY2NvdW50XG4gICAgICAgICAgICAgICAgICAgICAgICAuZ2V0QWNjb3VudFN0YXR1c2VzKGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkuZW1haWwpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uc3RhdHVzTG9hZEVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uc3RhdHVzTG9hZEVycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnN0YXR1c0xvYWRFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS51c2VyU3RhdHVzZXMgPSByZXNwb25zZS5kYXRhLnN0YXR1c2VzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5zdGF0dXNMb2FkRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnN0YXR1c0xvYWRFcnJvck1zZyA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvLyBzYXZpbmcgYmFzaWMgcHJvZmlsZSBpbmZvXG4gICAgICAgICAgICAgICAgcHJvdm0uYmFzaWNQcm9maWxlID0ge1xuICAgICAgICAgICAgICAgICAgICB3aG9zOiBhdXRoZW50aWNhdGlvbi5jdXJyZW50VXNlcigpLmVtYWlsLFxuICAgICAgICAgICAgICAgICAgICB1c2VySWQ6IGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkudXNlcklkLFxuICAgICAgICAgICAgICAgICAgICBmb3JtZXJOYW1lOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgc2V4OiAnJyxcbiAgICAgICAgICAgICAgICAgICAgdGVsZTogJycsXG4gICAgICAgICAgICAgICAgICAgIGFkZHJlc3M6ICcnLFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBwcm92bS5zYXZlQmFzaWNJbmZvID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBhY2NvdW50XG4gICAgICAgICAgICAgICAgICAgICAgICAuc2F2ZUJhc2ljSW5mbyhwcm92bS5iYXNpY1Byb2ZpbGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5iYXNpY0FjY291bnRJbmZvRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5iYXNpY0FjY291bnRJbmZvRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRTdGF0dXMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVfYXQ6ICdiYXNpY19pbmZvJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiBhdXRoZW50aWNhdGlvbi5jdXJyZW50VXNlcigpLmVtYWlsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNhbGxpbmcgc2VydmljZSBmdW5jdGlvbi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnVwZGF0ZVVzZXJTdGF0dXModXBkYXRlZFN0YXR1cylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS51cGRhdGVkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnN0YXR1c1VwZGF0ZUVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb3V0ZS5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJhc2ljQWNjb3VudEluZm9FcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJhc2ljQWNjb3VudEluZm9FcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnN0YXR1c1VwZGF0ZUVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5iYXNpY0FjY291bnRJbmZvRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHByb3ZtLmJyYW5jaCA9IHtcbiAgICAgICAgICAgICAgICAgICAgeWVhcjogJycsXG4gICAgICAgICAgICAgICAgICAgIGJyYW5jaDogJycsXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8vIGFkZGluZyBicmFuY2ggaW5mb1xuICAgICAgICAgICAgICAgIHByb3ZtLnNhdmVCYXRjaEluZm8gPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGFjY291bnRcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zYXZlQnJhbmNoSW5mbyhhdXRoZW50aWNhdGlvbi5jdXJyZW50VXNlcigpLmVtYWlsLCBwcm92bS5icmFuY2gpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYnJhbmNoSW5mb0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYnJhbmNoSW5mb0Vycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJyYW5jaEluZm9FcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZFN0YXR1cyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZV9hdDogJ2JyYW5jaCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5lbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjYWxsaW5nIHNlcnZpY2UgZnVuY3Rpb24uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC51cGRhdGVVc2VyU3RhdHVzKHVwZGF0ZWRTdGF0dXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEudXBkYXRlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5icmFuY2hJbmZvRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvdXRlLnJlbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYnJhbmNoSW5mb0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYnJhbmNoSW5mb0Vycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYnJhbmNoSW5mb0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5icmFuY2hJbmZvRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYnJhbmNoSW5mb0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5icmFuY2hJbmZvRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLy8gc2hvdyBiYXNpYyBpbmZvXG4gICAgICAgICAgICAgICAgcHJvdm0ubG9hZEJhc2ljSW5mbyA9IChjb2xsZWN0aW9uTmFtZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBhY2NvdW50XG4gICAgICAgICAgICAgICAgICAgICAgICAubG9hZFVzZXJJbmZvKGNvbGxlY3Rpb25OYW1lLCBhdXRoZW50aWNhdGlvbi5jdXJyZW50VXNlcigpLmVtYWlsKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnVzZXJCYXNpY0luZm9Mb2FkaW5nRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS51c2VyQmFzaWNJbmZvTG9hZGluZ0Vycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnVzZXJCYXNpY0luZm9Mb2FkaW5nRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYmFzaWNJbmZvID0gcmVzcG9uc2UuZGF0YS51c2VySW5mbztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0udXNlckJhc2ljSW5mb0xvYWRpbmdFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0udXNlckJhc2ljSW5mb0xvYWRpbmdFcnJvck1zZyA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvLyBlZGl0IGJhc2ljIGluZm9cbiAgICAgICAgICAgICAgICBwcm92bS5lZGl0QmFzaWNJbmZvID0gKHVzZXJJZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBwcm92bS5iYXNpY1Byb2ZpbGVFZGl0T24gPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgIHByb3ZtLmVkaXRCYXNpYyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHByb3ZtLmJhc2ljSW5mby5mb3JtZXJOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2V4OiBwcm92bS5iYXNpY0luZm8uc2V4LFxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzczogcHJvdm0uYmFzaWNJbmZvLmFkZHJlc3MsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZWxlOiBwcm92bS5iYXNpY0luZm8udGVsZXBob25lLFxuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIHByb3ZtLlNhdmVFZGl0QmFzaWNJbmZvID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5lZGl0QmFzaWNJbmZvKHVzZXJJZCwgcHJvdm0uZWRpdEJhc2ljKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmVkaXRCYXNpY0luZm9FcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5lZGl0QmFzaWNJbmZvRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uZWRpdEJhc2ljSW5mb0Vycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm91dGUucmVsb2FkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5lZGl0QmFzaWNJbmZvRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5lZGl0QmFzaWNJbmZvRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHByb3ZtLmNhbmNsZUJhc2ljRWRpdCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcHJvdm0uYmFzaWNQcm9maWxlRWRpdE9uID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHByb3ZtLmdldENvbW1pdHRlZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgLmdldENvbW1pdHRlZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uY29tbWl0dGVlcyA9IHJlc3BvbnNlLmRhdGEuY29tbWl0dGVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLy8gc2hvdyBicmFuY2ggaW5mb1xuICAgICAgICAgICAgICAgIHByb3ZtLmxvYWRVc2VyQnJhbmNoID0gKGNvbGxlY3Rpb25OYW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGFjY291bnRcbiAgICAgICAgICAgICAgICAgICAgICAgIC5sb2FkVXNlckluZm8oY29sbGVjdGlvbk5hbWUsIGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkuZW1haWwpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0udXNlckluZm9Mb2FkaW5nRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS51c2VySW5mb0xvYWRpbmdFcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS51c2VySW5mb0xvYWRpbmdFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5icmFuY2hJbmZvID0gcmVzcG9uc2UuZGF0YS51c2VySW5mbztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0udXNlckluZm9Mb2FkaW5nRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnVzZXJJbmZvTG9hZGluZ0Vycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIGVkaXQgYnJhbmNoIGluZm9cbiAgICAgICAgICAgICAgICBwcm92bS5lZGl0QnJhbmNoSW5mbyA9ICh1c2VySWQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcHJvdm0uYnJhbmNoSW5mb0VkaXRPbiA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgcHJvdm0uZWRpdEJyYW5jaCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhcnllYXI6IHByb3ZtLmJyYW5jaEluZm8uYmFyWWVhcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyYW5jaDogcHJvdm0uYnJhbmNoSW5mby5uYmFCcmFuY2gsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIC8vIGhhbmRsZSBmb3JtIHN1Ym1pc3Npb24gXG4gICAgICAgICAgICAgICAgICAgIHByb3ZtLnNhdmVFZGl0QnJhbmNoSW5mbyA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZWRpdEJyYW5jaEluZm8odXNlcklkLCBwcm92bS5lZGl0QnJhbmNoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmVkaXRCcmFuY2hJbmZvRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uZWRpdEJyYW5jaEluZm9FcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5lZGl0QnJhbmNoSW5mb0Vycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm91dGUucmVsb2FkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5lZGl0QnJhbmNoSW5mb0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uZWRpdEJyYW5jaEluZm9FcnJvck1zZyA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLy8gY2FuY2xlIGJyYW5jaCBpbmZvIGVkaXQuXG4gICAgICAgICAgICAgICAgcHJvdm0uY2FuY2VsRWRpdEJyYW5jaEluZm8gPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHByb3ZtLmJyYW5jaEluZm9FZGl0T24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICAgIHwgZm9sbG93aW5nIGZ1bmN0aW9uIHdpbGwgYWN0aXZlIHRoZSBwcm9maWxlIFxuICAgICAgICAgICAgICAgIHwgYmFzZWQgb24gZ2l2ZW4gY29kZVxuICAgICAgICAgICAgICAgIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBwcm92bS5hY3RpdmF0aW9uID0ge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiAnJyxcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgcHJvdm0uYWN0aXZlUHJvZmlsZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgLnZhbGlkYXRlQWN0aXZhdGlvbkNvZGUoYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5lbWFpbCwgcHJvdm0uYWN0aXZhdGlvbi5jb2RlKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLkFjdGl2YXRpb25FcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLkFjdGl2YXRpb25FcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5hY3RpdmF0aW9uU3VjY2VzcyA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2FsbGluZyB0aGUgbG9nb3V0IGZ1bmN0aW9uLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0aW9uLkxvZ291dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvdXRlLnJlbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAzMDAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uQWN0aXZhdGlvbkVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5BY3RpdmF0aW9uRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICAgIHwgRm9sbG93aW5nIGZ1bmN0aW9uIHdpbGwgaGFuZGxlIGJhbmsgdGVsbGVyIFxuICAgICAgICAgICAgICAgIHwgdXBsb2FkXG4gICAgICAgICAgICAgICAgfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHByb3ZtLmJhbmtUZWxsZXJJbmZvID0ge1xuICAgICAgICAgICAgICAgICAgICBwcmVmZXJyZWRDb21taXR0ZWU6ICcnLFxuICAgICAgICAgICAgICAgICAgICBhZGRpdGlvbmFsX2NvbW1pdHRlZTogJycsXG4gICAgICAgICAgICAgICAgICAgIHdob3M6IGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkuZW1haWwsXG4gICAgICAgICAgICAgICAgICAgIHVzZXJJZDogYXV0aGVudGljYXRpb24uY3VycmVudFVzZXIoKS5hY2NvdW50SWQsXG4gICAgICAgICAgICAgICAgICAgIHRlbGxlckRvYzogJHNjb3BlLnRlbGxlckRvYyxcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgcHJvdm0uc2F2ZUJhbmtUZWxsZXJJbmZvID0gKCkgPT4geyAgIFxuXG4gICAgICAgICAgICAgICAgICAgIGlmICghcHJvdm0uYmFua1RlbGxlckluZm8ucHJlZmVycmVkQ29tbWl0dGVlIHx8ICFwcm92bS5iYW5rVGVsbGVySW5mby5hZGRpdGlvbmFsX2NvbW1pdHRlZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uc2F2ZVRlbGxlckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnNhdmVUZWxsZXJFcnJvck1zZyA9ICdBbGwgKiBmaWVuZHMgYXJlIHJlcXVpcmVkLiBNdXN0IG5vdCBiZSBlbXB0eSc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHByb3ZtLmJhbmtUZWxsZXJJbmZvKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC51cGxvYWRUZWxsZXJEb2NzKCRzY29wZS50ZWxsZXJEb2MsIGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkuYWNjb3VudElkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnNhdmVUZWxsZXJFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5zYXZlVGVsbGVyRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEuc3VjY2VzcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uYmFua1RlbGxlckluZm8udGVsbGVyRG9jID0gcmVzcG9uc2UuZGF0YS5kb2NMb2NhdGlvbjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zYXZlQmFua1RlbGxlcihwcm92bS5iYW5rVGVsbGVySW5mbylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5zYXZlVGVsbGVyRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0uc2F2ZVRlbGxlckVycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRTdGF0dXMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlX2F0OiAnYmFua3RlbGxlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkuZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1c1VwZGF0ZXIodXBkYXRlZFN0YXR1cyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb3V0ZS5yZWxvYWQoKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnNhdmVUZWxsZXJFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnNhdmVUZWxsZXJFcnJvck1zZyA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnNhdmVUZWxsZXJFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLnNhdmVUZWxsZXJFcnJvck1zZyA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAgICAgfCBGb2xsb3dpbmcgZnVuY3Rpb24gd2lsbCBnZXQgbGF0ZXN0IGJhbmsgdGVsbGVyXG4gICAgICAgICAgICAgICAgfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHByb3ZtLmdldEN1cnJlbnRCYW5rVGVsbGVyID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBhY2NvdW50XG4gICAgICAgICAgICAgICAgICAgICAgICAuZ2V0QmFua1RlbGxlcihhdXRoZW50aWNhdGlvbi5jdXJyZW50VXNlcigpLmVtYWlsKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJhbmtUZWxsZXJMb2FkaW5nRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92bS5iYW5rVGVsbGVyTG9hZGluZ0Vycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJhbmtUZWxsZXJMb2FkaW5nRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdm0udXNlckJhbmtUZWxsZXIgPSByZXNwb25zZS5kYXRhLmJhbmtUZWxsZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJhbmtUZWxsZXJMb2FkaW5nRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZtLmJhbmtUZWxsZXJMb2FkaW5nRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChhdXRoZW50aWNhdGlvbi5jdXJyZW50VXNlcigpLmFjY291bnRUeXBlID09PSAnYWRtaW4nKSB7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvc2lnbmluJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbn0pKCk7XG4iLCIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgc2V0dGluZyB1cCBoZWxwIGNvbnRyb2xsZXIgZm9yIHRoZSBhcHBcbnwgQGF1dGhvcjogamFoaWQgaGFxdWUgPGphaGlkLmhhcXVlQHlhaG9vLmNvbT5cbnwgQGNvcHlyaWdodDogbmJhLXNscCwgMjAxOFxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5cbihmdW5jdGlvbiAoKSB7XG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCduYmFzbHAnKVxuICAgICAgICAuY29udHJvbGxlcignaGVscEN0cmwnLCBoZWxwQ3RybCk7XG5cbiAgICBoZWxwQ3RybC4kaW5qZWN0ID0gWydhdXRoZW50aWNhdGlvbicsICckcm91dGUnXTtcblxuICAgIGZ1bmN0aW9uIGhlbHBDdHJsKGF1dGhlbnRpY2F0aW9uLCAkcm91dGUpIHtcbiAgICAgICAgY29uc3QgaHZtID0gdGhpcztcblxuICAgICAgICBodm0uY2hlY2tVc2VyRm9ybSA9IHRydWU7XG4gICAgICAgIGh2bS5QYXNzd29yZHJlc2V0Rm9ybSA9IGZhbHNlO1xuICAgICAgICBodm0udmVyaWZ5QWpheExvYWRlciA9IGZhbHNlO1xuICAgICAgICBodm0uc2hvd1Bhc3NSZXNldEZvcm0gPSBmYWxzZTtcblxuICAgICAgICAvLyBjaGVja2luZyB0aGUgcm91dGUgdXJsXG4gICAgICAgIGh2bS5jaGVja2luZ1JvdXRlID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCRyb3V0ZS5jdXJyZW50LnBhcmFtcyAmJiAkcm91dGUuY3VycmVudC5wYXJhbXMudiA9PT0gJ2ZvcmdvdF9wYXNzd29yZCcpIHtcbiAgICAgICAgICAgICAgICBodm0uUGFzc3dvcmRyZXNldEZvcm0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBodm0udXNlciA9IHtcbiAgICAgICAgICAgICAgICAgICAgZW1haWw6ICcnLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgLy8gY2hlY2tpbmcgdXNlci5cbiAgICAgICAgICAgICAgICBodm0uY2hlY2tVc2VyID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgLmNoZWNrVXNlcihodm0udXNlcilcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodm0udXNlckNoZWNraW5nRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodm0udXNlckNoZWNraW5nRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXNwb25zZS5kYXRhLnNlY3VyaXR5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh2bS51c2VyQ2hlY2tpbmdFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh2bS51c2VyQ2hlY2tpbmdFcnJvck1zZyA9IGBJZiB5b3UgaGF2ZSBhY2NvdW50IHdpdGggdXMsIHdlIGhhdmUgc2VudCB5b3UgcGFzc3dvcmQgcmVzZXQgbGlua2A7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodm0udXNlckNoZWNraW5nRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaHZtLnVzZXJDaGVja2luZ0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBodm0udXNlckNoZWNraW5nRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoJHJvdXRlLmN1cnJlbnQucGFyYW1zICYmICRyb3V0ZS5jdXJyZW50LnBhcmFtcy5yICYmICRyb3V0ZS5jdXJyZW50LnBhcmFtcy51KSB7XG5cbiAgICAgICAgICAgICAgICBodm0uUGFzc3dvcmRyZXNldEZvcm0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIGh2bS5jaGVja1VzZXJGb3JtID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBodm0udmVyaWZ5QWpheExvYWRlciA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBodm0udmFyaWZ5VXNlckRldGFpbHMoKTtcblxuICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgICAgICB8IGNoYW5nZSBwYXNzd29yZCBmb3JtIHN1Ym1pdFxuICAgICAgICAgICAgICAgIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBodm0uY2hhbmdlUGFzc3dvcmRJbmZvID0ge1xuICAgICAgICAgICAgICAgICAgICBrZXk6ICRyb3V0ZS5jdXJyZW50LnBhcmFtcy5yLFxuICAgICAgICAgICAgICAgICAgICB1c2VyOiAkcm91dGUuY3VycmVudC5wYXJhbXMudSxcbiAgICAgICAgICAgICAgICAgICAgbmV3cGFzc3dvcmQ6ICcnLFxuICAgICAgICAgICAgICAgICAgICByZXBlYXRwYXNzd29yZDogJycsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBodm0uY2hhbmdlUGFzc3dvcmQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2hhbmdlUGFzc3dvcmQoaHZtLmNoYW5nZVBhc3N3b3JkSW5mbylcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHZtLmNoYW5nZVBhc3NFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh2bS5jaGFuZ2VQYXNzRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHZtLmNoYW5nZVBhc3NFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBodm0uY2hhbmdlUGFzc0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBodm0uY2hhbmdlUGFzc0Vycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9O1xuXG4gICAgICAgIGh2bS52YXJpZnlVc2VyRGV0YWlscyA9ICgpID0+IHtcbiAgICAgICAgICAgIGF1dGhlbnRpY2F0aW9uXG4gICAgICAgICAgICAgICAgLmNvdW50VXNlcigkcm91dGUuY3VycmVudC5wYXJhbXMudSlcbiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBodm0udXNlclZlcmlmaWNhdGlvblVzZXJFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBodm0udXNlclZlcmlmaWNhdGlvblVzZXJFcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHR1cm4gb2YgYWpheFxuICAgICAgICAgICAgICAgICAgICAgICAgaHZtLnZlcmlmeUFqYXhMb2FkZXIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vdyBjaGVjayB2ZXJpZnkgdGhlIGtleVxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudmVyaWZ5S2V5KCRyb3V0ZS5jdXJyZW50LnBhcmFtcy51LCAkcm91dGUuY3VycmVudC5wYXJhbXMucilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodm0udXNlclZlcmlmaWNhdGlvblVzZXJFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodm0udXNlclZlcmlmaWNhdGlvblVzZXJFcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodm0udXNlclZlcmlmaWNhdGlvblVzZXJFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHZtLnNob3dQYXNzUmVzZXRGb3JtID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh2bS52ZXJpZnlBamF4TG9hZGVyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodm0udXNlclZlcmlmaWNhdGlvblVzZXJFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh2bS51c2VyVmVyaWZpY2F0aW9uVXNlckVycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaHZtLnVzZXJWZXJpZmljYXRpb25Vc2VyRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBodm0udXNlclZlcmlmaWNhdGlvblVzZXJFcnJvck1zZyA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgaHZtLnZlcmlmeUFqYXhMb2FkZXIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICB9O1xuXG4gICAgfVxuXG59KSgpO1xuIiwiLypcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG58IHNldHRpbmcgdXAgY29udHJvbGxlciBmb3Igc2l0ZS1jb250cm9sbCBwYWdlXG58IEBhdXRob3I6IGphaGlkIGhhcXVlIDxqYWhpZC5oYXF1ZUB5YWhvby5jb20+XG58IEBjb3B5cmlnaHQ6IG5iYS1zbHAsIDIwMThcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbihmdW5jdGlvbiAoKSB7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25iYXNscCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdzaXRlY29udHJvbGxDdHJsJywgc2l0ZWNvbnRyb2xsQ3RybCk7XG5cbiAgICBzaXRlY29udHJvbGxDdHJsLiRpbmplY3QgPSBbJ2F1dGhlbnRpY2F0aW9uJywgJyRsb2NhdGlvbicsICdzaXRlY29udHJvbGxlciddO1xuXG4gICAgZnVuY3Rpb24gc2l0ZWNvbnRyb2xsQ3RybChhdXRoZW50aWNhdGlvbiwgJGxvY2F0aW9uLCBzaXRlY29udHJvbGxlcikge1xuICAgICAgICBjb25zdCBhZFNpdGUgPSB0aGlzO1xuXG4gICAgICAgXG4gICAgICAgIGlmIChhdXRoZW50aWNhdGlvbi5pc0xvZ2dlZEluKCkpIHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGF1dGhlbnRpY2F0aW9uLmN1cnJlbnRVc2VyKCkuYWNjb3VudFR5cGUgPT09ICdhZG1pbicpIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBhZFNpdGUuY29tbWl0dGVlID0ge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIC8vIGFkZCBjb21taXR0ZWVcbiAgICAgICAgICAgICAgICBhZFNpdGUuYWRkUHJlZmVycmVkQ29tbWl0dGVlID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzaXRlY29udHJvbGxlclxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZFByZWZlcnJlZENvbW1pdHRlZShhZFNpdGUuY29tbWl0dGVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5hZGRDb21taXR0ZWVFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5hZGRDb21taXR0ZWVFcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuYWRkQ29tbWl0dGVlRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmFkZENvbW1pdHRlZVN1Y2Nlc3NNc2cgPSAnQ29tbWl0dGVlIHN1Y2Nlc3NmdWxseSBhZGRlZCc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2V0IHRpbWUgb3V0IGFuZCBjYWxsIHNob3cgY29tbWl0dGVlIG1ldGhvZC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuc2hvd0NvbW1pdHRlZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAyMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuYWRkQ29tbWl0dGVlRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5hZGRDb21taXR0ZWVFcnJvck1zZyA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvLyBzaG93IGNvbW1pdHRlZVxuICAgICAgICAgICAgICAgIGFkU2l0ZS5zaG93Q29tbWl0dGVlID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzaXRlY29udHJvbGxlclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNob3dBbGxDb21taXR0ZWUoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5jb21taXR0ZWVFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5jb21taXR0ZWVFcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuY29tbWl0dGVlRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmNvbW1pdHRlZUxpc3QgPSByZXNwb25zZS5kYXRhLmNvbW1pdHRlZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmNvbW1pdHRlZUVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuY29tbWl0dGVlRXJyb3JNc2cgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLy8gcmVtb3ZlIGluZGl2aWR1YWwgY29tbWl0dGVlLlxuICAgICAgICAgICAgICAgIGFkU2l0ZS5yZW1vdmVMaXN0ID0gKGNvbW1pdHRlZUlkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNpdGVjb250cm9sbGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQ29tbWl0dGVlKGNvbW1pdHRlZUlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KHJlc3BvbnNlLmRhdGEuZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuc2hvd0NvbW1pdHRlZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGFkU2l0ZS5jb3VuY2lsID0ge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgYWRTaXRlLmFkZENvdW5jaWxNZW1iZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNpdGVjb250cm9sbGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ291bmNpbChhZFNpdGUuY291bmNpbClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuY291bmNpbEFkZEVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmNvdW5jaWxBZGRFcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmNvdW5jaWxBZGRFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5zaG93Q291bmNpbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuY291bmNpbEFkZEVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuY291bmNpbEFkZEVycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGFkU2l0ZS5zaG93Q291bmNpbCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2l0ZWNvbnRyb2xsZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zaG93Q291bmNpbE1lbWJlcigpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmNvdW5jaWxTaG93RXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuY291bmNpbFNob3dFcnJvck1zZyA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuY291bmNpbFNob3dFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuY291bmNpbHMgPSByZXNwb25zZS5kYXRhLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5jb3VuY2lsU2hvd0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuY291bmNpbFNob3dFcnJvck1zZyA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBhZFNpdGUucmVtb3ZlQ291bmNpbCA9IChjb3VuY2lsSWQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2l0ZWNvbnRyb2xsZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZW1vdmVDb3VuY2lsKGNvdW5jaWxJZClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLnNob3dDb3VuY2lsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgICAgICB8IGZvbGxvd2luZyBmdW5jdGlvbiB3aWxsIGFkZCBuZXcgZXZlbnQgaW50byB0aGVcbiAgICAgICAgICAgICAgICB8IGRhdGFiYXNlLlxuICAgICAgICAgICAgICAgIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBhZFNpdGUuZXZlbnQgPSB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50VGl0bGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICBldmVudERldGFpbHM6ICcnLFxuICAgICAgICAgICAgICAgICAgICBldmVudFN0YXJ0czogJycsXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50RW5kczogJycsXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGFkU2l0ZS5hZGRFdmVudCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIHNpdGVjb250cm9sbGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkRXZlbnQoYWRTaXRlLmV2ZW50KVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5ldmVudEFkZEVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmV2ZW50QWRkRXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXNwb25zZS5kYXRhLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmV2ZW50QWRkRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLmV2ZW50QWRkU3VjY2VzcyA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2V0IHRpbWUgb3V0IGFuZCBjYWxsIHNob3cgY29tbWl0dGVlIG1ldGhvZC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuc2hvd0V2ZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDIwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5ldmVudEFkZEVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuZXZlbnRBZGRFcnJvck1zZyA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBhZFNpdGUuc2hvd0V2ZW50ID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzaXRlY29udHJvbGxlclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNob3dFdmVudCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLnNob3dFdmVudEVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLnNob3dFdmVudEVycm9yTXNnID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5zaG93RXZlbnRFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuZXZlbnRzID0gcmVzcG9uc2UuZGF0YS5ldmVudHM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU2l0ZS5zaG93RXZlbnRFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTaXRlLnNob3dFdmVudEVycm9yTXNnID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGFkU2l0ZS5yZW1vdmVFdmVudCA9IChldmVudElkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNpdGVjb250cm9sbGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlRXZlbnQoZXZlbnRJZClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuc2hvd0V2ZW50RXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuc2hvd0V2ZW50RXJyb3JNc2cgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXNwb25zZS5kYXRhLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFNpdGUuc2hvd0V2ZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL3dlbGNvbWUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvc2lnbmluJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbn0pKCk7IiwiLypcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG58IHNldHRpbmcgdXAgc2l0ZSBvcHQgZmlsZSBmb3IganF1ZXJ5IGFuZCBqc1xufCBnZW5lcmFsIG9wZXJhdGlvblxufCBAYXV0aG9yOiBqYWhpZCBoYXF1ZSA8amFoaWQuaGFxdWVAeWFob28uY29tPlxufCBAY29weXJpZ2h0OiBuYmEtc2xwLCAyMDE4XG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuKi9cblxuKGZ1bmN0aW9uICgpIHtcblxuICAgICQoZG9jdW1lbnQpLnJlYWR5KCgpID0+IHtcbiAgICAgICAgXG4gICAgICAgICQoXCIjY2hlY2tVc2VyXCIpLmZvY3VzKCk7XG4gICAgfSk7XG59KSgpO1xuIl19
